var UL=Object.defineProperty;var BL=(t,e,n)=>e in t?UL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rs=(t,e,n)=>BL(t,typeof e!="symbol"?e+"":e,n);function HL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var XN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _3={exports:{}},L0={},A3={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=Symbol.for("react.element"),zL=Symbol.for("react.portal"),GL=Symbol.for("react.fragment"),$L=Symbol.for("react.strict_mode"),VL=Symbol.for("react.profiler"),WL=Symbol.for("react.provider"),qL=Symbol.for("react.context"),KL=Symbol.for("react.forward_ref"),YL=Symbol.for("react.suspense"),QL=Symbol.for("react.memo"),XL=Symbol.for("react.lazy"),JN=Symbol.iterator;function JL(t){return t===null||typeof t!="object"?null:(t=JN&&t[JN]||t["@@iterator"],typeof t=="function"?t:null)}var N3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T3=Object.assign,k3={};function du(t,e,n){this.props=t,this.context=e,this.refs=k3,this.updater=n||N3}du.prototype.isReactComponent={};du.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};du.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R3(){}R3.prototype=du.prototype;function mC(t,e,n){this.props=t,this.context=e,this.refs=k3,this.updater=n||N3}var vC=mC.prototype=new R3;vC.constructor=mC;T3(vC,du.prototype);vC.isPureReactComponent=!0;var ZN=Array.isArray,I3=Object.prototype.hasOwnProperty,yC={current:null},D3={key:!0,ref:!0,__self:!0,__source:!0};function P3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)I3.call(e,r)&&!D3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xh,type:t,key:s,ref:o,props:i,_owner:yC.current}}function ZL(t,e){return{$$typeof:Xh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xh}function eF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eT=/\/+/g;function vb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eF(""+t.key):e.toString(36)}function Ip(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xh:case zL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vb(o,0):r,ZN(i)?(n="",t!=null&&(n=t.replace(eT,"$&/")+"/"),Ip(i,e,n,"",function(u){return u})):i!=null&&(xC(i)&&(i=ZL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ZN(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+vb(s,a);o+=Ip(s,e,n,c,i)}else if(c=JL(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+vb(s,a++),o+=Ip(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fg(t,e,n){if(t==null)return t;var r=[],i=0;return Ip(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},Dp={transition:null},nF={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Dp,ReactCurrentOwner:yC};function j3(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Fg,forEach:function(t,e,n){Fg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fg(t,function(){e++}),e},toArray:function(t){return Fg(t,function(e){return e})||[]},only:function(t){if(!xC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=du;Ke.Fragment=GL;Ke.Profiler=VL;Ke.PureComponent=mC;Ke.StrictMode=$L;Ke.Suspense=YL;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nF;Ke.act=j3;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)I3.call(e,c)&&!D3.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xh,type:t.type,key:i,ref:s,props:r,_owner:o}};Ke.createContext=function(t){return t={$$typeof:qL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WL,_context:t},t.Consumer=t};Ke.createElement=P3;Ke.createFactory=function(t){var e=P3.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:KL,render:t}};Ke.isValidElement=xC;Ke.lazy=function(t){return{$$typeof:XL,_payload:{_status:-1,_result:t},_init:tF}};Ke.memo=function(t,e){return{$$typeof:QL,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=Dp.transition;Dp.transition={};try{t()}finally{Dp.transition=e}};Ke.unstable_act=j3;Ke.useCallback=function(t,e){return or.current.useCallback(t,e)};Ke.useContext=function(t){return or.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return or.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return or.current.useEffect(t,e)};Ke.useId=function(){return or.current.useId()};Ke.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return or.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};Ke.useRef=function(t){return or.current.useRef(t)};Ke.useState=function(t){return or.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return or.current.useTransition()};Ke.version="18.3.1";A3.exports=Ke;var M=A3.exports;const q=uu(M),rF=HL({__proto__:null,default:q},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iF=M,sF=Symbol.for("react.element"),oF=Symbol.for("react.fragment"),aF=Object.prototype.hasOwnProperty,lF=iF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cF={key:!0,ref:!0,__self:!0,__source:!0};function M3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aF.call(e,r)&&!cF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sF,type:t,key:s,ref:o,props:i,_owner:lF.current}}L0.Fragment=oF;L0.jsx=M3;L0.jsxs=M3;_3.exports=L0;var l=_3.exports,O3={exports:{}},Vr={},L3={exports:{}},F3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,pe){var te=X.length;X.push(pe);e:for(;0<te;){var ie=te-1>>>1,ue=X[ie];if(0<i(ue,pe))X[ie]=pe,X[te]=ue,te=ie;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var pe=X[0],te=X.pop();if(te!==pe){X[0]=te;e:for(var ie=0,ue=X.length,Ce=ue>>>1;ie<Ce;){var W=2*(ie+1)-1,se=X[W],ce=W+1,L=X[ce];if(0>i(se,te))ce<ue&&0>i(L,se)?(X[ie]=L,X[ce]=te,ie=ce):(X[ie]=se,X[W]=te,ie=W);else if(ce<ue&&0>i(L,te))X[ie]=L,X[ce]=te,ie=ce;else break e}}return pe}function i(X,pe){var te=X.sortIndex-pe.sortIndex;return te!==0?te:X.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,g=null,p=3,m=!1,y=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(X){for(var pe=n(u);pe!==null;){if(pe.callback===null)r(u);else if(pe.startTime<=X)r(u),pe.sortIndex=pe.expirationTime,e(c,pe);else break;pe=n(u)}}function A(X){if(x=!1,S(X),!y)if(n(c)!==null)y=!0,$(T);else{var pe=n(u);pe!==null&&le(A,pe.startTime-X)}}function T(X,pe){y=!1,x&&(x=!1,b(D),D=-1),m=!0;var te=p;try{for(S(pe),g=n(c);g!==null&&(!(g.expirationTime>pe)||X&&!O());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,p=g.priorityLevel;var ue=ie(g.expirationTime<=pe);pe=t.unstable_now(),typeof ue=="function"?g.callback=ue:g===n(c)&&r(c),S(pe)}else r(c);g=n(c)}if(g!==null)var Ce=!0;else{var W=n(u);W!==null&&le(A,W.startTime-pe),Ce=!1}return Ce}finally{g=null,p=te,m=!1}}var k=!1,I=null,D=-1,P=5,R=-1;function O(){return!(t.unstable_now()-R<P)}function z(){if(I!==null){var X=t.unstable_now();R=X;var pe=!0;try{pe=I(!0,X)}finally{pe?ae():(k=!1,I=null)}}else k=!1}var ae;if(typeof E=="function")ae=function(){E(z)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,G=Z.port2;Z.port1.onmessage=z,ae=function(){G.postMessage(null)}}else ae=function(){C(z,0)};function $(X){I=X,k||(k=!0,ae())}function le(X,pe){D=C(function(){X(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,$(T))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(X){switch(p){case 1:case 2:case 3:var pe=3;break;default:pe=p}var te=p;p=pe;try{return X()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var te=p;p=X;try{return pe()}finally{p=te}},t.unstable_scheduleCallback=function(X,pe,te){var ie=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ie+te:ie):te=ie,X){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=te+ue,X={id:f++,callback:pe,priorityLevel:X,startTime:te,expirationTime:ue,sortIndex:-1},te>ie?(X.sortIndex=te,e(u,X),n(c)===null&&X===n(u)&&(x?(b(D),D=-1):x=!0,le(A,te-ie))):(X.sortIndex=ue,e(c,X),y||m||(y=!0,$(T))),X},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(X){var pe=p;return function(){var te=p;p=pe;try{return X.apply(this,arguments)}finally{p=te}}}})(F3);L3.exports=F3;var Md=L3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uF=M,Hr=Md;function he(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U3=new Set,oh={};function Tl(t,e){Bc(t,e),Bc(t+"Capture",e)}function Bc(t,e){for(oh[t]=e,t=0;t<e.length;t++)U3.add(e[t])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ow=Object.prototype.hasOwnProperty,dF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tT={},nT={};function hF(t){return ow.call(nT,t)?!0:ow.call(tT,t)?!1:dF.test(t)?nT[t]=!0:(tT[t]=!0,!1)}function fF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gF(t,e,n,r){if(e===null||typeof e>"u"||fF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jn[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jn[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jn[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jn[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jn[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jn[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jn[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jn[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jn[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var bC=/[\-:]([a-z])/g;function wC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bC,wC);jn[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bC,wC);jn[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bC,wC);jn[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jn[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});jn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jn[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function SC(t,e,n,r){var i=jn.hasOwnProperty(e)?jn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gF(e,n,i,r)&&(n=null),r||i===null?hF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var no=uF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ug=Symbol.for("react.element"),gc=Symbol.for("react.portal"),pc=Symbol.for("react.fragment"),CC=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),B3=Symbol.for("react.provider"),H3=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),lw=Symbol.for("react.suspense"),cw=Symbol.for("react.suspense_list"),_C=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),z3=Symbol.for("react.offscreen"),rT=Symbol.iterator;function td(t){return t===null||typeof t!="object"?null:(t=rT&&t[rT]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,yb;function Ad(t){if(yb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yb=e&&e[1]||""}return`
`+yb+t}var xb=!1;function bb(t,e){if(!t||xb)return"";xb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{xb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ad(t):""}function pF(t){switch(t.tag){case 5:return Ad(t.type);case 16:return Ad("Lazy");case 13:return Ad("Suspense");case 19:return Ad("SuspenseList");case 0:case 2:case 15:return t=bb(t.type,!1),t;case 11:return t=bb(t.type.render,!1),t;case 1:return t=bb(t.type,!0),t;default:return""}}function uw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pc:return"Fragment";case gc:return"Portal";case aw:return"Profiler";case CC:return"StrictMode";case lw:return"Suspense";case cw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H3:return(t.displayName||"Context")+".Consumer";case B3:return(t._context.displayName||"Context")+".Provider";case EC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _C:return e=t.displayName||null,e!==null?e:uw(t.type)||"Memo";case To:e=t._payload,t=t._init;try{return uw(t(e))}catch{}}return null}function mF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uw(e);case 8:return e===CC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vF(t){var e=G3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bg(t){t._valueTracker||(t._valueTracker=vF(t))}function $3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dw(t,e){var n=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=la(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V3(t,e){e=e.checked,e!=null&&SC(t,"checked",e,!1)}function hw(t,e){V3(t,e);var n=la(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fw(t,e.type,n):e.hasOwnProperty("defaultValue")&&fw(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fw(t,e,n){(e!=="number"||sm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nd=Array.isArray;function Tc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+la(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(he(92));if(Nd(n)){if(1<n.length)throw Error(he(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:la(n)}}function W3(t,e){var n=la(e.value),r=la(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function q3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?q3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hg,K3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hg=Hg||document.createElement("div"),Hg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ah(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yF=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(t){yF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Od[e]=Od[t]})});function Y3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Od.hasOwnProperty(t)&&Od[t]?(""+e).trim():e+"px"}function Q3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xF=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mw(t,e){if(e){if(xF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function vw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yw=null;function AC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xw=null,kc=null,Rc=null;function lT(t){if(t=ef(t)){if(typeof xw!="function")throw Error(he(280));var e=t.stateNode;e&&(e=z0(e),xw(t.stateNode,t.type,e))}}function X3(t){kc?Rc?Rc.push(t):Rc=[t]:kc=t}function J3(){if(kc){var t=kc,e=Rc;if(Rc=kc=null,lT(t),e)for(t=0;t<e.length;t++)lT(e[t])}}function Z3(t,e){return t(e)}function e5(){}var wb=!1;function t5(t,e,n){if(wb)return t(e,n);wb=!0;try{return Z3(t,e,n)}finally{wb=!1,(kc!==null||Rc!==null)&&(e5(),J3())}}function lh(t,e){var n=t.stateNode;if(n===null)return null;var r=z0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var bw=!1;if(qs)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){bw=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{bw=!1}function bF(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Ld=!1,om=null,am=!1,ww=null,wF={onError:function(t){Ld=!0,om=t}};function SF(t,e,n,r,i,s,o,a,c){Ld=!1,om=null,bF.apply(wF,arguments)}function CF(t,e,n,r,i,s,o,a,c){if(SF.apply(this,arguments),Ld){if(Ld){var u=om;Ld=!1,om=null}else throw Error(he(198));am||(am=!0,ww=u)}}function kl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function n5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cT(t){if(kl(t)!==t)throw Error(he(188))}function EF(t){var e=t.alternate;if(!e){if(e=kl(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cT(i),t;if(s===r)return cT(i),e;s=s.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function r5(t){return t=EF(t),t!==null?i5(t):null}function i5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i5(t);if(e!==null)return e;t=t.sibling}return null}var s5=Hr.unstable_scheduleCallback,uT=Hr.unstable_cancelCallback,_F=Hr.unstable_shouldYield,AF=Hr.unstable_requestPaint,Yt=Hr.unstable_now,NF=Hr.unstable_getCurrentPriorityLevel,NC=Hr.unstable_ImmediatePriority,o5=Hr.unstable_UserBlockingPriority,lm=Hr.unstable_NormalPriority,TF=Hr.unstable_LowPriority,a5=Hr.unstable_IdlePriority,F0=null,ps=null;function kF(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(F0,t,void 0,(t.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:DF,RF=Math.log,IF=Math.LN2;function DF(t){return t>>>=0,t===0?32:31-(RF(t)/IF|0)|0}var zg=64,Gg=4194304;function Td(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Td(a):(s&=o,s!==0&&(r=Td(s)))}else o=n&~i,o!==0?r=Td(o):s!==0&&(r=Td(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mi(e),i=1<<n,r|=t[n],e&=~i;return r}function PF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Mi(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=PF(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Sw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function l5(){var t=zg;return zg<<=1,!(zg&4194240)&&(zg=64),t}function Sb(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mi(e),t[e]=n}function MF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function TC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ht=0;function c5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u5,kC,d5,h5,f5,Cw=!1,$g=[],Go=null,$o=null,Vo=null,ch=new Map,uh=new Map,Io=[],OF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dT(t,e){switch(t){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function rd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ef(e),e!==null&&kC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LF(t,e,n,r,i){switch(e){case"focusin":return Go=rd(Go,t,e,n,r,i),!0;case"dragenter":return $o=rd($o,t,e,n,r,i),!0;case"mouseover":return Vo=rd(Vo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ch.set(s,rd(ch.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uh.set(s,rd(uh.get(s)||null,t,e,n,r,i)),!0}return!1}function g5(t){var e=Ja(t.target);if(e!==null){var n=kl(e);if(n!==null){if(e=n.tag,e===13){if(e=n5(n),e!==null){t.blockedOn=e,f5(t.priority,function(){d5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ew(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yw=r,n.target.dispatchEvent(r),yw=null}else return e=ef(n),e!==null&&kC(e),t.blockedOn=n,!1;e.shift()}return!0}function hT(t,e,n){Pp(t)&&n.delete(e)}function FF(){Cw=!1,Go!==null&&Pp(Go)&&(Go=null),$o!==null&&Pp($o)&&($o=null),Vo!==null&&Pp(Vo)&&(Vo=null),ch.forEach(hT),uh.forEach(hT)}function id(t,e){t.blockedOn===e&&(t.blockedOn=null,Cw||(Cw=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,FF)))}function dh(t){function e(i){return id(i,t)}if(0<$g.length){id($g[0],t);for(var n=1;n<$g.length;n++){var r=$g[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Go!==null&&id(Go,t),$o!==null&&id($o,t),Vo!==null&&id(Vo,t),ch.forEach(e),uh.forEach(e),n=0;n<Io.length;n++)r=Io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Io.length&&(n=Io[0],n.blockedOn===null);)g5(n),n.blockedOn===null&&Io.shift()}var Ic=no.ReactCurrentBatchConfig,um=!0;function UF(t,e,n,r){var i=ht,s=Ic.transition;Ic.transition=null;try{ht=1,RC(t,e,n,r)}finally{ht=i,Ic.transition=s}}function BF(t,e,n,r){var i=ht,s=Ic.transition;Ic.transition=null;try{ht=4,RC(t,e,n,r)}finally{ht=i,Ic.transition=s}}function RC(t,e,n,r){if(um){var i=Ew(t,e,n,r);if(i===null)Db(t,e,r,dm,n),dT(t,r);else if(LF(i,t,e,n,r))r.stopPropagation();else if(dT(t,r),e&4&&-1<OF.indexOf(t)){for(;i!==null;){var s=ef(i);if(s!==null&&u5(s),s=Ew(t,e,n,r),s===null&&Db(t,e,r,dm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Db(t,e,r,null,n)}}var dm=null;function Ew(t,e,n,r){if(dm=null,t=AC(r),t=Ja(t),t!==null)if(e=kl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=n5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dm=t,null}function p5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NF()){case NC:return 1;case o5:return 4;case lm:case TF:return 16;case a5:return 536870912;default:return 16}default:return 16}}var jo=null,IC=null,jp=null;function m5(){if(jp)return jp;var t,e=IC,n=e.length,r,i="value"in jo?jo.value:jo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return jp=i.slice(t,1<r?1-r:void 0)}function Mp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vg(){return!0}function fT(){return!1}function Wr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vg:fT,this.isPropagationStopped=fT,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vg)},persist:function(){},isPersistent:Vg}),e}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DC=Wr(hu),Zh=zt({},hu,{view:0,detail:0}),HF=Wr(Zh),Cb,Eb,sd,U0=zt({},Zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sd&&(sd&&t.type==="mousemove"?(Cb=t.screenX-sd.screenX,Eb=t.screenY-sd.screenY):Eb=Cb=0,sd=t),Cb)},movementY:function(t){return"movementY"in t?t.movementY:Eb}}),gT=Wr(U0),zF=zt({},U0,{dataTransfer:0}),GF=Wr(zF),$F=zt({},Zh,{relatedTarget:0}),_b=Wr($F),VF=zt({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),WF=Wr(VF),qF=zt({},hu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KF=Wr(qF),YF=zt({},hu,{data:0}),pT=Wr(YF),QF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JF[t])?!!e[t]:!1}function PC(){return ZF}var eU=zt({},Zh,{key:function(t){if(t.key){var e=QF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PC,charCode:function(t){return t.type==="keypress"?Mp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tU=Wr(eU),nU=zt({},U0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mT=Wr(nU),rU=zt({},Zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PC}),iU=Wr(rU),sU=zt({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),oU=Wr(sU),aU=zt({},U0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lU=Wr(aU),cU=[9,13,27,32],jC=qs&&"CompositionEvent"in window,Fd=null;qs&&"documentMode"in document&&(Fd=document.documentMode);var uU=qs&&"TextEvent"in window&&!Fd,v5=qs&&(!jC||Fd&&8<Fd&&11>=Fd),vT=" ",yT=!1;function y5(t,e){switch(t){case"keyup":return cU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mc=!1;function dU(t,e){switch(t){case"compositionend":return x5(e);case"keypress":return e.which!==32?null:(yT=!0,vT);case"textInput":return t=e.data,t===vT&&yT?null:t;default:return null}}function hU(t,e){if(mc)return t==="compositionend"||!jC&&y5(t,e)?(t=m5(),jp=IC=jo=null,mc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v5&&e.locale!=="ko"?null:e.data;default:return null}}var fU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fU[t.type]:e==="textarea"}function b5(t,e,n,r){X3(r),e=hm(e,"onChange"),0<e.length&&(n=new DC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ud=null,hh=null;function gU(t){I5(t,0)}function B0(t){var e=xc(t);if($3(e))return t}function pU(t,e){if(t==="change")return e}var w5=!1;if(qs){var Ab;if(qs){var Nb="oninput"in document;if(!Nb){var bT=document.createElement("div");bT.setAttribute("oninput","return;"),Nb=typeof bT.oninput=="function"}Ab=Nb}else Ab=!1;w5=Ab&&(!document.documentMode||9<document.documentMode)}function wT(){Ud&&(Ud.detachEvent("onpropertychange",S5),hh=Ud=null)}function S5(t){if(t.propertyName==="value"&&B0(hh)){var e=[];b5(e,hh,t,AC(t)),t5(gU,e)}}function mU(t,e,n){t==="focusin"?(wT(),Ud=e,hh=n,Ud.attachEvent("onpropertychange",S5)):t==="focusout"&&wT()}function vU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return B0(hh)}function yU(t,e){if(t==="click")return B0(e)}function xU(t,e){if(t==="input"||t==="change")return B0(e)}function bU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bi=typeof Object.is=="function"?Object.is:bU;function fh(t,e){if(Bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ow.call(e,i)||!Bi(t[i],e[i]))return!1}return!0}function ST(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CT(t,e){var n=ST(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ST(n)}}function C5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E5(){for(var t=window,e=sm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sm(t.document)}return e}function MC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wU(t){var e=E5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&C5(n.ownerDocument.documentElement,n)){if(r!==null&&MC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=CT(n,s);var o=CT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SU=qs&&"documentMode"in document&&11>=document.documentMode,vc=null,_w=null,Bd=null,Aw=!1;function ET(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Aw||vc==null||vc!==sm(r)||(r=vc,"selectionStart"in r&&MC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bd&&fh(Bd,r)||(Bd=r,r=hm(_w,"onSelect"),0<r.length&&(e=new DC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vc)))}function Wg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yc={animationend:Wg("Animation","AnimationEnd"),animationiteration:Wg("Animation","AnimationIteration"),animationstart:Wg("Animation","AnimationStart"),transitionend:Wg("Transition","TransitionEnd")},Tb={},_5={};qs&&(_5=document.createElement("div").style,"AnimationEvent"in window||(delete yc.animationend.animation,delete yc.animationiteration.animation,delete yc.animationstart.animation),"TransitionEvent"in window||delete yc.transitionend.transition);function H0(t){if(Tb[t])return Tb[t];if(!yc[t])return t;var e=yc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _5)return Tb[t]=e[n];return t}var A5=H0("animationend"),N5=H0("animationiteration"),T5=H0("animationstart"),k5=H0("transitionend"),R5=new Map,_T="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(t,e){R5.set(t,e),Tl(e,[t])}for(var kb=0;kb<_T.length;kb++){var Rb=_T[kb],CU=Rb.toLowerCase(),EU=Rb[0].toUpperCase()+Rb.slice(1);ma(CU,"on"+EU)}ma(A5,"onAnimationEnd");ma(N5,"onAnimationIteration");ma(T5,"onAnimationStart");ma("dblclick","onDoubleClick");ma("focusin","onFocus");ma("focusout","onBlur");ma(k5,"onTransitionEnd");Bc("onMouseEnter",["mouseout","mouseover"]);Bc("onMouseLeave",["mouseout","mouseover"]);Bc("onPointerEnter",["pointerout","pointerover"]);Bc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_U=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function AT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CF(r,e,void 0,t),t.currentTarget=null}function I5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;AT(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;AT(i,a,u),s=c}}}if(am)throw t=ww,am=!1,ww=null,t}function Nt(t,e){var n=e[Iw];n===void 0&&(n=e[Iw]=new Set);var r=t+"__bubble";n.has(r)||(D5(e,t,2,!1),n.add(r))}function Ib(t,e,n){var r=0;e&&(r|=4),D5(n,t,r,e)}var qg="_reactListening"+Math.random().toString(36).slice(2);function gh(t){if(!t[qg]){t[qg]=!0,U3.forEach(function(n){n!=="selectionchange"&&(_U.has(n)||Ib(n,!1,t),Ib(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qg]||(e[qg]=!0,Ib("selectionchange",!1,e))}}function D5(t,e,n,r){switch(p5(e)){case 1:var i=UF;break;case 4:i=BF;break;default:i=RC}n=i.bind(null,e,n,t),i=void 0,!bw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Db(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ja(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}t5(function(){var u=s,f=AC(n),g=[];e:{var p=R5.get(t);if(p!==void 0){var m=DC,y=t;switch(t){case"keypress":if(Mp(n)===0)break e;case"keydown":case"keyup":m=tU;break;case"focusin":y="focus",m=_b;break;case"focusout":y="blur",m=_b;break;case"beforeblur":case"afterblur":m=_b;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=GF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iU;break;case A5:case N5:case T5:m=WF;break;case k5:m=oU;break;case"scroll":m=HF;break;case"wheel":m=lU;break;case"copy":case"cut":case"paste":m=KF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mT}var x=(e&4)!==0,C=!x&&t==="scroll",b=x?p!==null?p+"Capture":null:p;x=[];for(var E=u,S;E!==null;){S=E;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,b!==null&&(A=lh(E,b),A!=null&&x.push(ph(E,A,S)))),C)break;E=E.return}0<x.length&&(p=new m(p,y,null,n,f),g.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==yw&&(y=n.relatedTarget||n.fromElement)&&(Ja(y)||y[Ks]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ja(y):null,y!==null&&(C=kl(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=gT,A="onMouseLeave",b="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(x=mT,A="onPointerLeave",b="onPointerEnter",E="pointer"),C=m==null?p:xc(m),S=y==null?p:xc(y),p=new x(A,E+"leave",m,n,f),p.target=C,p.relatedTarget=S,A=null,Ja(f)===u&&(x=new x(b,E+"enter",y,n,f),x.target=S,x.relatedTarget=C,A=x),C=A,m&&y)t:{for(x=m,b=y,E=0,S=x;S;S=rc(S))E++;for(S=0,A=b;A;A=rc(A))S++;for(;0<E-S;)x=rc(x),E--;for(;0<S-E;)b=rc(b),S--;for(;E--;){if(x===b||b!==null&&x===b.alternate)break t;x=rc(x),b=rc(b)}x=null}else x=null;m!==null&&NT(g,p,m,x,!1),y!==null&&C!==null&&NT(g,C,y,x,!0)}}e:{if(p=u?xc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=pU;else if(xT(p))if(w5)T=xU;else{T=vU;var k=mU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=yU);if(T&&(T=T(t,u))){b5(g,T,n,f);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&fw(p,"number",p.value)}switch(k=u?xc(u):window,t){case"focusin":(xT(k)||k.contentEditable==="true")&&(vc=k,_w=u,Bd=null);break;case"focusout":Bd=_w=vc=null;break;case"mousedown":Aw=!0;break;case"contextmenu":case"mouseup":case"dragend":Aw=!1,ET(g,n,f);break;case"selectionchange":if(SU)break;case"keydown":case"keyup":ET(g,n,f)}var I;if(jC)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else mc?y5(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(v5&&n.locale!=="ko"&&(mc||D!=="onCompositionStart"?D==="onCompositionEnd"&&mc&&(I=m5()):(jo=f,IC="value"in jo?jo.value:jo.textContent,mc=!0)),k=hm(u,D),0<k.length&&(D=new pT(D,t,null,n,f),g.push({event:D,listeners:k}),I?D.data=I:(I=x5(n),I!==null&&(D.data=I)))),(I=uU?dU(t,n):hU(t,n))&&(u=hm(u,"onBeforeInput"),0<u.length&&(f=new pT("onBeforeInput","beforeinput",null,n,f),g.push({event:f,listeners:u}),f.data=I))}I5(g,e)})}function ph(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lh(t,n),s!=null&&r.unshift(ph(t,s,i)),s=lh(t,e),s!=null&&r.push(ph(t,s,i))),t=t.return}return r}function rc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=lh(n,s),c!=null&&o.unshift(ph(n,c,a))):i||(c=lh(n,s),c!=null&&o.push(ph(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AU=/\r\n?/g,NU=/\u0000|\uFFFD/g;function TT(t){return(typeof t=="string"?t:""+t).replace(AU,`
`).replace(NU,"")}function Kg(t,e,n){if(e=TT(e),TT(t)!==e&&n)throw Error(he(425))}function fm(){}var Nw=null,Tw=null;function kw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rw=typeof setTimeout=="function"?setTimeout:void 0,TU=typeof clearTimeout=="function"?clearTimeout:void 0,kT=typeof Promise=="function"?Promise:void 0,kU=typeof queueMicrotask=="function"?queueMicrotask:typeof kT<"u"?function(t){return kT.resolve(null).then(t).catch(RU)}:Rw;function RU(t){setTimeout(function(){throw t})}function Pb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dh(e)}function Wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fu=Math.random().toString(36).slice(2),us="__reactFiber$"+fu,mh="__reactProps$"+fu,Ks="__reactContainer$"+fu,Iw="__reactEvents$"+fu,IU="__reactListeners$"+fu,DU="__reactHandles$"+fu;function Ja(t){var e=t[us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RT(t);t!==null;){if(n=t[us])return n;t=RT(t)}return e}t=n,n=t.parentNode}return null}function ef(t){return t=t[us]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(he(33))}function z0(t){return t[mh]||null}var Dw=[],bc=-1;function va(t){return{current:t}}function kt(t){0>bc||(t.current=Dw[bc],Dw[bc]=null,bc--)}function Ct(t,e){bc++,Dw[bc]=t.current,t.current=e}var ca={},Kn=va(ca),br=va(!1),dl=ca;function Hc(t,e){var n=t.type.contextTypes;if(!n)return ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wr(t){return t=t.childContextTypes,t!=null}function gm(){kt(br),kt(Kn)}function IT(t,e,n){if(Kn.current!==ca)throw Error(he(168));Ct(Kn,e),Ct(br,n)}function P5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(he(108,mF(t)||"Unknown",i));return zt({},n,r)}function pm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,dl=Kn.current,Ct(Kn,t),Ct(br,br.current),!0}function DT(t,e,n){var r=t.stateNode;if(!r)throw Error(he(169));n?(t=P5(t,e,dl),r.__reactInternalMemoizedMergedChildContext=t,kt(br),kt(Kn),Ct(Kn,t)):kt(br),Ct(br,n)}var Ls=null,G0=!1,jb=!1;function j5(t){Ls===null?Ls=[t]:Ls.push(t)}function PU(t){G0=!0,j5(t)}function ya(){if(!jb&&Ls!==null){jb=!0;var t=0,e=ht;try{var n=Ls;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ls=null,G0=!1}catch(i){throw Ls!==null&&(Ls=Ls.slice(t+1)),s5(NC,ya),i}finally{ht=e,jb=!1}}return null}var wc=[],Sc=0,mm=null,vm=0,oi=[],ai=0,hl=null,Bs=1,Hs="";function Ga(t,e){wc[Sc++]=vm,wc[Sc++]=mm,mm=t,vm=e}function M5(t,e,n){oi[ai++]=Bs,oi[ai++]=Hs,oi[ai++]=hl,hl=t;var r=Bs;t=Hs;var i=32-Mi(r)-1;r&=~(1<<i),n+=1;var s=32-Mi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bs=1<<32-Mi(e)+i|n<<i|r,Hs=s+t}else Bs=1<<s|n<<i|r,Hs=t}function OC(t){t.return!==null&&(Ga(t,1),M5(t,1,0))}function LC(t){for(;t===mm;)mm=wc[--Sc],wc[Sc]=null,vm=wc[--Sc],wc[Sc]=null;for(;t===hl;)hl=oi[--ai],oi[ai]=null,Hs=oi[--ai],oi[ai]=null,Bs=oi[--ai],oi[ai]=null}var Mr=null,Pr=null,jt=!1,Ri=null;function O5(t,e){var n=ci(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function PT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mr=t,Pr=Wo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mr=t,Pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=hl!==null?{id:Bs,overflow:Hs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ci(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mr=t,Pr=null,!0):!1;default:return!1}}function Pw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jw(t){if(jt){var e=Pr;if(e){var n=e;if(!PT(t,e)){if(Pw(t))throw Error(he(418));e=Wo(n.nextSibling);var r=Mr;e&&PT(t,e)?O5(r,n):(t.flags=t.flags&-4097|2,jt=!1,Mr=t)}}else{if(Pw(t))throw Error(he(418));t.flags=t.flags&-4097|2,jt=!1,Mr=t}}}function jT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mr=t}function Yg(t){if(t!==Mr)return!1;if(!jt)return jT(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kw(t.type,t.memoizedProps)),e&&(e=Pr)){if(Pw(t))throw L5(),Error(he(418));for(;e;)O5(t,e),e=Wo(e.nextSibling)}if(jT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pr=Wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pr=null}}else Pr=Mr?Wo(t.stateNode.nextSibling):null;return!0}function L5(){for(var t=Pr;t;)t=Wo(t.nextSibling)}function zc(){Pr=Mr=null,jt=!1}function FC(t){Ri===null?Ri=[t]:Ri.push(t)}var jU=no.ReactCurrentBatchConfig;function od(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,t))}return t}function Qg(t,e){throw t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MT(t){var e=t._init;return e(t._payload)}function F5(t){function e(b,E){if(t){var S=b.deletions;S===null?(b.deletions=[E],b.flags|=16):S.push(E)}}function n(b,E){if(!t)return null;for(;E!==null;)e(b,E),E=E.sibling;return null}function r(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function i(b,E){return b=Qo(b,E),b.index=0,b.sibling=null,b}function s(b,E,S){return b.index=S,t?(S=b.alternate,S!==null?(S=S.index,S<E?(b.flags|=2,E):S):(b.flags|=2,E)):(b.flags|=1048576,E)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,E,S,A){return E===null||E.tag!==6?(E=Hb(S,b.mode,A),E.return=b,E):(E=i(E,S),E.return=b,E)}function c(b,E,S,A){var T=S.type;return T===pc?f(b,E,S.props.children,A,S.key):E!==null&&(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===To&&MT(T)===E.type)?(A=i(E,S.props),A.ref=od(b,E,S),A.return=b,A):(A=zp(S.type,S.key,S.props,null,b.mode,A),A.ref=od(b,E,S),A.return=b,A)}function u(b,E,S,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=zb(S,b.mode,A),E.return=b,E):(E=i(E,S.children||[]),E.return=b,E)}function f(b,E,S,A,T){return E===null||E.tag!==7?(E=sl(S,b.mode,A,T),E.return=b,E):(E=i(E,S),E.return=b,E)}function g(b,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Hb(""+E,b.mode,S),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ug:return S=zp(E.type,E.key,E.props,null,b.mode,S),S.ref=od(b,null,E),S.return=b,S;case gc:return E=zb(E,b.mode,S),E.return=b,E;case To:var A=E._init;return g(b,A(E._payload),S)}if(Nd(E)||td(E))return E=sl(E,b.mode,S,null),E.return=b,E;Qg(b,E)}return null}function p(b,E,S,A){var T=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(b,E,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ug:return S.key===T?c(b,E,S,A):null;case gc:return S.key===T?u(b,E,S,A):null;case To:return T=S._init,p(b,E,T(S._payload),A)}if(Nd(S)||td(S))return T!==null?null:f(b,E,S,A,null);Qg(b,S)}return null}function m(b,E,S,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(S)||null,a(E,b,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ug:return b=b.get(A.key===null?S:A.key)||null,c(E,b,A,T);case gc:return b=b.get(A.key===null?S:A.key)||null,u(E,b,A,T);case To:var k=A._init;return m(b,E,S,k(A._payload),T)}if(Nd(A)||td(A))return b=b.get(S)||null,f(E,b,A,T,null);Qg(E,A)}return null}function y(b,E,S,A){for(var T=null,k=null,I=E,D=E=0,P=null;I!==null&&D<S.length;D++){I.index>D?(P=I,I=null):P=I.sibling;var R=p(b,I,S[D],A);if(R===null){I===null&&(I=P);break}t&&I&&R.alternate===null&&e(b,I),E=s(R,E,D),k===null?T=R:k.sibling=R,k=R,I=P}if(D===S.length)return n(b,I),jt&&Ga(b,D),T;if(I===null){for(;D<S.length;D++)I=g(b,S[D],A),I!==null&&(E=s(I,E,D),k===null?T=I:k.sibling=I,k=I);return jt&&Ga(b,D),T}for(I=r(b,I);D<S.length;D++)P=m(I,b,D,S[D],A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?D:P.key),E=s(P,E,D),k===null?T=P:k.sibling=P,k=P);return t&&I.forEach(function(O){return e(b,O)}),jt&&Ga(b,D),T}function x(b,E,S,A){var T=td(S);if(typeof T!="function")throw Error(he(150));if(S=T.call(S),S==null)throw Error(he(151));for(var k=T=null,I=E,D=E=0,P=null,R=S.next();I!==null&&!R.done;D++,R=S.next()){I.index>D?(P=I,I=null):P=I.sibling;var O=p(b,I,R.value,A);if(O===null){I===null&&(I=P);break}t&&I&&O.alternate===null&&e(b,I),E=s(O,E,D),k===null?T=O:k.sibling=O,k=O,I=P}if(R.done)return n(b,I),jt&&Ga(b,D),T;if(I===null){for(;!R.done;D++,R=S.next())R=g(b,R.value,A),R!==null&&(E=s(R,E,D),k===null?T=R:k.sibling=R,k=R);return jt&&Ga(b,D),T}for(I=r(b,I);!R.done;D++,R=S.next())R=m(I,b,D,R.value,A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?D:R.key),E=s(R,E,D),k===null?T=R:k.sibling=R,k=R);return t&&I.forEach(function(z){return e(b,z)}),jt&&Ga(b,D),T}function C(b,E,S,A){if(typeof S=="object"&&S!==null&&S.type===pc&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ug:e:{for(var T=S.key,k=E;k!==null;){if(k.key===T){if(T=S.type,T===pc){if(k.tag===7){n(b,k.sibling),E=i(k,S.props.children),E.return=b,b=E;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===To&&MT(T)===k.type){n(b,k.sibling),E=i(k,S.props),E.ref=od(b,k,S),E.return=b,b=E;break e}n(b,k);break}else e(b,k);k=k.sibling}S.type===pc?(E=sl(S.props.children,b.mode,A,S.key),E.return=b,b=E):(A=zp(S.type,S.key,S.props,null,b.mode,A),A.ref=od(b,E,S),A.return=b,b=A)}return o(b);case gc:e:{for(k=S.key;E!==null;){if(E.key===k)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(b,E.sibling),E=i(E,S.children||[]),E.return=b,b=E;break e}else{n(b,E);break}else e(b,E);E=E.sibling}E=zb(S,b.mode,A),E.return=b,b=E}return o(b);case To:return k=S._init,C(b,E,k(S._payload),A)}if(Nd(S))return y(b,E,S,A);if(td(S))return x(b,E,S,A);Qg(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(b,E.sibling),E=i(E,S),E.return=b,b=E):(n(b,E),E=Hb(S,b.mode,A),E.return=b,b=E),o(b)):n(b,E)}return C}var Gc=F5(!0),U5=F5(!1),ym=va(null),xm=null,Cc=null,UC=null;function BC(){UC=Cc=xm=null}function HC(t){var e=ym.current;kt(ym),t._currentValue=e}function Mw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dc(t,e){xm=t,UC=Cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yr=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(UC!==t)if(t={context:t,memoizedValue:e,next:null},Cc===null){if(xm===null)throw Error(he(308));Cc=t,xm.dependencies={lanes:0,firstContext:t}}else Cc=Cc.next=t;return e}var Za=null;function zC(t){Za===null?Za=[t]:Za.push(t)}function B5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ys(t,r)}function Ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ko=!1;function GC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ys(t,n)}return i=r.interleaved,i===null?(e.next=e,zC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ys(t,n)}function Op(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TC(t,n)}}function OT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bm(t,e,n,r){var i=t.updateQueue;ko=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;o=0,f=u=c=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(p=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){g=y.call(m,g,p);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,g,p):y,p==null)break e;g=zt({},g,p);break e;case 2:ko=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,c=g):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(c=g),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gl|=o,t.lanes=o,t.memoizedState=g}}function LT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var tf={},ms=va(tf),vh=va(tf),yh=va(tf);function el(t){if(t===tf)throw Error(he(174));return t}function $C(t,e){switch(Ct(yh,e),Ct(vh,t),Ct(ms,tf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pw(e,t)}kt(ms),Ct(ms,e)}function $c(){kt(ms),kt(vh),kt(yh)}function z5(t){el(yh.current);var e=el(ms.current),n=pw(e,t.type);e!==n&&(Ct(vh,t),Ct(ms,n))}function VC(t){vh.current===t&&(kt(ms),kt(vh))}var Ut=va(0);function wm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mb=[];function WC(){for(var t=0;t<Mb.length;t++)Mb[t]._workInProgressVersionPrimary=null;Mb.length=0}var Lp=no.ReactCurrentDispatcher,Ob=no.ReactCurrentBatchConfig,fl=0,Ht=null,an=null,wn=null,Sm=!1,Hd=!1,xh=0,MU=0;function Bn(){throw Error(he(321))}function qC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bi(t[n],e[n]))return!1;return!0}function KC(t,e,n,r,i,s){if(fl=s,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lp.current=t===null||t.memoizedState===null?UU:BU,t=n(r,i),Hd){s=0;do{if(Hd=!1,xh=0,25<=s)throw Error(he(301));s+=1,wn=an=null,e.updateQueue=null,Lp.current=HU,t=n(r,i)}while(Hd)}if(Lp.current=Cm,e=an!==null&&an.next!==null,fl=0,wn=an=Ht=null,Sm=!1,e)throw Error(he(300));return t}function YC(){var t=xh!==0;return xh=0,t}function as(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Ht.memoizedState=wn=t:wn=wn.next=t,wn}function gi(){if(an===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=wn===null?Ht.memoizedState:wn.next;if(e!==null)wn=e,an=t;else{if(t===null)throw Error(he(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},wn===null?Ht.memoizedState=wn=t:wn=wn.next=t}return wn}function bh(t,e){return typeof e=="function"?e(t):e}function Lb(t){var e=gi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=an,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var f=u.lane;if((fl&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=g,o=r):c=c.next=g,Ht.lanes|=f,gl|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Bi(r,e.memoizedState)||(yr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ht.lanes|=s,gl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fb(t){var e=gi(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bi(s,e.memoizedState)||(yr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function G5(){}function $5(t,e){var n=Ht,r=gi(),i=e(),s=!Bi(r.memoizedState,i);if(s&&(r.memoizedState=i,yr=!0),r=r.queue,QC(q5.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,wh(9,W5.bind(null,n,r,i,e),void 0,null),Sn===null)throw Error(he(349));fl&30||V5(n,e,i)}return i}function V5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function W5(t,e,n,r){e.value=n,e.getSnapshot=r,K5(e)&&Y5(t)}function q5(t,e,n){return n(function(){K5(e)&&Y5(t)})}function K5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bi(t,n)}catch{return!0}}function Y5(t){var e=Ys(t,1);e!==null&&Oi(e,t,1,-1)}function FT(t){var e=as();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:t},e.queue=t,t=t.dispatch=FU.bind(null,Ht,t),[e.memoizedState,t]}function wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q5(){return gi().memoizedState}function Fp(t,e,n,r){var i=as();Ht.flags|=t,i.memoizedState=wh(1|e,n,void 0,r===void 0?null:r)}function $0(t,e,n,r){var i=gi();r=r===void 0?null:r;var s=void 0;if(an!==null){var o=an.memoizedState;if(s=o.destroy,r!==null&&qC(r,o.deps)){i.memoizedState=wh(e,n,s,r);return}}Ht.flags|=t,i.memoizedState=wh(1|e,n,s,r)}function UT(t,e){return Fp(8390656,8,t,e)}function QC(t,e){return $0(2048,8,t,e)}function X5(t,e){return $0(4,2,t,e)}function J5(t,e){return $0(4,4,t,e)}function Z5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eD(t,e,n){return n=n!=null?n.concat([t]):null,$0(4,4,Z5.bind(null,e,t),n)}function XC(){}function tD(t,e){var n=gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nD(t,e){var n=gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rD(t,e,n){return fl&21?(Bi(n,e)||(n=l5(),Ht.lanes|=n,gl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yr=!0),t.memoizedState=n)}function OU(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=Ob.transition;Ob.transition={};try{t(!1),e()}finally{ht=n,Ob.transition=r}}function iD(){return gi().memoizedState}function LU(t,e,n){var r=Yo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sD(t))oD(e,n);else if(n=B5(t,e,n,r),n!==null){var i=ir();Oi(n,t,r,i),aD(n,e,r)}}function FU(t,e,n){var r=Yo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sD(t))oD(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Bi(a,o)){var c=e.interleaved;c===null?(i.next=i,zC(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=B5(t,e,i,r),n!==null&&(i=ir(),Oi(n,t,r,i),aD(n,e,r))}}function sD(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function oD(t,e){Hd=Sm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aD(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,TC(t,n)}}var Cm={readContext:fi,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},UU={readContext:fi,useCallback:function(t,e){return as().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:UT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fp(4194308,4,Z5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fp(4,2,t,e)},useMemo:function(t,e){var n=as();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=as();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LU.bind(null,Ht,t),[r.memoizedState,t]},useRef:function(t){var e=as();return t={current:t},e.memoizedState=t},useState:FT,useDebugValue:XC,useDeferredValue:function(t){return as().memoizedState=t},useTransition:function(){var t=FT(!1),e=t[0];return t=OU.bind(null,t[1]),as().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ht,i=as();if(jt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),Sn===null)throw Error(he(349));fl&30||V5(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,UT(q5.bind(null,r,s,t),[t]),r.flags|=2048,wh(9,W5.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=as(),e=Sn.identifierPrefix;if(jt){var n=Hs,r=Bs;n=(r&~(1<<32-Mi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BU={readContext:fi,useCallback:tD,useContext:fi,useEffect:QC,useImperativeHandle:eD,useInsertionEffect:X5,useLayoutEffect:J5,useMemo:nD,useReducer:Lb,useRef:Q5,useState:function(){return Lb(bh)},useDebugValue:XC,useDeferredValue:function(t){var e=gi();return rD(e,an.memoizedState,t)},useTransition:function(){var t=Lb(bh)[0],e=gi().memoizedState;return[t,e]},useMutableSource:G5,useSyncExternalStore:$5,useId:iD,unstable_isNewReconciler:!1},HU={readContext:fi,useCallback:tD,useContext:fi,useEffect:QC,useImperativeHandle:eD,useInsertionEffect:X5,useLayoutEffect:J5,useMemo:nD,useReducer:Fb,useRef:Q5,useState:function(){return Fb(bh)},useDebugValue:XC,useDeferredValue:function(t){var e=gi();return an===null?e.memoizedState=t:rD(e,an.memoizedState,t)},useTransition:function(){var t=Fb(bh)[0],e=gi().memoizedState;return[t,e]},useMutableSource:G5,useSyncExternalStore:$5,useId:iD,unstable_isNewReconciler:!1};function Ni(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ow(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:zt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var V0={isMounted:function(t){return(t=t._reactInternals)?kl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ir(),i=Yo(t),s=$s(r,i);s.payload=e,n!=null&&(s.callback=n),e=qo(t,s,i),e!==null&&(Oi(e,t,i,r),Op(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ir(),i=Yo(t),s=$s(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qo(t,s,i),e!==null&&(Oi(e,t,i,r),Op(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ir(),r=Yo(t),i=$s(n,r);i.tag=2,e!=null&&(i.callback=e),e=qo(t,i,r),e!==null&&(Oi(e,t,r,n),Op(e,t,r))}};function BT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fh(n,r)||!fh(i,s):!0}function lD(t,e,n){var r=!1,i=ca,s=e.contextType;return typeof s=="object"&&s!==null?s=fi(s):(i=wr(e)?dl:Kn.current,r=e.contextTypes,s=(r=r!=null)?Hc(t,i):ca),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=V0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function HT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&V0.enqueueReplaceState(e,e.state,null)}function Lw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},GC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fi(s):(s=wr(e)?dl:Kn.current,i.context=Hc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ow(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&V0.enqueueReplaceState(i,i.state,null),bm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var n="",r=e;do n+=pF(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ub(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zU=typeof WeakMap=="function"?WeakMap:Map;function cD(t,e,n){n=$s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_m||(_m=!0,Kw=r),Fw(t,e)},n}function uD(t,e,n){n=$s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fw(t,e),typeof r!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nB.bind(null,t,e,n),e.then(t,t))}function GT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $T(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$s(-1,1),e.tag=2,qo(n,e,1))),n.lanes|=1),t)}var GU=no.ReactCurrentOwner,yr=!1;function er(t,e,n,r){e.child=t===null?U5(e,null,n,r):Gc(e,t.child,n,r)}function VT(t,e,n,r,i){n=n.render;var s=e.ref;return Dc(e,i),r=KC(t,e,n,r,s,i),n=YC(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(jt&&n&&OC(e),e.flags|=1,er(t,e,r,i),e.child)}function WT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!s2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dD(t,e,s,r,i)):(t=zp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(o,r)&&t.ref===e.ref)return Qs(t,e,i)}return e.flags|=1,t=Qo(s,r),t.ref=e.ref,t.return=e,e.child=t}function dD(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fh(s,r)&&t.ref===e.ref)if(yr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yr=!0);else return e.lanes=t.lanes,Qs(t,e,i)}return Uw(t,e,n,r,i)}function hD(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(_c,Ir),Ir|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(_c,Ir),Ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ct(_c,Ir),Ir|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ct(_c,Ir),Ir|=r;return er(t,e,i,n),e.child}function fD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uw(t,e,n,r,i){var s=wr(n)?dl:Kn.current;return s=Hc(e,s),Dc(e,i),n=KC(t,e,n,r,s,i),r=YC(),t!==null&&!yr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(jt&&r&&OC(e),e.flags|=1,er(t,e,n,i),e.child)}function qT(t,e,n,r,i){if(wr(n)){var s=!0;pm(e)}else s=!1;if(Dc(e,i),e.stateNode===null)Up(t,e),lD(e,n,r),Lw(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=fi(u):(u=wr(n)?dl:Kn.current,u=Hc(e,u));var f=n.getDerivedStateFromProps,g=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&HT(e,o,r,u),ko=!1;var p=e.memoizedState;o.state=p,bm(e,r,o,i),c=e.memoizedState,a!==r||p!==c||br.current||ko?(typeof f=="function"&&(Ow(e,n,f,r),c=e.memoizedState),(a=ko||BT(e,n,a,r,p,c,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,H5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ni(e.type,a),o.props=u,g=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=fi(c):(c=wr(n)?dl:Kn.current,c=Hc(e,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||p!==c)&&HT(e,o,r,c),ko=!1,p=e.memoizedState,o.state=p,bm(e,r,o,i);var y=e.memoizedState;a!==g||p!==y||br.current||ko?(typeof m=="function"&&(Ow(e,n,m,r),y=e.memoizedState),(u=ko||BT(e,n,u,r,p,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Bw(t,e,n,r,s,i)}function Bw(t,e,n,r,i,s){fD(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&DT(e,n,!1),Qs(t,e,s);r=e.stateNode,GU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gc(e,t.child,null,s),e.child=Gc(e,null,a,s)):er(t,e,a,s),e.memoizedState=r.state,i&&DT(e,n,!0),e.child}function gD(t){var e=t.stateNode;e.pendingContext?IT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IT(t,e.context,!1),$C(t,e.containerInfo)}function KT(t,e,n,r,i){return zc(),FC(i),e.flags|=256,er(t,e,n,r),e.child}var Hw={dehydrated:null,treeContext:null,retryLane:0};function zw(t){return{baseLanes:t,cachePool:null,transitions:null}}function pD(t,e,n){var r=e.pendingProps,i=Ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ct(Ut,i&1),t===null)return jw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=K0(o,r,0,null),t=sl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zw(n),e.memoizedState=Hw,t):JC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $U(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Qo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qo(a,s):(s=sl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hw,r}return s=t.child,t=s.sibling,r=Qo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function JC(t,e){return e=K0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xg(t,e,n,r){return r!==null&&FC(r),Gc(e,t.child,null,n),t=JC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $U(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ub(Error(he(422))),Xg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=K0({mode:"visible",children:r.children},i,0,null),s=sl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gc(e,t.child,null,o),e.child.memoizedState=zw(o),e.memoizedState=Hw,s);if(!(e.mode&1))return Xg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(he(419)),r=Ub(s,r,void 0),Xg(t,e,o,r)}if(a=(o&t.childLanes)!==0,yr||a){if(r=Sn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ys(t,i),Oi(r,t,i,-1))}return i2(),r=Ub(Error(he(421))),Xg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pr=Wo(i.nextSibling),Mr=e,jt=!0,Ri=null,t!==null&&(oi[ai++]=Bs,oi[ai++]=Hs,oi[ai++]=hl,Bs=t.id,Hs=t.overflow,hl=e),e=JC(e,r.children),e.flags|=4096,e)}function YT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mw(t.return,e,n)}function Bb(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mD(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(er(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YT(t,n,e);else if(t.tag===19)YT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ct(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bb(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bb(e,!0,n,null,s);break;case"together":Bb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Up(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VU(t,e,n){switch(e.tag){case 3:gD(e),zc();break;case 5:z5(e);break;case 1:wr(e.type)&&pm(e);break;case 4:$C(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ct(ym,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ct(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?pD(t,e,n):(Ct(Ut,Ut.current&1),t=Qs(t,e,n),t!==null?t.sibling:null);Ct(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,hD(t,e,n)}return Qs(t,e,n)}var vD,Gw,yD,xD;vD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gw=function(){};yD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,el(ms.current);var s=null;switch(n){case"input":i=dw(t,i),r=dw(t,r),s=[];break;case"select":i=zt({},i,{value:void 0}),r=zt({},r,{value:void 0}),s=[];break;case"textarea":i=gw(t,i),r=gw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fm)}mw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nt("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xD=function(t,e,n,r){n!==r&&(e.flags|=4)};function ad(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WU(t,e,n){var r=e.pendingProps;switch(LC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(e),null;case 1:return wr(e.type)&&gm(),Hn(e),null;case 3:return r=e.stateNode,$c(),kt(br),kt(Kn),WC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ri!==null&&(Xw(Ri),Ri=null))),Gw(t,e),Hn(e),null;case 5:VC(e);var i=el(yh.current);if(n=e.type,t!==null&&e.stateNode!=null)yD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(he(166));return Hn(e),null}if(t=el(ms.current),Yg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[us]=e,r[mh]=s,t=(e.mode&1)!==0,n){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(i=0;i<kd.length;i++)Nt(kd[i],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":iT(r,s),Nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",r);break;case"textarea":oT(r,s),Nt("invalid",r)}mw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kg(r.textContent,a,t),i=["children",""+a]):oh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nt("scroll",r)}switch(n){case"input":Bg(r),sT(r,s,!0);break;case"textarea":Bg(r),aT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=q3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[us]=e,t[mh]=r,vD(t,e,!1,!1),e.stateNode=t;e:{switch(o=vw(n,r),n){case"dialog":Nt("cancel",t),Nt("close",t),i=r;break;case"iframe":case"object":case"embed":Nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<kd.length;i++)Nt(kd[i],t);i=r;break;case"source":Nt("error",t),i=r;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),i=r;break;case"details":Nt("toggle",t),i=r;break;case"input":iT(t,r),i=dw(t,r),Nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=zt({},r,{value:void 0}),Nt("invalid",t);break;case"textarea":oT(t,r),i=gw(t,r),Nt("invalid",t);break;default:i=r}mw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Q3(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&K3(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ah(t,c):typeof c=="number"&&ah(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Nt("scroll",t):c!=null&&SC(t,s,c,o))}switch(n){case"input":Bg(t),sT(t,r,!1);break;case"textarea":Bg(t),aT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+la(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Tc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Tc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hn(e),null;case 6:if(t&&e.stateNode!=null)xD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(n=el(yh.current),el(ms.current),Yg(e)){if(r=e.stateNode,n=e.memoizedProps,r[us]=e,(s=r.nodeValue!==n)&&(t=Mr,t!==null))switch(t.tag){case 3:Kg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kg(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=e,e.stateNode=r}return Hn(e),null;case 13:if(kt(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&Pr!==null&&e.mode&1&&!(e.flags&128))L5(),zc(),e.flags|=98560,s=!1;else if(s=Yg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(he(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[us]=e}else zc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hn(e),s=!1}else Ri!==null&&(Xw(Ri),Ri=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?ln===0&&(ln=3):i2())),e.updateQueue!==null&&(e.flags|=4),Hn(e),null);case 4:return $c(),Gw(t,e),t===null&&gh(e.stateNode.containerInfo),Hn(e),null;case 10:return HC(e.type._context),Hn(e),null;case 17:return wr(e.type)&&gm(),Hn(e),null;case 19:if(kt(Ut),s=e.memoizedState,s===null)return Hn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ad(s,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wm(t),o!==null){for(e.flags|=128,ad(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ct(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&Yt()>Wc&&(e.flags|=128,r=!0,ad(s,!1),e.lanes=4194304)}else{if(!r)if(t=wm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ad(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return Hn(e),null}else 2*Yt()-s.renderingStartTime>Wc&&n!==1073741824&&(e.flags|=128,r=!0,ad(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yt(),e.sibling=null,n=Ut.current,Ct(Ut,r?n&1|2:n&1),e):(Hn(e),null);case 22:case 23:return r2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ir&1073741824&&(Hn(e),e.subtreeFlags&6&&(e.flags|=8192)):Hn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function qU(t,e){switch(LC(e),e.tag){case 1:return wr(e.type)&&gm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $c(),kt(br),kt(Kn),WC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return VC(e),null;case 13:if(kt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));zc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(Ut),null;case 4:return $c(),null;case 10:return HC(e.type._context),null;case 22:case 23:return r2(),null;case 24:return null;default:return null}}var Jg=!1,$n=!1,KU=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ec(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(t,e,r)}else n.current=null}function $w(t,e,n){try{n()}catch(r){Vt(t,e,r)}}var QT=!1;function YU(t,e){if(Nw=um,t=E5(),MC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,g=t,p=null;t:for(;;){for(var m;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(m=g.firstChild)!==null;)p=g,g=m;for(;;){if(g===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++f===r&&(c=o),(m=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tw={focusedElem:t,selectionRange:n},um=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,C=y.memoizedState,b=e.stateNode,E=b.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ni(e.type,x),C);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(A){Vt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return y=QT,QT=!1,y}function zd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$w(e,n,s)}i=i.next}while(i!==r)}}function W0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bD(t){var e=t.alternate;e!==null&&(t.alternate=null,bD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[us],delete e[mh],delete e[Iw],delete e[IU],delete e[DU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wD(t){return t.tag===5||t.tag===3||t.tag===4}function XT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ww(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fm));else if(r!==4&&(t=t.child,t!==null))for(Ww(t,e,n),t=t.sibling;t!==null;)Ww(t,e,n),t=t.sibling}function qw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qw(t,e,n),t=t.sibling;t!==null;)qw(t,e,n),t=t.sibling}var Rn=null,Ti=!1;function wo(t,e,n){for(n=n.child;n!==null;)SD(t,e,n),n=n.sibling}function SD(t,e,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(F0,n)}catch{}switch(n.tag){case 5:$n||Ec(n,e);case 6:var r=Rn,i=Ti;Rn=null,wo(t,e,n),Rn=r,Ti=i,Rn!==null&&(Ti?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(Ti?(t=Rn,n=n.stateNode,t.nodeType===8?Pb(t.parentNode,n):t.nodeType===1&&Pb(t,n),dh(t)):Pb(Rn,n.stateNode));break;case 4:r=Rn,i=Ti,Rn=n.stateNode.containerInfo,Ti=!0,wo(t,e,n),Rn=r,Ti=i;break;case 0:case 11:case 14:case 15:if(!$n&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$w(n,e,o),i=i.next}while(i!==r)}wo(t,e,n);break;case 1:if(!$n&&(Ec(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Vt(n,e,a)}wo(t,e,n);break;case 21:wo(t,e,n);break;case 22:n.mode&1?($n=(r=$n)||n.memoizedState!==null,wo(t,e,n),$n=r):wo(t,e,n);break;default:wo(t,e,n)}}function JT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KU),e.forEach(function(r){var i=iB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _i(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rn=a.stateNode,Ti=!1;break e;case 3:Rn=a.stateNode.containerInfo,Ti=!0;break e;case 4:Rn=a.stateNode.containerInfo,Ti=!0;break e}a=a.return}if(Rn===null)throw Error(he(160));SD(s,o,i),Rn=null,Ti=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CD(e,t),e=e.sibling}function CD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_i(e,t),is(t),r&4){try{zd(3,t,t.return),W0(3,t)}catch(x){Vt(t,t.return,x)}try{zd(5,t,t.return)}catch(x){Vt(t,t.return,x)}}break;case 1:_i(e,t),is(t),r&512&&n!==null&&Ec(n,n.return);break;case 5:if(_i(e,t),is(t),r&512&&n!==null&&Ec(n,n.return),t.flags&32){var i=t.stateNode;try{ah(i,"")}catch(x){Vt(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&V3(i,s),vw(a,o);var u=vw(a,s);for(o=0;o<c.length;o+=2){var f=c[o],g=c[o+1];f==="style"?Q3(i,g):f==="dangerouslySetInnerHTML"?K3(i,g):f==="children"?ah(i,g):SC(i,f,g,u)}switch(a){case"input":hw(i,s);break;case"textarea":W3(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Tc(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Tc(i,!!s.multiple,s.defaultValue,!0):Tc(i,!!s.multiple,s.multiple?[]:"",!1))}i[mh]=s}catch(x){Vt(t,t.return,x)}}break;case 6:if(_i(e,t),is(t),r&4){if(t.stateNode===null)throw Error(he(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Vt(t,t.return,x)}}break;case 3:if(_i(e,t),is(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dh(e.containerInfo)}catch(x){Vt(t,t.return,x)}break;case 4:_i(e,t),is(t);break;case 13:_i(e,t),is(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(t2=Yt())),r&4&&JT(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?($n=(u=$n)||f,_i(e,t),$n=u):_i(e,t),is(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Se=t,f=t.child;f!==null;){for(g=Se=f;Se!==null;){switch(p=Se,m=p.child,p.tag){case 0:case 11:case 14:case 15:zd(4,p,p.return);break;case 1:Ec(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Vt(r,n,x)}}break;case 5:Ec(p,p.return);break;case 22:if(p.memoizedState!==null){ek(g);continue}}m!==null?(m.return=p,Se=m):ek(g)}f=f.sibling}e:for(f=null,g=t;;){if(g.tag===5){if(f===null){f=g;try{i=g.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Y3("display",o))}catch(x){Vt(t,t.return,x)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(x){Vt(t,t.return,x)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:_i(e,t),is(t),r&4&&JT(t);break;case 21:break;default:_i(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wD(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ah(i,""),r.flags&=-33);var s=XT(t);qw(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XT(t);Ww(t,a,o);break;default:throw Error(he(161))}}catch(c){Vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QU(t,e,n){Se=t,ED(t)}function ED(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Jg;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||$n;a=Jg;var u=$n;if(Jg=o,($n=c)&&!u)for(Se=i;Se!==null;)o=Se,c=o.child,o.tag===22&&o.memoizedState!==null?tk(i):c!==null?(c.return=o,Se=c):tk(i);for(;s!==null;)Se=s,ED(s),s=s.sibling;Se=i,Jg=a,$n=u}ZT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Se=s):ZT(t)}}function ZT(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$n||W0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$n)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&LT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&dh(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}$n||e.flags&512&&Vw(e)}catch(p){Vt(e,e.return,p)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function ek(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function tk(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{W0(4,e)}catch(c){Vt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Vt(e,i,c)}}var s=e.return;try{Vw(e)}catch(c){Vt(e,s,c)}break;case 5:var o=e.return;try{Vw(e)}catch(c){Vt(e,o,c)}}}catch(c){Vt(e,e.return,c)}if(e===t){Se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Se=a;break}Se=e.return}}var XU=Math.ceil,Em=no.ReactCurrentDispatcher,ZC=no.ReactCurrentOwner,di=no.ReactCurrentBatchConfig,rt=0,Sn=null,tn=null,Pn=0,Ir=0,_c=va(0),ln=0,Sh=null,gl=0,q0=0,e2=0,Gd=null,pr=null,t2=0,Wc=1/0,js=null,_m=!1,Kw=null,Ko=null,Zg=!1,Mo=null,Am=0,$d=0,Yw=null,Bp=-1,Hp=0;function ir(){return rt&6?Yt():Bp!==-1?Bp:Bp=Yt()}function Yo(t){return t.mode&1?rt&2&&Pn!==0?Pn&-Pn:jU.transition!==null?(Hp===0&&(Hp=l5()),Hp):(t=ht,t!==0||(t=window.event,t=t===void 0?16:p5(t.type)),t):1}function Oi(t,e,n,r){if(50<$d)throw $d=0,Yw=null,Error(he(185));Jh(t,n,r),(!(rt&2)||t!==Sn)&&(t===Sn&&(!(rt&2)&&(q0|=n),ln===4&&Do(t,Pn)),Sr(t,r),n===1&&rt===0&&!(e.mode&1)&&(Wc=Yt()+500,G0&&ya()))}function Sr(t,e){var n=t.callbackNode;jF(t,e);var r=cm(t,t===Sn?Pn:0);if(r===0)n!==null&&uT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uT(n),e===1)t.tag===0?PU(nk.bind(null,t)):j5(nk.bind(null,t)),kU(function(){!(rt&6)&&ya()}),n=null;else{switch(c5(r)){case 1:n=NC;break;case 4:n=o5;break;case 16:n=lm;break;case 536870912:n=a5;break;default:n=lm}n=DD(n,_D.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _D(t,e){if(Bp=-1,Hp=0,rt&6)throw Error(he(327));var n=t.callbackNode;if(Pc()&&t.callbackNode!==n)return null;var r=cm(t,t===Sn?Pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nm(t,r);else{e=r;var i=rt;rt|=2;var s=ND();(Sn!==t||Pn!==e)&&(js=null,Wc=Yt()+500,il(t,e));do try{eB();break}catch(a){AD(t,a)}while(!0);BC(),Em.current=s,rt=i,tn!==null?e=0:(Sn=null,Pn=0,e=ln)}if(e!==0){if(e===2&&(i=Sw(t),i!==0&&(r=i,e=Qw(t,i))),e===1)throw n=Sh,il(t,0),Do(t,r),Sr(t,Yt()),n;if(e===6)Do(t,r);else{if(i=t.current.alternate,!(r&30)&&!JU(i)&&(e=Nm(t,r),e===2&&(s=Sw(t),s!==0&&(r=s,e=Qw(t,s))),e===1))throw n=Sh,il(t,0),Do(t,r),Sr(t,Yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(he(345));case 2:$a(t,pr,js);break;case 3:if(Do(t,r),(r&130023424)===r&&(e=t2+500-Yt(),10<e)){if(cm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rw($a.bind(null,t,pr,js),e);break}$a(t,pr,js);break;case 4:if(Do(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Mi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XU(r/1960))-r,10<r){t.timeoutHandle=Rw($a.bind(null,t,pr,js),r);break}$a(t,pr,js);break;case 5:$a(t,pr,js);break;default:throw Error(he(329))}}}return Sr(t,Yt()),t.callbackNode===n?_D.bind(null,t):null}function Qw(t,e){var n=Gd;return t.current.memoizedState.isDehydrated&&(il(t,e).flags|=256),t=Nm(t,e),t!==2&&(e=pr,pr=n,e!==null&&Xw(e)),t}function Xw(t){pr===null?pr=t:pr.push.apply(pr,t)}function JU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e){for(e&=~e2,e&=~q0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mi(e),r=1<<n;t[n]=-1,e&=~r}}function nk(t){if(rt&6)throw Error(he(327));Pc();var e=cm(t,0);if(!(e&1))return Sr(t,Yt()),null;var n=Nm(t,e);if(t.tag!==0&&n===2){var r=Sw(t);r!==0&&(e=r,n=Qw(t,r))}if(n===1)throw n=Sh,il(t,0),Do(t,e),Sr(t,Yt()),n;if(n===6)throw Error(he(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$a(t,pr,js),Sr(t,Yt()),null}function n2(t,e){var n=rt;rt|=1;try{return t(e)}finally{rt=n,rt===0&&(Wc=Yt()+500,G0&&ya())}}function pl(t){Mo!==null&&Mo.tag===0&&!(rt&6)&&Pc();var e=rt;rt|=1;var n=di.transition,r=ht;try{if(di.transition=null,ht=1,t)return t()}finally{ht=r,di.transition=n,rt=e,!(rt&6)&&ya()}}function r2(){Ir=_c.current,kt(_c)}function il(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TU(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(LC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gm();break;case 3:$c(),kt(br),kt(Kn),WC();break;case 5:VC(r);break;case 4:$c();break;case 13:kt(Ut);break;case 19:kt(Ut);break;case 10:HC(r.type._context);break;case 22:case 23:r2()}n=n.return}if(Sn=t,tn=t=Qo(t.current,null),Pn=Ir=e,ln=0,Sh=null,e2=q0=gl=0,pr=Gd=null,Za!==null){for(e=0;e<Za.length;e++)if(n=Za[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Za=null}return t}function AD(t,e){do{var n=tn;try{if(BC(),Lp.current=Cm,Sm){for(var r=Ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sm=!1}if(fl=0,wn=an=Ht=null,Hd=!1,xh=0,ZC.current=null,n===null||n.return===null){ln=1,Sh=e,tn=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Pn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=GT(o);if(m!==null){m.flags&=-257,$T(m,o,a,s,e),m.mode&1&&zT(s,u,e),e=m,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){zT(s,u,e),i2();break e}c=Error(he(426))}}else if(jt&&a.mode&1){var C=GT(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),$T(C,o,a,s,e),FC(Vc(c,a));break e}}s=c=Vc(c,a),ln!==4&&(ln=2),Gd===null?Gd=[s]:Gd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=cD(s,c,e);OT(s,b);break e;case 1:a=c;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ko===null||!Ko.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=uD(s,a,e);OT(s,A);break e}}s=s.return}while(s!==null)}kD(n)}catch(T){e=T,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(!0)}function ND(){var t=Em.current;return Em.current=Cm,t===null?Cm:t}function i2(){(ln===0||ln===3||ln===2)&&(ln=4),Sn===null||!(gl&268435455)&&!(q0&268435455)||Do(Sn,Pn)}function Nm(t,e){var n=rt;rt|=2;var r=ND();(Sn!==t||Pn!==e)&&(js=null,il(t,e));do try{ZU();break}catch(i){AD(t,i)}while(!0);if(BC(),rt=n,Em.current=r,tn!==null)throw Error(he(261));return Sn=null,Pn=0,ln}function ZU(){for(;tn!==null;)TD(tn)}function eB(){for(;tn!==null&&!_F();)TD(tn)}function TD(t){var e=ID(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,e===null?kD(t):tn=e,ZC.current=null}function kD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qU(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,tn=null;return}}else if(n=WU(n,e,Ir),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);ln===0&&(ln=5)}function $a(t,e,n){var r=ht,i=di.transition;try{di.transition=null,ht=1,tB(t,e,n,r)}finally{di.transition=i,ht=r}return null}function tB(t,e,n,r){do Pc();while(Mo!==null);if(rt&6)throw Error(he(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(he(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MF(t,s),t===Sn&&(tn=Sn=null,Pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zg||(Zg=!0,DD(lm,function(){return Pc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=di.transition,di.transition=null;var o=ht;ht=1;var a=rt;rt|=4,ZC.current=null,YU(t,n),CD(n,t),wU(Tw),um=!!Nw,Tw=Nw=null,t.current=n,QU(n),AF(),rt=a,ht=o,di.transition=s}else t.current=n;if(Zg&&(Zg=!1,Mo=t,Am=i),s=t.pendingLanes,s===0&&(Ko=null),kF(n.stateNode),Sr(t,Yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_m)throw _m=!1,t=Kw,Kw=null,t;return Am&1&&t.tag!==0&&Pc(),s=t.pendingLanes,s&1?t===Yw?$d++:($d=0,Yw=t):$d=0,ya(),null}function Pc(){if(Mo!==null){var t=c5(Am),e=di.transition,n=ht;try{if(di.transition=null,ht=16>t?16:t,Mo===null)var r=!1;else{if(t=Mo,Mo=null,Am=0,rt&6)throw Error(he(331));var i=rt;for(rt|=4,Se=t.current;Se!==null;){var s=Se,o=s.child;if(Se.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Se=u;Se!==null;){var f=Se;switch(f.tag){case 0:case 11:case 15:zd(8,f,s)}var g=f.child;if(g!==null)g.return=f,Se=g;else for(;Se!==null;){f=Se;var p=f.sibling,m=f.return;if(bD(f),f===u){Se=null;break}if(p!==null){p.return=m,Se=p;break}Se=m}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var C=x.sibling;x.sibling=null,x=C}while(x!==null)}}Se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Se=o;else e:for(;Se!==null;){if(s=Se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zd(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Se=b;break e}Se=s.return}}var E=t.current;for(Se=E;Se!==null;){o=Se;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Se=S;else e:for(o=E;Se!==null;){if(a=Se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:W0(9,a)}}catch(T){Vt(a,a.return,T)}if(a===o){Se=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Se=A;break e}Se=a.return}}if(rt=i,ya(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(F0,t)}catch{}r=!0}return r}finally{ht=n,di.transition=e}}return!1}function rk(t,e,n){e=Vc(n,e),e=cD(t,e,1),t=qo(t,e,1),e=ir(),t!==null&&(Jh(t,1,e),Sr(t,e))}function Vt(t,e,n){if(t.tag===3)rk(t,t,n);else for(;e!==null;){if(e.tag===3){rk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ko===null||!Ko.has(r))){t=Vc(n,t),t=uD(e,t,1),e=qo(e,t,1),t=ir(),e!==null&&(Jh(e,1,t),Sr(e,t));break}}e=e.return}}function nB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&n,Sn===t&&(Pn&n)===n&&(ln===4||ln===3&&(Pn&130023424)===Pn&&500>Yt()-t2?il(t,0):e2|=n),Sr(t,e)}function RD(t,e){e===0&&(t.mode&1?(e=Gg,Gg<<=1,!(Gg&130023424)&&(Gg=4194304)):e=1);var n=ir();t=Ys(t,e),t!==null&&(Jh(t,e,n),Sr(t,n))}function rB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RD(t,n)}function iB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(e),RD(t,n)}var ID;ID=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)yr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yr=!1,VU(t,e,n);yr=!!(t.flags&131072)}else yr=!1,jt&&e.flags&1048576&&M5(e,vm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Up(t,e),t=e.pendingProps;var i=Hc(e,Kn.current);Dc(e,n),i=KC(null,e,r,t,i,n);var s=YC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wr(r)?(s=!0,pm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,GC(e),i.updater=V0,e.stateNode=i,i._reactInternals=e,Lw(e,r,t,n),e=Bw(null,e,r,!0,s,n)):(e.tag=0,jt&&s&&OC(e),er(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Up(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oB(r),t=Ni(r,t),i){case 0:e=Uw(null,e,r,t,n);break e;case 1:e=qT(null,e,r,t,n);break e;case 11:e=VT(null,e,r,t,n);break e;case 14:e=WT(null,e,r,Ni(r.type,t),n);break e}throw Error(he(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),Uw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),qT(t,e,r,i,n);case 3:e:{if(gD(e),t===null)throw Error(he(387));r=e.pendingProps,s=e.memoizedState,i=s.element,H5(t,e),bm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vc(Error(he(423)),e),e=KT(t,e,r,n,i);break e}else if(r!==i){i=Vc(Error(he(424)),e),e=KT(t,e,r,n,i);break e}else for(Pr=Wo(e.stateNode.containerInfo.firstChild),Mr=e,jt=!0,Ri=null,n=U5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zc(),r===i){e=Qs(t,e,n);break e}er(t,e,r,n)}e=e.child}return e;case 5:return z5(e),t===null&&jw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kw(r,i)?o=null:s!==null&&kw(r,s)&&(e.flags|=32),fD(t,e),er(t,e,o,n),e.child;case 6:return t===null&&jw(e),null;case 13:return pD(t,e,n);case 4:return $C(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gc(e,null,r,n):er(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),VT(t,e,r,i,n);case 7:return er(t,e,e.pendingProps,n),e.child;case 8:return er(t,e,e.pendingProps.children,n),e.child;case 12:return er(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ct(ym,r._currentValue),r._currentValue=o,s!==null)if(Bi(s.value,o)){if(s.children===i.children&&!br.current){e=Qs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=$s(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Mw(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(he(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Mw(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}er(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dc(e,n),i=fi(i),r=r(i),e.flags|=1,er(t,e,r,n),e.child;case 14:return r=e.type,i=Ni(r,e.pendingProps),i=Ni(r.type,i),WT(t,e,r,i,n);case 15:return dD(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ni(r,i),Up(t,e),e.tag=1,wr(r)?(t=!0,pm(e)):t=!1,Dc(e,n),lD(e,r,i),Lw(e,r,i,n),Bw(null,e,r,!0,t,n);case 19:return mD(t,e,n);case 22:return hD(t,e,n)}throw Error(he(156,e.tag))};function DD(t,e){return s5(t,e)}function sB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(t,e,n,r){return new sB(t,e,n,r)}function s2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oB(t){if(typeof t=="function")return s2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===EC)return 11;if(t===_C)return 14}return 2}function Qo(t,e){var n=t.alternate;return n===null?(n=ci(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")s2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pc:return sl(n.children,i,s,e);case CC:o=8,i|=8;break;case aw:return t=ci(12,n,e,i|2),t.elementType=aw,t.lanes=s,t;case lw:return t=ci(13,n,e,i),t.elementType=lw,t.lanes=s,t;case cw:return t=ci(19,n,e,i),t.elementType=cw,t.lanes=s,t;case z3:return K0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B3:o=10;break e;case H3:o=9;break e;case EC:o=11;break e;case _C:o=14;break e;case To:o=16,r=null;break e}throw Error(he(130,t==null?t:typeof t,""))}return e=ci(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function sl(t,e,n,r){return t=ci(7,t,r,e),t.lanes=n,t}function K0(t,e,n,r){return t=ci(22,t,r,e),t.elementType=z3,t.lanes=n,t.stateNode={isHidden:!1},t}function Hb(t,e,n){return t=ci(6,t,null,e),t.lanes=n,t}function zb(t,e,n){return e=ci(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sb(0),this.expirationTimes=Sb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o2(t,e,n,r,i,s,o,a,c){return t=new aB(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ci(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},GC(s),t}function lB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PD(t){if(!t)return ca;t=t._reactInternals;e:{if(kl(t)!==t||t.tag!==1)throw Error(he(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(t.tag===1){var n=t.type;if(wr(n))return P5(t,n,e)}return e}function jD(t,e,n,r,i,s,o,a,c){return t=o2(n,r,!0,t,i,s,o,a,c),t.context=PD(null),n=t.current,r=ir(),i=Yo(n),s=$s(r,i),s.callback=e??null,qo(n,s,i),t.current.lanes=i,Jh(t,i,r),Sr(t,r),t}function Y0(t,e,n,r){var i=e.current,s=ir(),o=Yo(i);return n=PD(n),e.context===null?e.context=n:e.pendingContext=n,e=$s(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qo(i,e,o),t!==null&&(Oi(t,i,o,s),Op(t,i,o)),o}function Tm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ik(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a2(t,e){ik(t,e),(t=t.alternate)&&ik(t,e)}function cB(){return null}var MD=typeof reportError=="function"?reportError:function(t){console.error(t)};function l2(t){this._internalRoot=t}Q0.prototype.render=l2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));Y0(t,e,null,null)};Q0.prototype.unmount=l2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pl(function(){Y0(null,t,null,null)}),e[Ks]=null}};function Q0(t){this._internalRoot=t}Q0.prototype.unstable_scheduleHydration=function(t){if(t){var e=h5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Io.length&&e!==0&&e<Io[n].priority;n++);Io.splice(n,0,t),n===0&&g5(t)}};function c2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sk(){}function uB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Tm(o);s.call(u)}}var o=jD(e,r,t,0,null,!1,!1,"",sk);return t._reactRootContainer=o,t[Ks]=o.current,gh(t.nodeType===8?t.parentNode:t),pl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Tm(c);a.call(u)}}var c=o2(t,0,!1,null,null,!1,!1,"",sk);return t._reactRootContainer=c,t[Ks]=c.current,gh(t.nodeType===8?t.parentNode:t),pl(function(){Y0(e,c,n,r)}),c}function J0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Tm(o);a.call(c)}}Y0(e,o,t,i)}else o=uB(n,e,t,i,r);return Tm(o)}u5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Td(e.pendingLanes);n!==0&&(TC(e,n|1),Sr(e,Yt()),!(rt&6)&&(Wc=Yt()+500,ya()))}break;case 13:pl(function(){var r=Ys(t,1);if(r!==null){var i=ir();Oi(r,t,1,i)}}),a2(t,1)}};kC=function(t){if(t.tag===13){var e=Ys(t,134217728);if(e!==null){var n=ir();Oi(e,t,134217728,n)}a2(t,134217728)}};d5=function(t){if(t.tag===13){var e=Yo(t),n=Ys(t,e);if(n!==null){var r=ir();Oi(n,t,e,r)}a2(t,e)}};h5=function(){return ht};f5=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};xw=function(t,e,n){switch(e){case"input":if(hw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=z0(r);if(!i)throw Error(he(90));$3(r),hw(r,i)}}}break;case"textarea":W3(t,n);break;case"select":e=n.value,e!=null&&Tc(t,!!n.multiple,e,!1)}};Z3=n2;e5=pl;var dB={usingClientEntryPoint:!1,Events:[ef,xc,z0,X3,J3,n2]},ld={findFiberByHostInstance:Ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hB={bundleType:ld.bundleType,version:ld.version,rendererPackageName:ld.rendererPackageName,rendererConfig:ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r5(t),t===null?null:t.stateNode},findFiberByHostInstance:ld.findFiberByHostInstance||cB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{F0=ep.inject(hB),ps=ep}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dB;Vr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c2(e))throw Error(he(200));return lB(t,e,null,n)};Vr.createRoot=function(t,e){if(!c2(t))throw Error(he(299));var n=!1,r="",i=MD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o2(t,1,!1,null,null,n,!1,r,i),t[Ks]=e.current,gh(t.nodeType===8?t.parentNode:t),new l2(e)};Vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=r5(e),t=t===null?null:t.stateNode,t};Vr.flushSync=function(t){return pl(t)};Vr.hydrate=function(t,e,n){if(!X0(e))throw Error(he(200));return J0(null,t,e,!0,n)};Vr.hydrateRoot=function(t,e,n){if(!c2(t))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jD(e,null,t,1,n??null,i,!1,s,o),t[Ks]=e.current,gh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Q0(e)};Vr.render=function(t,e,n){if(!X0(e))throw Error(he(200));return J0(null,t,e,!1,n)};Vr.unmountComponentAtNode=function(t){if(!X0(t))throw Error(he(40));return t._reactRootContainer?(pl(function(){J0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};Vr.unstable_batchedUpdates=n2;Vr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!X0(n))throw Error(he(200));if(t==null||t._reactInternals===void 0)throw Error(he(38));return J0(t,e,n,!1,r)};Vr.version="18.3.1-next-f1338f8080-20240426";function OD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OD)}catch(t){console.error(t)}}OD(),O3.exports=Vr;var qc=O3.exports;const fB=uu(qc);var LD,ok=qc;LD=ok.createRoot,ok.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}var Oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oo||(Oo={}));const ak="popstate";function gB(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Jw("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:UD(i)}return mB(e,n,null,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pB(){return Math.random().toString(36).substr(2,8)}function lk(t,e){return{usr:t.state,key:t.key,idx:e}}function Jw(t,e,n,r){return n===void 0&&(n=null),Ch({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gu(e):e,{state:n,key:e&&e.key||r||pB()})}function UD(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mB(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Oo.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Ch({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function g(){a=Oo.Pop;let C=f(),b=C==null?null:C-u;u=C,c&&c({action:a,location:x.location,delta:b})}function p(C,b){a=Oo.Push;let E=Jw(x.location,C,b);u=f()+1;let S=lk(E,u),A=x.createHref(E);try{o.pushState(S,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(A)}s&&c&&c({action:a,location:x.location,delta:1})}function m(C,b){a=Oo.Replace;let E=Jw(x.location,C,b);u=f();let S=lk(E,u),A=x.createHref(E);o.replaceState(S,"",A),s&&c&&c({action:a,location:x.location,delta:0})}function y(C){let b=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof C=="string"?C:UD(C);return E=E.replace(/ $/,"%20"),nn(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let x={get action(){return a},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ak,g),c=C,()=>{i.removeEventListener(ak,g),c=null}},createHref(C){return e(i,C)},createURL:y,encodeLocation(C){let b=y(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(C){return o.go(C)}};return x}var ck;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ck||(ck={}));function vB(t,e,n){return n===void 0&&(n="/"),yB(t,e,n,!1)}function yB(t,e,n,r){let i=typeof e=="string"?gu(e):e,s=zD(i.pathname||"/",n);if(s==null)return null;let o=BD(t);xB(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=RB(s);a=TB(o[c],u,r)}return a}function BD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(nn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ol([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(nn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),BD(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:AB(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of HD(s.path))i(s,o,c)}),e}function HD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=HD(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function xB(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NB(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bB=/^:[\w-]+$/,wB=3,SB=2,CB=1,EB=10,_B=-2,uk=t=>t==="*";function AB(t,e){let n=t.split("/"),r=n.length;return n.some(uk)&&(r+=_B),e&&(r+=SB),n.filter(i=>!uk(i)).reduce((i,s)=>i+(bB.test(s)?wB:s===""?CB:EB),r)}function NB(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TB(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",g=dk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!g&&u&&n&&!r[r.length-1].route.index&&(g=dk({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:ol([s,g.pathname]),pathnameBase:jB(ol([s,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(s=ol([s,g.pathnameBase]))}return o}function dk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kB(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,g)=>{let{paramName:p,isOptional:m}=f;if(p==="*"){let x=a[g]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[g];return m&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function kB(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zD(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gu(t):t;return{pathname:n?n.startsWith("/")?n:DB(n,e):e,search:MB(r),hash:OB(i)}}function DB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gb(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GD(t,e){let n=PB(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $D(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gu(t):(i=Ch({},t),nn(!i.pathname||!i.pathname.includes("?"),Gb("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),Gb("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),Gb("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let g=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),g-=1;i.pathname=p.join("/")}a=g>=0?e[g]:"/"}let c=IB(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const ol=t=>t.join("/").replace(/\/\/+/g,"/"),jB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VD=["post","put","patch","delete"];new Set(VD);const FB=["get",...VD];new Set(FB);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}const u2=M.createContext(null),UB=M.createContext(null),nf=M.createContext(null),Z0=M.createContext(null),xa=M.createContext({outlet:null,matches:[],isDataRoute:!1}),WD=M.createContext(null);function rf(){return M.useContext(Z0)!=null}function pu(){return rf()||nn(!1),M.useContext(Z0).location}function qD(t){M.useContext(nf).static||M.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=M.useContext(xa);return t?JB():BB()}function BB(){rf()||nn(!1);let t=M.useContext(u2),{basename:e,future:n,navigator:r}=M.useContext(nf),{matches:i}=M.useContext(xa),{pathname:s}=pu(),o=JSON.stringify(GD(i,n.v7_relativeSplatPath)),a=M.useRef(!1);return qD(()=>{a.current=!0}),M.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let g=$D(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ol([e,g.pathname])),(f.replace?r.replace:r.push)(g,f.state,f)},[e,r,o,s,t])}function d2(){let{matches:t}=M.useContext(xa),e=t[t.length-1];return e?e.params:{}}function HB(t,e){return zB(t,e)}function zB(t,e,n,r){rf()||nn(!1);let{navigator:i}=M.useContext(nf),{matches:s}=M.useContext(xa),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=pu(),f;if(e){var g;let C=typeof e=="string"?gu(e):e;c==="/"||(g=C.pathname)!=null&&g.startsWith(c)||nn(!1),f=C}else f=u;let p=f.pathname||"/",m=p;if(c!=="/"){let C=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=vB(t,{pathname:m}),x=qB(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:ol([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:ol([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&x?M.createElement(Z0.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Oo.Pop}},x):x}function GB(){let t=XB(),e=LB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const $B=M.createElement(GB,null);class VB extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(xa.Provider,{value:this.props.routeContext},M.createElement(WD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WB(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(u2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(xa.Provider,{value:e},r)}function qB(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);f>=0||nn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:p,errors:m}=n,y=g.route.loader&&p[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,g,p)=>{let m,y=!1,x=null,C=null;n&&(m=a&&g.route.id?a[g.route.id]:void 0,x=g.route.errorElement||$B,c&&(u<0&&p===0?(y=!0,C=null):u===p&&(y=!0,C=g.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),E=()=>{let S;return m?S=x:y?S=C:g.route.Component?S=M.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=f,M.createElement(WB,{match:g,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:S})};return n&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?M.createElement(VB,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}var KD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KD||{}),km=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(km||{});function KB(t){let e=M.useContext(u2);return e||nn(!1),e}function YB(t){let e=M.useContext(UB);return e||nn(!1),e}function QB(t){let e=M.useContext(xa);return e||nn(!1),e}function YD(t){let e=QB(),n=e.matches[e.matches.length-1];return n.route.id||nn(!1),n.route.id}function XB(){var t;let e=M.useContext(WD),n=YB(km.UseRouteError),r=YD(km.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JB(){let{router:t}=KB(KD.UseNavigateStable),e=YD(km.UseNavigateStable),n=M.useRef(!1);return qD(()=>{n.current=!0}),M.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Eh({fromRouteId:e},s)))},[t,e])}const hk={};function ZB(t,e){hk[e]||(hk[e]=!0,console.warn(e))}const fk=(t,e,n)=>ZB(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function eH(t,e){t!=null&&t.v7_startTransition||fk("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&fk("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Vd(t){let{to:e,replace:n,state:r,relative:i}=t;rf()||nn(!1);let{future:s,static:o}=M.useContext(nf),{matches:a}=M.useContext(xa),{pathname:c}=pu(),u=Gi(),f=$D(e,GD(a,s.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(f);return M.useEffect(()=>u(JSON.parse(g),{replace:n,state:r,relative:i}),[u,g,i,n,r]),null}function xn(t){nn(!1)}function tH(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oo.Pop,navigator:s,static:o=!1,future:a}=t;rf()&&nn(!1);let c=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:s,static:o,future:Eh({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=gu(r));let{pathname:f="/",search:g="",hash:p="",state:m=null,key:y="default"}=r,x=M.useMemo(()=>{let C=zD(f,c);return C==null?null:{location:{pathname:C,search:g,hash:p,state:m,key:y},navigationType:i}},[c,f,g,p,m,y,i]);return x==null?null:M.createElement(nf.Provider,{value:u},M.createElement(Z0.Provider,{children:n,value:x}))}function gk(t){let{children:e,location:n}=t;return HB(Zw(e),n)}new Promise(()=>{});function Zw(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let s=[...e,i];if(r.type===M.Fragment){n.push.apply(n,Zw(r.props.children,s));return}r.type!==xn&&nn(!1),!r.props.index||!r.props.children||nn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zw(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const nH="6";try{window.__reactRouterVersion=nH}catch{}const rH="startTransition",pk=rF[rH];function iH(t){let{basename:e,children:n,future:r,window:i}=t,s=M.useRef();s.current==null&&(s.current=gB({window:i,v5Compat:!0}));let o=s.current,[a,c]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=M.useCallback(g=>{u&&pk?pk(()=>c(g)):c(g)},[c,u]);return M.useLayoutEffect(()=>o.listen(f),[o,f]),M.useEffect(()=>eH(r),[r]),M.createElement(tH,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var mk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mk||(mk={}));var vk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vk||(vk={}));/*! @azure/msal-common v15.10.0 2025-08-05 */const oe={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Lo={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},tl={GET:"GET",POST:"POST"},sf=[oe.OPENID_SCOPE,oe.PROFILE_SCOPE,oe.OFFLINE_ACCESS_SCOPE],yk=[...sf,oe.EMAIL_SCOPE],tr={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},xk={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Xo={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},tp={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},nr={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},h2={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},ev={QUERY:"query",FRAGMENT:"fragment"},sH={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},QD={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},np={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},_h={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},In={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},f2="appmetadata",oH="client_info",Rm="1",Im={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Rr={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},kn={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},dt={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Wd={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},bk={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},ic={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},$b={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Va={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},aH={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},XD=300;/*! @azure/msal-common v15.10.0 2025-08-05 */const Dm="unexpected_error",lH="post_request_failed";/*! @azure/msal-common v15.10.0 2025-08-05 */const wk={[Dm]:"Unexpected error in authentication.",[lH]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class vt extends Error{constructor(e,n,r){const i=n?`${e}: ${n}`:e;super(i),Object.setPrototypeOf(this,vt.prototype),this.errorCode=e||oe.EMPTY_STRING,this.errorMessage=n||oe.EMPTY_STRING,this.subError=r||oe.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function eS(t,e){return new vt(t,e?`${wk[t]} ${e}`:wk[t])}/*! @azure/msal-common v15.10.0 2025-08-05 */const g2="client_info_decoding_error",JD="client_info_empty_error",p2="token_parsing_error",ZD="null_or_empty_token",Ms="endpoints_resolution_error",eP="network_error",tP="openid_config_error",nP="hash_not_deserialized",Kc="invalid_state",rP="state_mismatch",tS="state_not_found",iP="nonce_mismatch",m2="auth_time_not_found",sP="max_age_transpired",cH="multiple_matching_tokens",uH="multiple_matching_accounts",oP="multiple_matching_appMetadata",aP="request_cannot_be_made",lP="cannot_remove_empty_scope",cP="cannot_append_scopeset",nS="empty_input_scopeset",dH="device_code_polling_cancelled",hH="device_code_expired",fH="device_code_unknown_error",v2="no_account_in_silent_request",uP="invalid_cache_record",y2="invalid_cache_environment",rS="no_account_found",iS="no_crypto_object",gH="unexpected_credential_type",pH="invalid_assertion",mH="invalid_client_credential",Jo="token_refresh_required",vH="user_timeout_reached",dP="token_claims_cnf_required_for_signedjwt",hP="authorization_code_missing_from_server_response",fP="binding_key_not_removed",gP="end_session_endpoint_not_supported",x2="key_id_missing",yH="no_network_connectivity",xH="user_canceled",bH="missing_tenant_id_error",Ge="method_not_implemented",wH="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.10.0 2025-08-05 */const Sk={[g2]:"The client info could not be parsed/decoded correctly",[JD]:"The client info was empty",[p2]:"Token cannot be parsed",[ZD]:"The token is null or empty",[Ms]:"Endpoints cannot be resolved",[eP]:"Network request failed",[tP]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[nP]:"The hash parameters could not be deserialized",[Kc]:"State was not the expected format",[rP]:"State mismatch error",[tS]:"State not found",[iP]:"Nonce mismatch error",[m2]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[sP]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[cH]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[uH]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[oP]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[aP]:"Token request cannot be made without authorization code or refresh token.",[lP]:"Cannot remove null or empty scope from ScopeSet",[cP]:"Cannot append ScopeSet",[nS]:"Empty input ScopeSet cannot be processed",[dH]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[hH]:"Device code is expired.",[fH]:"Device code stopped polling for unknown reasons.",[v2]:"Please pass an account object, silent flow is not supported without account information",[uP]:"Cache record object was null or undefined.",[y2]:"Invalid environment when attempting to create cache entry",[rS]:"No account found in cache for given key.",[iS]:"No crypto object detected.",[gH]:"Unexpected credential type.",[pH]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[mH]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Jo]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[vH]:"User defined timeout for device code polling reached",[dP]:"Cannot generate a POP jwt if the token_claims are not populated",[hP]:"Server response does not contain an authorization code to proceed",[fP]:"Could not remove the credential's binding key from storage.",[gP]:"The provided authority does not support logout",[x2]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[yH]:"No network connectivity. Check your internet connection.",[xH]:"User cancelled the flow.",[bH]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Ge]:"This method has not been implemented",[wH]:"The nested app auth bridge is disabled"};class b2 extends vt{constructor(e,n){super(e,n?`${Sk[e]}: ${n}`:Sk[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,b2.prototype)}}function de(t,e){return new b2(t,e)}/*! @azure/msal-common v15.10.0 2025-08-05 */const Pm={createNewGuid:()=>{throw de(Ge)},base64Decode:()=>{throw de(Ge)},base64Encode:()=>{throw de(Ge)},base64UrlEncode:()=>{throw de(Ge)},encodeKid:()=>{throw de(Ge)},async getPublicKeyThumbprint(){throw de(Ge)},async removeTokenBindingKey(){throw de(Ge)},async clearKeystore(){throw de(Ge)},async signJwt(){throw de(Ge)},async hashString(){throw de(Ge)}};/*! @azure/msal-common v15.10.0 2025-08-05 */var Pt;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(Pt||(Pt={}));class Xs{constructor(e,n,r){this.level=Pt.Info;const i=()=>{},s=e||Xs.createDefaultLoggerOptions();this.localCallback=s.loggerCallback||i,this.piiLoggingEnabled=s.piiLoggingEnabled||!1,this.level=typeof s.logLevel=="number"?s.logLevel:Pt.Info,this.correlationId=s.correlationId||oe.EMPTY_STRING,this.packageName=n||oe.EMPTY_STRING,this.packageVersion=r||oe.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Pt.Info}}clone(e,n,r){return new Xs({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const s=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Pt[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,s,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:Pt.Error,containsPii:!1,correlationId:n||oe.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:Pt.Error,containsPii:!0,correlationId:n||oe.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:Pt.Warning,containsPii:!1,correlationId:n||oe.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:Pt.Warning,containsPii:!0,correlationId:n||oe.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:Pt.Info,containsPii:!1,correlationId:n||oe.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:Pt.Info,containsPii:!0,correlationId:n||oe.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:Pt.Verbose,containsPii:!1,correlationId:n||oe.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:Pt.Verbose,containsPii:!0,correlationId:n||oe.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:Pt.Trace,containsPii:!1,correlationId:n||oe.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:Pt.Trace,containsPii:!0,correlationId:n||oe.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.10.0 2025-08-05 */const pP="@azure/msal-common",w2="15.10.0";/*! @azure/msal-common v15.10.0 2025-08-05 */const S2={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v15.10.0 2025-08-05 */const mP="redirect_uri_empty",SH="claims_request_parsing_error",vP="authority_uri_insecure",Rd="url_parse_error",yP="empty_url_error",xP="empty_input_scopes_error",C2="invalid_claims",bP="token_request_empty",wP="logout_request_empty",CH="invalid_code_challenge_method",E2="pkce_params_missing",_2="invalid_cloud_discovery_metadata",SP="invalid_authority_metadata",CP="untrusted_authority",tv="missing_ssh_jwk",EP="missing_ssh_kid",EH="missing_nonce_authentication_header",_H="invalid_authentication_header",_P="cannot_set_OIDCOptions",AP="cannot_allow_platform_broker",NP="authority_mismatch",TP="invalid_request_method_for_EAR",kP="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.10.0 2025-08-05 */const AH={[mP]:"A redirect URI is required for all calls, and none has been set.",[SH]:"Could not parse the given claims request object.",[vP]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Rd]:"URL could not be parsed into appropriate segments.",[yP]:"URL was empty or null.",[xP]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[C2]:"Given claims parameter must be a stringified JSON object.",[bP]:"Token request was empty and not found in cache.",[wP]:"The logout request was null or undefined.",[CH]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[E2]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[_2]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[SP]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[CP]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[tv]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[EP]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[EH]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[_H]:"Invalid authentication header provided",[_P]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[AP]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[NP]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[kP]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[TP]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class A2 extends vt{constructor(e){super(e,AH[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,A2.prototype)}}function xt(t){return new A2(t)}/*! @azure/msal-common v15.10.0 2025-08-05 */class vs{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),i=s=>decodeURIComponent(s.replace(/\+/g," "));return r.forEach(s=>{if(s.trim()){const[o,a]=s.split(/=(.+)/g,2);o&&a&&(n[i(o)]=i(a))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.10.0 2025-08-05 */class cn{constructor(e){const n=e?vs.trimArrayEntries([...e]):[],r=n?vs.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw xt(xP);this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||oe.EMPTY_STRING).split(" ");return new cn(r)}static createSearchScopes(e){const n=new cn(e);return n.containsOnlyOIDCScopes()?n.removeScope(oe.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new cn(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return yk.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw de(cP)}}removeScope(e){if(!e)throw de(lP);this.scopes.delete(e.trim())}removeOIDCScopes(){yk.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw de(nS);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw de(nS);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):oe.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.10.0 2025-08-05 */function Ck(t,e){return!!t&&!!e&&t===e.split(".")[1]}function N2(t,e,n,r){if(r){const{oid:i,sub:s,tid:o,name:a,tfp:c,acr:u,preferred_username:f,upn:g,login_hint:p}=r,m=o||c||u||"";return{tenantId:m,localAccountId:i||s||"",name:a,username:f||g||"",loginHint:p,isHomeTenant:Ck(m,t)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:Ck(n,t)}}function T2(t,e,n,r){let i=t;if(e){const{isHomeTenant:s,...o}=e;i={...t,...o}}if(n){const{isHomeTenant:s,...o}=N2(t.homeAccountId,t.localAccountId,t.tenantId,n);return i={...i,...o,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v15.10.0 2025-08-05 */function mu(t,e){const n=NH(t);try{const r=e(n);return JSON.parse(r)}catch{throw de(p2)}}function NH(t){if(!t)throw de(ZD);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw de(p2);return n[2]}function RP(t,e){if(e===0||Date.now()-3e5>t+e)throw de(sP)}/*! @azure/msal-common v15.10.0 2025-08-05 */function IP(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function jm(t){if(!t||t.indexOf("=")<0)return null;try{const e=IP(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw de(nP)}return null}function Ah(t,e=!0,n){const r=new Array;return t.forEach((i,s)=>{!e&&n&&s in n?r.push(`${s}=${i}`):r.push(`${s}=${encodeURIComponent(i)}`)}),r.join("&")}/*! @azure/msal-common v15.10.0 2025-08-05 */class Ze{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw xt(yP);e.includes("#")||(this._urlString=Ze.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return vs.endsWith(n,"?")?n=n.slice(0,-1):vs.endsWith(n,"?/")&&(n=n.slice(0,-2)),vs.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw xt(Rd)}if(!e.HostNameAndPort||!e.PathSegments)throw xt(Rd);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw xt(vP)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return Ze.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===Xo.COMMON||r[0]===Xo.ORGANIZATIONS)&&(r[0]=e),Ze.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw xt(Rd);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(s=>s&&s.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw xt(Rd);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===oe.FORWARD_SLASH){const i=new Ze(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ze(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!jm(e)}}/*! @azure/msal-common v15.10.0 2025-08-05 */const DP={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Ek=DP.endpointMetadata,k2=DP.instanceDiscoveryMetadata,PP=new Set;k2.metadata.forEach(t=>{t.aliases.forEach(e=>{PP.add(e)})});function TH(t,e){var i;let n;const r=t.canonicalAuthority;if(r){const s=new Ze(r).getUrlComponents().HostNameAndPort;n=_k(s,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,Rr.CONFIG,e)||_k(s,k2.metadata,Rr.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function _k(t,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const i=Mm(e,t);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function kH(t){return Mm(k2.metadata,t)}function Mm(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.10.0 2025-08-05 */const Om="cache_quota_exceeded",R2="cache_error_unknown";/*! @azure/msal-common v15.10.0 2025-08-05 */const Vb={[Om]:"Exceeded cache storage capacity.",[R2]:"Unexpected error occurred when using cache storage."};class jc extends vt{constructor(e,n){const r=n||(Vb[e]?Vb[e]:Vb[R2]);super(`${e}: ${r}`),Object.setPrototypeOf(this,jc.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function sS(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new jc(Om):new jc(t.name,t.message):new jc(R2)}/*! @azure/msal-common v15.10.0 2025-08-05 */class oS{constructor(e,n,r,i,s){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(pP,w2),this.staticAuthorityOptions=s,this.performanceClient=i}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){const r=this.getAllAccounts(e,n);return r.length>1?r.sort(s=>s.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,n){const r=this.getAccountsFilteredBy(e,n);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,n,r){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,n,r==null?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,n,r,i,s){let o=null,a;if(s&&!this.tenantProfileMatchesFilter(r,s))return null;const c=this.getIdToken(e,i,n,r.tenantId);return c&&(a=mu(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,s))?null:(o=T2(e,r,a,c==null?void 0:c.secret),o)}getTenantProfilesFromAccountEntity(e,n,r,i){const s=e.getAccountInfo();let o=s.tenantProfiles||new Map;const a=this.getTokenKeys();if(r){const u=o.get(r);if(u)o=new Map([[r,u]]);else return[]}const c=[];return o.forEach(u=>{const f=this.getTenantedAccountInfoByFilter(s,a,u,n,i);f&&c.push(f)}),c}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){var i;if(!e)throw de(uP);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(s){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),s instanceof vt?s:sS(s)}}async saveAccessToken(e,n){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),s=cn.fromString(e.target);i.accessToken.forEach(o=>{if(!this.accessTokenKeyMatchesFilter(o,r,!1))return;const a=this.getAccessTokenCredential(o,n);a&&this.credentialMatchesFilter(a,r)&&cn.fromString(a.target).intersectingScopeSets(s)&&this.removeAccessToken(o,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const r=this.getAccountKeys(),i=[];return r.forEach(s=>{var u;const o=this.getAccount(s,n);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const a={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(u=o.tenantProfiles)==null?void 0:u.filter(f=>this.tenantProfileMatchesFilter(f,a));c&&c.length===0||i.push(o)}),i}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===In.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===dt.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const s=this.getAppMetadata(i);s&&(e.environment&&!this.matchEnvironment(s,e.environment)||e.clientId&&!this.matchClientId(s,e.clientId)||(r[i]=s))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const s=this.getAuthorityMetadata(i);s&&s.aliases.indexOf(e)!==-1&&(r=s)}),r}removeAllAccounts(e){this.getAllAccounts({},e).forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const r=this.getAccountKeys(),i=s=>s.includes(e.homeAccountId)&&s.includes(e.environment);r.filter(i).forEach(s=>{this.removeItem(s,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const r=this.getTokenKeys(),i=s=>s.includes(e.homeAccountId)&&s.includes(e.environment);r.idToken.filter(i).forEach(s=>{this.removeIdToken(s,n)}),r.accessToken.filter(i).forEach(s=>{this.removeAccessToken(s,n)}),r.refreshToken.filter(i).forEach(s=>{this.removeRefreshToken(s,n)})}removeAccessToken(e,n){const r=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!r||r.credentialType.toLowerCase()!==In.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==dt.POP)return;const i=r.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{var s;this.commonLogger.error(`Failed to remove token binding key ${i}`,n),(s=this.performanceClient)==null||s.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}getIdToken(e,n,r,i,s){this.commonLogger.trace("CacheManager - getIdToken called");const o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:In.ID_TOKEN,clientId:this.clientId,realm:i},a=this.getIdTokensByFilter(o,n,r),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let u=a;if(!i){const f=new Map;a.forEach((p,m)=>{p.realm===e.tenantId&&f.set(m,p)});const g=f.size;if(g<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(g===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),f.values().next().value;u=f}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((f,g)=>{this.removeIdToken(g,n)}),s&&n&&s.addFields({multiMatchedID:a.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,n,r){const i=r&&r.idToken||this.getTokenKeys().idToken,s=new Map;return i.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...e}))return;const a=this.getIdTokenCredential(o,n);a&&this.credentialMatchesFilter(a,e)&&s.set(o,a)}),s}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,r,i){const s=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",s);const o=cn.createSearchScopes(n.scopes),a=n.authenticationScheme||dt.BEARER,c=a&&a.toLowerCase()!==dt.BEARER.toLowerCase()?In.ACCESS_TOKEN_WITH_AUTH_SCHEME:In.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:i||e.tenantId,target:o,tokenType:a,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},f=r&&r.accessToken||this.getTokenKeys().accessToken,g=[];f.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,u,!0)){const y=this.getAccessTokenCredential(m,s);y&&this.credentialMatchesFilter(y,u)&&g.push(y)}});const p=g.length;return p<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",s),null):p>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",s),g.forEach(m=>{this.removeAccessToken(this.generateCredentialKey(m),s)}),this.performanceClient.addFields({multiMatchedAT:g.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",s),g[0])}accessTokenKeyMatchesFilter(e,n,r){const i=e.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const s=n.target.asArray();for(let o=0;o<s.length;o++){if(r&&!i.includes(s[o].toLowerCase()))return!1;if(!r&&i.includes(s[o].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const r=this.getTokenKeys(),i=[];return r.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,e,!0))return;const o=this.getAccessTokenCredential(s,n);o&&this.credentialMatchesFilter(o,e)&&i.push(o)}),i}getRefreshToken(e,n,r,i,s){this.commonLogger.trace("CacheManager - getRefreshToken called");const o=n?Rm:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:In.REFRESH_TOKEN,clientId:this.clientId,familyId:o},c=i&&i.refreshToken||this.getTokenKeys().refreshToken,u=[];c.forEach(g=>{if(this.refreshTokenKeyMatchesFilter(g,a)){const p=this.getRefreshTokenCredential(g,r);p&&this.credentialMatchesFilter(p,a)&&u.push(p)}});const f=u.length;return f<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(f>1&&s&&r&&s.addFields({multiMatchedRT:f},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(o=>r[o]),s=i.length;if(s<1)return null;if(s>1)throw de(oP);return i[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Rm)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const i=TH(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==In.ACCESS_TOKEN&&e.credentialType!==In.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:cn.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(f2)!==-1}isAuthorityMetadata(e){return e.indexOf(Im.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Im.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class RH extends oS{async setAccount(){throw de(Ge)}getAccount(){throw de(Ge)}async setIdTokenCredential(){throw de(Ge)}getIdTokenCredential(){throw de(Ge)}async setAccessTokenCredential(){throw de(Ge)}getAccessTokenCredential(){throw de(Ge)}async setRefreshTokenCredential(){throw de(Ge)}getRefreshTokenCredential(){throw de(Ge)}setAppMetadata(){throw de(Ge)}getAppMetadata(){throw de(Ge)}setServerTelemetry(){throw de(Ge)}getServerTelemetry(){throw de(Ge)}setAuthorityMetadata(){throw de(Ge)}getAuthorityMetadata(){throw de(Ge)}getAuthorityMetadataKeys(){throw de(Ge)}setThrottlingCache(){throw de(Ge)}getThrottlingCache(){throw de(Ge)}removeItem(){throw de(Ge)}getKeys(){throw de(Ge)}getAccountKeys(){throw de(Ge)}getTokenKeys(){throw de(Ge)}generateCredentialKey(){throw de(Ge)}generateAccountKey(){throw de(Ge)}}/*! @azure/msal-common v15.10.0 2025-08-05 */const Cr={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.10.0 2025-08-05 */const U={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},IH={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v15.10.0 2025-08-05 */class Ak{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class jP{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:IH.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new Ak}}startPerformanceMeasurement(){return new Ak}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.10.0 2025-08-05 */const MP={tokenRenewalOffsetSeconds:XD,preventCorsPreflight:!1},DH={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Pt.Info,correlationId:oe.EMPTY_STRING},PH={claimsBasedCachingEnabled:!1},jH={async sendGetRequestAsync(){throw de(Ge)},async sendPostRequestAsync(){throw de(Ge)}},MH={sku:oe.SKU,version:w2,cpu:oe.EMPTY_STRING,os:oe.EMPTY_STRING},OH={clientSecret:oe.EMPTY_STRING,clientAssertion:void 0},LH={azureCloudInstance:S2.None,tenant:`${oe.DEFAULT_COMMON_TENANT}`},FH={application:{appName:"",appVersion:""}};function UH({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:s,cryptoInterface:o,clientCredentials:a,libraryInfo:c,telemetry:u,serverTelemetryManager:f,persistencePlugin:g,serializableCache:p}){const m={...DH,...n};return{authOptions:BH(t),systemOptions:{...MP,...e},loggerOptions:m,cacheOptions:{...PH,...r},storageInterface:i||new RH(t.clientId,Pm,new Xs(m),new jP),networkInterface:s||jH,cryptoInterface:o||Pm,clientCredentials:a||OH,libraryInfo:{...MH,...c},telemetry:{...FH,...u},serverTelemetryManager:f||null,persistencePlugin:g||null,serializableCache:p||null}}function BH(t){return{clientCapabilities:[],azureCloudOptions:LH,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function OP(t){return t.authOptions.authority.options.protocolMode===Cr.OIDC}/*! @azure/msal-common v15.10.0 2025-08-05 */const Di={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.10.0 2025-08-05 */function Lm(t,e){if(!t)throw de(JD);try{const n=e(t);return JSON.parse(n)}catch{throw de(g2)}}function Mc(t){if(!t)throw de(g2);const e=t.split(_h.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?oe.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.10.0 2025-08-05 */const ml="client_id",LP="redirect_uri",HH="response_type",zH="response_mode",GH="grant_type",$H="claims",VH="scope",WH="refresh_token",qH="state",KH="nonce",YH="prompt",QH="code",XH="code_challenge",JH="code_challenge_method",ZH="code_verifier",ez="client-request-id",tz="x-client-SKU",nz="x-client-VER",rz="x-client-OS",iz="x-client-CPU",sz="x-client-current-telemetry",oz="x-client-last-telemetry",az="x-ms-lib-capability",lz="x-app-name",cz="x-app-ver",uz="post_logout_redirect_uri",dz="id_token_hint",hz="client_secret",fz="client_assertion",gz="client_assertion_type",FP="token_type",UP="req_cnf",Nk="return_spa_code",pz="nativebroker",mz="logout_hint",vz="sid",yz="login_hint",xz="domain_hint",bz="x-client-xtra-sku",Fm="brk_client_id",Um="brk_redirect_uri",aS="instance_aware",wz="ear_jwk",Sz="ear_jwe_crypto";/*! @azure/msal-common v15.10.0 2025-08-05 */function nv(t,e,n){if(!e)return;const r=t.get(ml);r&&t.has(Fm)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:t.get(LP)},e))}function I2(t,e){t.set(HH,e)}function Cz(t,e){t.set(zH,e||sH.QUERY)}function Ez(t){t.set(pz,"1")}function D2(t,e,n=!0,r=sf){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=n?[...e||[],...r]:e||[],s=new cn(i);t.set(VH,s.printScopes())}function P2(t,e){t.set(ml,e)}function j2(t,e){t.set(LP,e)}function _z(t,e){t.set(uz,e)}function Az(t,e){t.set(dz,e)}function Nz(t,e){t.set(xz,e)}function rp(t,e){t.set(yz,e)}function Bm(t,e){t.set(tr.CCS_HEADER,`UPN:${e}`)}function qd(t,e){t.set(tr.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function Tk(t,e){t.set(vz,e)}function M2(t,e,n){const r=Pz(e,n);try{JSON.parse(r)}catch{throw xt(C2)}t.set($H,r)}function O2(t,e){t.set(ez,e)}function L2(t,e){t.set(tz,e.sku),t.set(nz,e.version),e.os&&t.set(rz,e.os),e.cpu&&t.set(iz,e.cpu)}function F2(t,e){e!=null&&e.appName&&t.set(lz,e.appName),e!=null&&e.appVersion&&t.set(cz,e.appVersion)}function Tz(t,e){t.set(YH,e)}function BP(t,e){e&&t.set(qH,e)}function kz(t,e){t.set(KH,e)}function HP(t,e,n){if(e&&n)t.set(XH,e),t.set(JH,n);else throw xt(E2)}function Rz(t,e){t.set(QH,e)}function Iz(t,e){t.set(WH,e)}function Dz(t,e){t.set(ZH,e)}function zP(t,e){t.set(hz,e)}function GP(t,e){e&&t.set(fz,e)}function $P(t,e){e&&t.set(gz,e)}function VP(t,e){t.set(GH,e)}function U2(t){t.set(oH,"1")}function WP(t){t.has(aS)||t.set(aS,"true")}function Zo(t,e){Object.entries(e).forEach(([n,r])=>{!t.has(n)&&r&&t.set(n,r)})}function Pz(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw xt(C2)}return e&&e.length>0&&(n.hasOwnProperty(tp.ACCESS_TOKEN)||(n[tp.ACCESS_TOKEN]={}),n[tp.ACCESS_TOKEN][tp.XMS_CC]={values:e}),JSON.stringify(n)}function B2(t,e){e&&(t.set(FP,dt.POP),t.set(UP,e))}function qP(t,e){e&&(t.set(FP,dt.SSH),t.set(UP,e))}function KP(t,e){t.set(sz,e.generateCurrentRequestHeaderValue()),t.set(oz,e.generateLastRequestHeaderValue())}function YP(t){t.set(az,Wd.X_MS_LIB_CAPABILITY_VALUE)}function jz(t,e){t.set(mz,e)}function rv(t,e,n){t.has(Fm)||t.set(Fm,e),t.has(Um)||t.set(Um,n)}function Mz(t,e){t.set(wz,encodeURIComponent(e)),t.set(Sz,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function Oz(t,e){Object.entries(e).forEach(([n,r])=>{r&&t.set(n,r)})}/*! @azure/msal-common v15.10.0 2025-08-05 */const ki={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.10.0 2025-08-05 */function Lz(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.10.0 2025-08-05 */function Fz(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.10.0 2025-08-05 */function Uz(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.10.0 2025-08-05 */const Or=(t,e,n,r,i)=>(...s)=>{n.trace(`Executing function ${e}`);const o=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}try{const a=t(...s);return o==null||o.end({success:!0}),n.trace(`Returning result from ${e}`),a}catch(a){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw o==null||o.end({success:!1},a),a}},re=(t,e,n,r,i)=>(...s)=>{n.trace(`Executing function ${e}`);const o=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}return r==null||r.setPreQueueTime(e,i),t(...s).then(a=>(n.trace(`Returning result from ${e}`),o==null||o.end({success:!0}),a)).catch(a=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw o==null||o.end({success:!1},a),a})};/*! @azure/msal-common v15.10.0 2025-08-05 */class iv{constructor(e,n,r,i){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=ic.ENVIRONMENT_VARIABLE;else{const s=iv.IMDS_OPTIONS;try{const o=await re(this.getRegionFromIMDS.bind(this),U.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(oe.IMDS_VERSION,s);if(o.status===Lo.SUCCESS&&(r=o.body,n.region_source=ic.IMDS),o.status===Lo.BAD_REQUEST){const a=await re(this.getCurrentVersion.bind(this),U.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(s);if(!a)return n.region_source=ic.FAILED_AUTO_DETECTION,null;const c=await re(this.getRegionFromIMDS.bind(this),U.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,s);c.status===Lo.SUCCESS&&(r=c.body,n.region_source=ic.IMDS)}}catch{return n.region_source=ic.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=ic.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(U.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${oe.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,oe.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(U.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${oe.IMDS_ENDPOINT}?format=json`,e);return r.status===Lo.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}iv.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.10.0 2025-08-05 */function Ar(){return Math.round(new Date().getTime()/1e3)}function kk(t){return t.getTime()/1e3}function Oc(t){return t?new Date(Number(t)*1e3):new Date}function Hm(t,e){const n=Number(t)||0;return Ar()+e>n}function Bz(t,e){const n=Number(t)+e*24*60*60*1e3;return Date.now()>n}function Hz(t){return Number(t)>Ar()}/*! @azure/msal-common v15.10.0 2025-08-05 */function sv(t,e,n,r,i){return{credentialType:In.ID_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,realm:i,lastUpdatedAt:Date.now().toString()}}function ov(t,e,n,r,i,s,o,a,c,u,f,g,p,m,y){var C,b;const x={homeAccountId:t,credentialType:In.ACCESS_TOKEN,secret:n,cachedAt:Ar().toString(),expiresOn:o.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:s,tokenType:f||dt.BEARER,lastUpdatedAt:Date.now().toString()};if(g&&(x.userAssertionHash=g),u&&(x.refreshOn=u.toString()),m&&(x.requestedClaims=m,x.requestedClaimsHash=y),((C=x.tokenType)==null?void 0:C.toLowerCase())!==dt.BEARER.toLowerCase())switch(x.credentialType=In.ACCESS_TOKEN_WITH_AUTH_SCHEME,x.tokenType){case dt.POP:const E=mu(n,c);if(!((b=E==null?void 0:E.cnf)!=null&&b.kid))throw de(dP);x.keyId=E.cnf.kid;break;case dt.SSH:x.keyId=p}return x}function QP(t,e,n,r,i,s,o){const a={credentialType:In.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,lastUpdatedAt:Date.now().toString()};return s&&(a.userAssertionHash=s),i&&(a.familyId=i),o&&(a.expiresOn=o.toString()),a}function H2(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function Rk(t){return t?H2(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===In.ACCESS_TOKEN||t.credentialType===In.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function zz(t){return t?H2(t)&&t.hasOwnProperty("realm")&&t.credentialType===In.ID_TOKEN:!1}function Ik(t){return t?H2(t)&&t.credentialType===In.REFRESH_TOKEN:!1}function Gz(t,e){const n=t.indexOf(kn.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function $z(t,e){let n=!1;t&&(n=t.indexOf(Wd.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function Vz({environment:t,clientId:e}){return[f2,t,e].join(_h.CACHE_KEY_SEPARATOR).toLowerCase()}function Wz(t,e){return e?t.indexOf(f2)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function qz(t,e){return e?t.indexOf(Im.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Dk(){return Ar()+Im.REFRESH_TIME_SECONDS}function ip(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function Wb(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function Pk(t){return t.expiresAt<=Ar()}/*! @azure/msal-common v15.10.0 2025-08-05 */class Gn{constructor(e,n,r,i,s,o,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=s,this.performanceClient=a,this.correlationId=o,this.managedIdentity=c||!1,this.regionDiscovery=new iv(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(oe.CIAM_AUTH_URL))return ki.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case oe.ADFS:return ki.Adfs;case oe.DSTS:return ki.Dsts}return ki.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ze(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw de(Ms)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw de(Ms)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw de(Ms)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw de(gP);return this.replacePath(this.metadata.end_session_endpoint)}else throw de(Ms)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw de(Ms)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw de(Ms)}canReplaceTenant(e){return e.PathSegments.length===1&&!Gn.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ki.Default&&this.protocolMode!==Cr.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const i=new Ze(this.metadata.canonical_authority).getUrlComponents(),s=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let u=s[c];if(c===0&&this.canReplaceTenant(i)){const f=new Ze(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==f&&(this.logger.verbose(`Replacing tenant domain name ${u} with id ${f}`),u=f)}a!==u&&(n=n.replace(`/${u}/`,`/${a}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ki.Adfs||this.protocolMode===Cr.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,s;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await re(this.updateCloudDiscoveryMetadata.bind(this),U.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await re(this.updateEndpointMetadata.bind(this),U.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(s=this.performanceClient)==null||s.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Dk(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==Rr.CACHE&&(r==null?void 0:r.source)!==Rr.CACHE&&(e.expiresAt=Dk(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,s,o;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===Rr.HARDCODED_VALUES&&(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&n.metadata){const a=await re(this.updateMetadataWithRegionalInformation.bind(this),U.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);ip(e,a,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await re(this.getEndpointMetadataFromNetwork.bind(this),U.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&(r=await re(this.updateMetadataWithRegionalInformation.bind(this),U.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),ip(e,r,!0),Rr.NETWORK;throw de(tP,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),ip(e,n,!1),{source:Rr.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return ip(e,i,!1),{source:Rr.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=Pk(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Rr.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ze(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw xt(SP)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(U.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,e);return Lz(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Ek?Ek[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,i,s;(r=this.performanceClient)==null||r.addQueueMeasurement(U.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==oe.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=$b.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Gn.replaceWithRegionalInformation(e,n);const o=await re(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),U.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((s=this.authorityOptions.azureRegionConfiguration)==null?void 0:s.environmentRegion,this.regionDiscoveryMetadata);if(o)return this.regionDiscoveryMetadata.region_outcome=$b.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=o,Gn.replaceWithRegionalInformation(e,o);this.regionDiscoveryMetadata.region_outcome=$b.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await re(this.getCloudDiscoveryMetadataFromNetwork.bind(this),U.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Wb(e,r,!0),Rr.NETWORK;throw xt(CP)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||oe.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||oe.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||oe.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Wb(e,n,!1),Rr.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=kH(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Wb(e,i,!1),Rr.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=Pk(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Rr.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ki.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Gn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=Mm(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),xt(_2)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Gn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${oe.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const s=await this.networkInterface.sendGetRequestAsync(e,n);let o,a;if(Fz(s.body))o=s.body,a=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else if(Uz(s.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),o=s.body,o.error===oe.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Mm(a,this.hostnameAndPort)}catch(s){if(s instanceof vt)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${s.errorCode}
Error Description: ${s.errorMessage}`);else{const o=s;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${o.name}
Error Description: ${o.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Gn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Ze.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==S2.None){const i=n.tenant?n.tenant:oe.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return oe.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw de(Ms)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return PP.has(e)}static isPublicCloudAuthority(e){return oe.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const i=new Ze(e);i.validateAsUri();const s=i.getUrlComponents();let o=`${n}.${s.HostNameAndPort}`;this.isPublicCloudAuthority(s.HostNameAndPort)&&(o=`${n}.${oe.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=Ze.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:o}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=Gn.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Gn.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Gn.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const i=new Ze(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(oe.CIAM_AUTH_URL)){const s=i.HostNameAndPort.split(".")[0];n=`${n}${s}${oe.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Gn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Xo.COMMON,Xo.CONSUMERS,Xo.ORGANIZATIONS]);function Kz(t){var i;const r=(i=new Ze(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case Xo.COMMON:case Xo.ORGANIZATIONS:case Xo.CONSUMERS:return;default:return r}}function XP(t){return t.endsWith(oe.FORWARD_SLASH)?t:`${t}${oe.FORWARD_SLASH}`}function Yz(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw xt(_2)}return{canonicalAuthority:t.authority?XP(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.10.0 2025-08-05 */async function JP(t,e,n,r,i,s,o){o==null||o.addQueueMeasurement(U.AuthorityFactoryCreateDiscoveredInstance,s);const a=Gn.transformCIAMAuthority(XP(t)),c=new Gn(a,e,n,r,i,s,o);try{return await re(c.resolveEndpointsAsync.bind(c),U.AuthorityResolveEndpointsAsync,i,o,s)(),c}catch{throw de(Ms)}}/*! @azure/msal-common v15.10.0 2025-08-05 */class Rl extends vt{constructor(e,n,r,i,s){super(e,n,r),this.name="ServerError",this.errorNo=i,this.status=s,Object.setPrototypeOf(this,Rl.prototype)}}/*! @azure/msal-common v15.10.0 2025-08-05 */function av(t,e,n){var r;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.10.0 2025-08-05 */class ds{static generateThrottlingStorageKey(e){return`${Wd.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,r){var o;const i=ds.generateThrottlingStorageKey(n),s=e.getThrottlingCache(i);if(s){if(s.throttleTime<Date.now()){e.removeItem(i,r);return}throw new Rl(((o=s.errorCodes)==null?void 0:o.join(" "))||oe.EMPTY_STRING,s.errorMessage,s.subError)}}static postProcess(e,n,r,i){if(ds.checkResponseStatus(r)||ds.checkResponseForRetryAfter(r)){const s={throttleTime:ds.calculateThrottleTime(parseInt(r.headers[tr.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(ds.generateThrottlingStorageKey(n),s,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(tr.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||Wd.DEFAULT_THROTTLE_TIME_SECONDS),r+Wd.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,i){const s=av(n,r,i),o=this.generateThrottlingStorageKey(s);e.removeItem(o,r.correlationId)}}/*! @azure/msal-common v15.10.0 2025-08-05 */class lv extends vt{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,lv.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function Id(t,e,n,r){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new lv(t,e,n)}/*! @azure/msal-common v15.10.0 2025-08-05 */class z2{constructor(e,n){this.config=UH(e),this.logger=new Xs(this.config.loggerOptions,pP,w2),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[tr.CONTENT_TYPE]=oe.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Di.HOME_ACCOUNT_ID:try{const r=Mc(e.credential);n[tr.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Di.UPN:n[tr.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,i,s,o){var c;o&&((c=this.performanceClient)==null||c.addQueueMeasurement(o,s));const a=await this.sendPostRequest(i,e,{body:n,headers:r},s);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,n,r,i){var o,a,c;ds.preProcess(this.cacheManager,e,i);let s;try{s=await re(this.networkClient.sendPostRequestAsync.bind(this.networkClient),U.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,r);const u=s.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((o=s.body.refresh_token)==null?void 0:o.length)||0,httpVerToken:u[tr.X_MS_HTTP_VERSION]||"",requestId:u[tr.X_MS_REQUEST_ID]||""},i)}catch(u){if(u instanceof lv){const f=u.responseHeaders;throw f&&((c=this.performanceClient)==null||c.addFields({httpVerToken:f[tr.X_MS_HTTP_VERSION]||"",requestId:f[tr.X_MS_REQUEST_ID]||"",contentTypeHeader:f[tr.CONTENT_TYPE]||void 0,contentLengthHeader:f[tr.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},i)),u.error}throw u instanceof vt?u:de(eP)}return ds.postProcess(this.cacheManager,e,s,i),s}async updateAuthority(e,n){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(U.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,i=await JP(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&rv(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Zo(n,e.tokenQueryParameters),O2(n,e.correlationId),nv(n,e.correlationId,this.performanceClient),Ah(n)}}/*! @azure/msal-common v15.10.0 2025-08-05 */function ZP(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.10.0 2025-08-05 */class pi{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,r){var u,f,g,p,m,y,x;const i=new pi;n.authorityType===ki.Adfs?i.authorityType=np.ADFS_ACCOUNT_TYPE:n.protocolMode===Cr.OIDC?i.authorityType=np.GENERIC_ACCOUNT_TYPE:i.authorityType=np.MSSTS_ACCOUNT_TYPE;let s;e.clientInfo&&r&&(s=Lm(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const o=e.environment||n&&n.getPreferredCache();if(!o)throw de(y2);i.environment=o,i.realm=(s==null?void 0:s.utid)||ZP(e.idTokenClaims)||"",i.localAccountId=(s==null?void 0:s.uid)||((u=e.idTokenClaims)==null?void 0:u.oid)||((f=e.idTokenClaims)==null?void 0:f.sub)||"";const a=((g=e.idTokenClaims)==null?void 0:g.preferred_username)||((p=e.idTokenClaims)==null?void 0:p.upn),c=(m=e.idTokenClaims)!=null&&m.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||c||"",i.loginHint=(y=e.idTokenClaims)==null?void 0:y.login_hint,i.name=((x=e.idTokenClaims)==null?void 0:x.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const C=N2(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[C]}return i}static createFromAccountInfo(e,n,r){var s;const i=new pi;return i.authorityType=e.authorityType||np.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.loginHint=e.loginHint,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((s=e.tenantProfiles)==null?void 0:s.values())||[]),i}static generateHomeAccountId(e,n,r,i,s){if(!(n===ki.Adfs||n===ki.Dsts)){if(e)try{const o=Lm(e,i.base64Decode);if(o.uid&&o.utid)return`${o.uid}.${o.utid}`}catch{}r.warning("No client info in response")}return(s==null?void 0:s.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let i=!0;if(r){const s=e.idTokenClaims||{},o=n.idTokenClaims||{};i=s.iat===o.iat&&s.nonce===o.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v15.10.0 2025-08-05 */const zm="no_tokens_found",ej="native_account_unavailable",G2="refresh_token_expired",$2="ux_not_allowed",Qz="interaction_required",Xz="consent_required",Jz="login_required",cv="bad_token";/*! @azure/msal-common v15.10.0 2025-08-05 */const jk=[Qz,Xz,Jz,cv,$2],Zz=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],eG={[zm]:"No refresh token found in the cache. Please sign-in.",[ej]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[G2]:"Refresh token has expired.",[cv]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[$2]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Hi extends vt{constructor(e,n,r,i,s,o,a,c){super(e,n,r),Object.setPrototypeOf(this,Hi.prototype),this.timestamp=i||oe.EMPTY_STRING,this.traceId=s||oe.EMPTY_STRING,this.correlationId=o||oe.EMPTY_STRING,this.claims=a||oe.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function tj(t,e,n){const r=!!t&&jk.indexOf(t)>-1,i=!!n&&Zz.indexOf(n)>-1,s=!!e&&jk.some(o=>e.indexOf(o)>-1);return r||s||i}function Gm(t){return new Hi(t,eG[t])}/*! @azure/msal-common v15.10.0 2025-08-05 */class vu{static setRequestState(e,n,r){const i=vu.generateLibraryState(e,r);return n?`${i}${oe.RESOURCE_DELIM}${n}`:i}static generateLibraryState(e,n){if(!e)throw de(iS);const r={id:e.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,n){if(!e)throw de(iS);if(!n)throw de(Kc);try{const r=n.split(oe.RESOURCE_DELIM),i=r[0],s=r.length>1?r.slice(1).join(oe.RESOURCE_DELIM):oe.EMPTY_STRING,o=e.base64Decode(i),a=JSON.parse(o);return{userRequestState:s||oe.EMPTY_STRING,libraryState:a}}catch{throw de(Kc)}}}/*! @azure/msal-common v15.10.0 2025-08-05 */const tG={SW:"sw"};class Yc{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(U.PopTokenGenerateCnf,e.correlationId);const r=await re(this.generateKid.bind(this),U.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(U.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:tG.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,i){const{resourceRequestMethod:s,resourceRequestUri:o,shrClaims:a,shrNonce:c,shrOptions:u}=r,f=o?new Ze(o):void 0,g=f==null?void 0:f.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Ar(),m:s==null?void 0:s.toUpperCase(),u:g==null?void 0:g.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:g==null?void 0:g.AbsolutePath,q:g!=null&&g.QueryString?[[],g.QueryString]:void 0,client_claims:a||void 0,...i},n,u,r.correlationId)}}/*! @azure/msal-common v15.10.0 2025-08-05 */class nG{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.10.0 2025-08-05 */class vl{constructor(e,n,r,i,s,o,a){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=s,this.persistencePlugin=o,this.performanceClient=a}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||oe.NOT_AVAILABLE} - Timestamp: ${e.timestamp||oe.NOT_AVAILABLE} - Description: ${e.error_description||oe.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||oe.NOT_AVAILABLE} - Trace ID: ${e.trace_id||oe.NOT_AVAILABLE}`,s=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,o=new Rl(e.error,i,e.suberror,s,e.status);if(n&&e.status&&e.status>=Lo.SERVER_ERROR_RANGE_START&&e.status<=Lo.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${o}`);return}else if(n&&e.status&&e.status>=Lo.CLIENT_ERROR_RANGE_START&&e.status<=Lo.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${o}`);return}throw tj(e.error,e.error_description,e.suberror)?new Hi(e.error,e.error_description,e.suberror,e.timestamp||oe.EMPTY_STRING,e.trace_id||oe.EMPTY_STRING,e.correlation_id||oe.EMPTY_STRING,e.claims||oe.EMPTY_STRING,s):o}}async handleServerTokenResponse(e,n,r,i,s,o,a,c,u){var y;(y=this.performanceClient)==null||y.addQueueMeasurement(U.HandleServerTokenResponse,e.correlation_id);let f;if(e.id_token){if(f=mu(e.id_token||oe.EMPTY_STRING,this.cryptoObj.base64Decode),s&&s.nonce&&f.nonce!==s.nonce)throw de(iP);if(i.maxAge||i.maxAge===0){const x=f.auth_time;if(!x)throw de(m2);RP(x,i.maxAge)}}this.homeAccountIdentifier=pi.generateHomeAccountId(e.client_info||oe.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,f);let g;s&&s.state&&(g=vu.parseRequestState(this.cryptoObj,s.state)),e.key_id=e.key_id||i.sshKid||void 0;const p=this.generateCacheRecord(e,n,r,i,f,o,s);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new nG(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),a&&!c&&p.account){const x=this.cacheStorage.generateAccountKey(p.account.getAccountInfo());if(!this.cacheStorage.getAccount(x,i.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await vl.generateAuthenticationResult(this.cryptoObj,n,p,!1,i,f,g,void 0,u)}await this.cacheStorage.saveCacheRecord(p,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return vl.generateAuthenticationResult(this.cryptoObj,n,p,!1,i,f,g,e,u)}generateCacheRecord(e,n,r,i,s,o,a){const c=n.getPreferredCache();if(!c)throw de(y2);const u=ZP(s);let f,g;e.id_token&&s&&(f=sv(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),g=V2(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,s,e.client_info,c,u,a,void 0,this.logger));let p=null;if(e.access_token){const x=e.scope?cn.fromString(e.scope):new cn(i.scopes||[]),C=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,b=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,E=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,S=r+C,A=S+b,T=E&&E>0?r+E:void 0;p=ov(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||n.tenant||"",x.printScopes(),S,A,this.cryptoObj.base64Decode,T,e.token_type,o,e.key_id,i.claims,i.requestedClaimsHash)}let m=null;if(e.refresh_token){let x;if(e.refresh_token_expires_in){const C=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;x=r+C}m=QP(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,o,x)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:g,idToken:f,accessToken:p,refreshToken:m,appMetadata:y}}static async generateAuthenticationResult(e,n,r,i,s,o,a,c,u){var S,A,T,k,I;let f=oe.EMPTY_STRING,g=[],p=null,m,y,x=oe.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===dt.POP&&!s.popKid){const D=new Yc(e),{secret:P,keyId:R}=r.accessToken;if(!R)throw de(x2);f=await D.signPopToken(P,R,s)}else f=r.accessToken.secret;g=cn.fromString(r.accessToken.target).asArray(),p=Oc(r.accessToken.expiresOn),m=Oc(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(y=Oc(r.accessToken.refreshOn))}r.appMetadata&&(x=r.appMetadata.familyId===Rm?Rm:"");const C=(o==null?void 0:o.oid)||(o==null?void 0:o.sub)||"",b=(o==null?void 0:o.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const E=r.account?T2(r.account.getAccountInfo(),void 0,o,(S=r.idToken)==null?void 0:S.secret):null;return{authority:n.canonicalAuthority,uniqueId:C,tenantId:b,scopes:g,account:E,idToken:((A=r==null?void 0:r.idToken)==null?void 0:A.secret)||"",idTokenClaims:o||{},accessToken:f,fromCache:i,expiresOn:p,extExpiresOn:m,refreshOn:y,correlationId:s.correlationId,requestId:u||oe.EMPTY_STRING,familyId:x,tokenType:((T=r.accessToken)==null?void 0:T.tokenType)||oe.EMPTY_STRING,state:a?a.userRequestState:oe.EMPTY_STRING,cloudGraphHostName:((k=r.account)==null?void 0:k.cloudGraphHostName)||oe.EMPTY_STRING,msGraphHost:((I=r.account)==null?void 0:I.msGraphHost)||oe.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function V2(t,e,n,r,i,s,o,a,c,u,f,g){g==null||g.verbose("setCachedAccount called");const m=t.getAccountKeys().find(E=>E.startsWith(n));let y=null;m&&(y=t.getAccount(m,i));const x=y||pi.createAccount({homeAccountId:n,idTokenClaims:s,clientInfo:o,environment:a,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:f},e,r),C=x.tenantProfiles||[],b=c||x.realm;if(b&&!C.find(E=>E.tenantId===b)){const E=N2(n,x.localAccountId,b,s);C.push(E)}return x.tenantProfiles=C,x}/*! @azure/msal-common v15.10.0 2025-08-05 */async function nj(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.10.0 2025-08-05 */class rj extends z2{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,n){var a,c;if((a=this.performanceClient)==null||a.addQueueMeasurement(U.AuthClientAcquireToken,e.correlationId),!e.code)throw de(aP);const r=Ar(),i=await re(this.executeTokenRequest.bind(this),U.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),s=(c=i.headers)==null?void 0:c[tr.X_MS_REQUEST_ID],o=new vl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return o.validateTokenResponse(i.body),re(o.handleServerTokenResponse.bind(o),U.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,n,void 0,void 0,void 0,s)}getLogoutUri(e){if(!e)throw xt(wP);const n=this.createLogoutUrlQueryString(e);return Ze.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(U.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=Ze.appendQueryString(e.tokenEndpoint,r),s=await re(this.createTokenRequestBody.bind(this),U.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let o;if(n.clientInfo)try{const f=Lm(n.clientInfo,this.cryptoUtils.base64Decode);o={credential:`${f.uid}${_h.CLIENT_INFO_SEPARATOR}${f.utid}`,type:Di.HOME_ACCOUNT_ID}}catch(f){this.logger.verbose("Could not parse client info for CCS Header: "+f)}const a=this.createTokenRequestHeaders(o||n.ccsCredential),c=av(this.config.authOptions.clientId,n);return re(this.executePostToTokenEndpoint.bind(this),U.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,s,a,c,n.correlationId,U.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,s;(i=this.performanceClient)==null||i.addQueueMeasurement(U.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(P2(n,e.embeddedClientId||((s=e.tokenBodyParameters)==null?void 0:s[ml])||this.config.authOptions.clientId),this.includeRedirectUri)j2(n,e.redirectUri);else if(!e.redirectUri)throw xt(mP);if(D2(n,e.scopes,!0,this.oidcDefaultScopes),Rz(n,e.code),L2(n,this.config.libraryInfo),F2(n,this.config.telemetry.application),YP(n),this.serverTelemetryManager&&!OP(this.config)&&KP(n,this.serverTelemetryManager),e.codeVerifier&&Dz(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&zP(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const o=this.config.clientCredentials.clientAssertion;GP(n,await nj(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),$P(n,o.assertionType)}if(VP(n,QD.AUTHORIZATION_CODE_GRANT),U2(n),e.authenticationScheme===dt.POP){const o=new Yc(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await re(o.generateCnf.bind(o),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,B2(n,a)}else if(e.authenticationScheme===dt.SSH)if(e.sshJwk)qP(n,e.sshJwk);else throw xt(tv);(!vs.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&M2(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const o=Lm(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${o.uid}${_h.CLIENT_INFO_SEPARATOR}${o.utid}`,type:Di.HOME_ACCOUNT_ID}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Di.HOME_ACCOUNT_ID:try{const o=Mc(r.credential);qd(n,o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case Di.UPN:Bm(n,r.credential);break}return e.embeddedClientId&&rv(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Zo(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Nk])&&Zo(n,{[Nk]:"1"}),nv(n,e.correlationId,this.performanceClient),Ah(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&_z(n,e.postLogoutRedirectUri),e.correlationId&&O2(n,e.correlationId),e.idTokenHint&&Az(n,e.idTokenHint),e.state&&BP(n,e.state),e.logoutHint&&jz(n,e.logoutHint),e.extraQueryParameters&&Zo(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&WP(n),Ah(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.10.0 2025-08-05 */const rG=300;class iG extends z2{constructor(e,n){super(e,n)}async acquireToken(e){var o,a;(o=this.performanceClient)==null||o.addQueueMeasurement(U.RefreshTokenClientAcquireToken,e.correlationId);const n=Ar(),r=await re(this.executeTokenRequest.bind(this),U.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(a=r.headers)==null?void 0:a[tr.X_MS_REQUEST_ID],s=new vl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(r.body),re(s.handleServerTokenResponse.bind(s),U.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var r;if(!e)throw xt(bP);if((r=this.performanceClient)==null||r.addQueueMeasurement(U.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw de(v2);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await re(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const s=i instanceof Hi&&i.errorCode===zm,o=i instanceof Rl&&i.errorCode===bk.INVALID_GRANT_ERROR&&i.subError===bk.CLIENT_MISMATCH_ERROR;if(s||o)return re(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return re(this.acquireTokenWithCachedRefreshToken.bind(this),U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var s,o,a;(s=this.performanceClient)==null||s.addQueueMeasurement(U.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=Or(this.cacheManager.getRefreshToken.bind(this.cacheManager),U.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!r)throw Gm(zm);if(r.expiresOn&&Hm(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||rG))throw(o=this.performanceClient)==null||o.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Gm(G2);const i={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||dt.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Di.HOME_ACCOUNT_ID}};try{return await re(this.acquireToken.bind(this),U.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(c){if(c instanceof Hi&&((a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===cv)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=this.cacheManager.generateCredentialKey(r);this.cacheManager.removeRefreshToken(u,e.correlationId)}throw c}}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(U.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),i=Ze.appendQueryString(n.tokenEndpoint,r),s=await re(this.createTokenRequestBody.bind(this),U.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),o=this.createTokenRequestHeaders(e.ccsCredential),a=av(this.config.authOptions.clientId,e);return re(this.executePostToTokenEndpoint.bind(this),U.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,s,o,a,e.correlationId,U.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i,s;(r=this.performanceClient)==null||r.addQueueMeasurement(U.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(P2(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[ml])||this.config.authOptions.clientId),e.redirectUri&&j2(n,e.redirectUri),D2(n,e.scopes,!0,(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes),VP(n,QD.REFRESH_TOKEN_GRANT),U2(n),L2(n,this.config.libraryInfo),F2(n,this.config.telemetry.application),YP(n),this.serverTelemetryManager&&!OP(this.config)&&KP(n,this.serverTelemetryManager),Iz(n,e.refreshToken),this.config.clientCredentials.clientSecret&&zP(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const o=this.config.clientCredentials.clientAssertion;GP(n,await nj(o.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),$P(n,o.assertionType)}if(e.authenticationScheme===dt.POP){const o=new Yc(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await re(o.generateCnf.bind(o),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,B2(n,a)}else if(e.authenticationScheme===dt.SSH)if(e.sshJwk)qP(n,e.sshJwk);else throw xt(tv);if((!vs.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&M2(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Di.HOME_ACCOUNT_ID:try{const o=Mc(e.ccsCredential.credential);qd(n,o)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case Di.UPN:Bm(n,e.ccsCredential.credential);break}return e.embeddedClientId&&rv(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Zo(n,e.tokenBodyParameters),nv(n,e.correlationId,this.performanceClient),Ah(n)}}/*! @azure/msal-common v15.10.0 2025-08-05 */class sG extends z2{constructor(e,n){super(e,n)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(U.SilentFlowClientAcquireCachedToken,e.correlationId);let n=Va.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!vs.isEmptyObj(e.claims))throw this.setCacheOutcome(Va.FORCE_REFRESH_OR_CLAIMS,e.correlationId),de(Jo);if(!e.account)throw de(v2);const r=e.account.tenantId||Kz(e.authority),i=this.cacheManager.getTokenKeys(),s=this.cacheManager.getAccessToken(e.account,e,i,r);if(s){if(Hz(s.cachedAt)||Hm(s.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Va.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),de(Jo);s.refreshOn&&Hm(s.refreshOn,0)&&(n=Va.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Va.NO_CACHED_ACCESS_TOKEN,e.correlationId),de(Jo);const o=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:s,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(o)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await re(this.generateResultFromCacheRecord.bind(this),U.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),n]}setCacheOutcome(e,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},n),e!==Va.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(U.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=mu(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const s=r==null?void 0:r.auth_time;if(!s)throw de(m2);RP(s,n.maxAge)}return vl.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.10.0 2025-08-05 */const oG={sendGetRequestAsync:()=>Promise.reject(de(Ge)),sendPostRequestAsync:()=>Promise.reject(de(Ge))};/*! @azure/msal-common v15.10.0 2025-08-05 */function aG(t,e,n,r){var a,c;const i=e.correlationId,s=new Map;P2(s,e.embeddedClientId||((a=e.extraQueryParameters)==null?void 0:a[ml])||t.clientId);const o=[...e.scopes||[],...e.extraScopesToConsent||[]];if(D2(s,o,!0,(c=t.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),j2(s,e.redirectUri),O2(s,i),Cz(s,e.responseMode),U2(s),e.prompt&&(Tz(s,e.prompt),r==null||r.addFields({prompt:e.prompt},i)),e.domainHint&&(Nz(s,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},i)),e.prompt!==nr.SELECT_ACCOUNT)if(e.sid&&e.prompt===nr.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Tk(s,e.sid),r==null||r.addFields({sidFromRequest:!0},i);else if(e.account){const u=uG(e.account);let f=dG(e.account);if(f&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),f=null),f){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),rp(s,f),r==null||r.addFields({loginHintFromClaim:!0},i);try{const g=Mc(e.account.homeAccountId);qd(s,g)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===nr.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Tk(s,u),r==null||r.addFields({sidFromClaim:!0},i);try{const g=Mc(e.account.homeAccountId);qd(s,g)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),rp(s,e.loginHint),Bm(s,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),rp(s,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},i);try{const g=Mc(e.account.homeAccountId);qd(s,g)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),rp(s,e.loginHint),Bm(s,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&kz(s,e.nonce),e.state&&BP(s,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&M2(s,e.claims,t.clientCapabilities),e.embeddedClientId&&rv(s,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(aS))&&WP(s),s}function W2(t,e,n,r){const i=Ah(e,n,r);return Ze.appendQueryString(t.authorizationEndpoint,i)}function lG(t,e){if(ij(t,e),!t.code)throw de(hP);return t}function ij(t,e){if(!t.state||!e)throw t.state?de(tS,"Cached State"):de(tS,"Server State");let n,r;try{n=decodeURIComponent(t.state)}catch{throw de(Kc,t.state)}try{r=decodeURIComponent(e)}catch{throw de(Kc,t.state)}if(n!==r)throw de(rP);if(t.error||t.error_description||t.suberror){const i=cG(t);throw tj(t.error,t.error_description,t.suberror)?new Hi(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new Rl(t.error||"",t.error_description,t.suberror,i)}}function cG(t){var r,i;const e="code=",n=(r=t.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(i=t.error_uri)==null?void 0:i.substring(n+e.length):void 0}function uG(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function dG(t){var e;return t.loginHint||((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.10.0 2025-08-05 */const Mk=",",sj="|";function hG(t){const{skus:e,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:s}=t,o=new Map([[0,[n,r]],[2,[i,s]]]);let a=[];if(e!=null&&e.length){if(a=e.split(Mk),a.length<4)return e}else a=Array.from({length:4},()=>sj);return o.forEach((c,u)=>{var f,g;c.length===2&&((f=c[0])!=null&&f.length)&&((g=c[1])!=null&&g.length)&&fG({skuArr:a,index:u,skuName:c[0],skuVersion:c[1]})}),a.join(Mk)}function fG(t){const{skuArr:e,index:n,skuName:r,skuVersion:i}=t;n>=e.length||(e[n]=[r,i].join(sj))}class Nh{constructor(e,n){this.cacheOutcome=Va.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||oe.EMPTY_STRING,this.wrapperVer=e.wrapperVer||oe.EMPTY_STRING,this.telemetryCacheKey=kn.CACHE_KEY+_h.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${kn.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join(kn.VALUE_SEPARATOR),s=this.getRegionDiscoveryFields(),o=[e,s].join(kn.VALUE_SEPARATOR);return[kn.SCHEMA_VERSION,o,i].join(kn.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Nh.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(kn.VALUE_SEPARATOR),i=e.errors.slice(0,n).join(kn.VALUE_SEPARATOR),s=e.errors.length,o=n<s?kn.OVERFLOW_TRUE:kn.OVERFLOW_FALSE,a=[s,o].join(kn.VALUE_SEPARATOR);return[kn.SCHEMA_VERSION,e.cacheHits,r,i,a].join(kn.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=kn.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof vt?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(kn.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Nh.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const i={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let n,r=0,i=0;const s=e.errors.length;for(n=0;n<s;n++){const o=e.failedRequests[2*n]||oe.EMPTY_STRING,a=e.failedRequests[2*n+1]||oe.EMPTY_STRING,c=e.errors[n]||oe.EMPTY_STRING;if(i+=o.toString().length+a.toString().length+c.length+3,i<kn.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||oe.EMPTY_STRING),e.push(this.regionSource||oe.EMPTY_STRING),e.push(this.regionOutcome||oe.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return hG(e)}}/*! @azure/msal-common v15.10.0 2025-08-05 */const oj="missing_kid_error",aj="missing_alg_error";/*! @azure/msal-common v15.10.0 2025-08-05 */const gG={[oj]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[aj]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class q2 extends vt{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,q2.prototype)}}function Ok(t){return new q2(t,gG[t])}/*! @azure/msal-common v15.10.0 2025-08-05 */class K2{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Ok(oj);if(!e.alg)throw Ok(aj);const n=new K2({typ:e.typ||aH.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */const Y2="pkce_not_created",Q2="ear_jwk_empty",lj="ear_jwe_empty",lS="crypto_nonexistent",uv="empty_navigate_uri",cj="hash_empty_error",X2="no_state_in_hash",uj="hash_does_not_contain_known_properties",dj="unable_to_parse_state",hj="state_interaction_type_mismatch",fj="interaction_in_progress",gj="popup_window_error",pj="empty_window_error",Th="user_cancelled",pG="monitor_popup_timeout",mj="monitor_window_timeout",vj="redirect_in_iframe",yj="block_iframe_reload",xj="block_nested_popups",mG="iframe_closed_prematurely",dv="silent_logout_unsupported",bj="no_account_error",vG="silent_prompt_value_error",wj="no_token_request_cache_error",Sj="unable_to_parse_token_request_cache_error",yG="auth_request_not_set_error",xG="invalid_cache_type",hv="non_browser_environment",uc="database_not_open",$m="no_network_connectivity",Cj="post_request_failed",Ej="get_request_failed",cS="failed_to_parse_response",_j="unable_to_load_token",J2="crypto_key_not_found",Aj="auth_code_required",Nj="auth_code_or_nativeAccountId_required",Tj="spa_code_and_nativeAccountId_present",Z2="database_unavailable",kj="unable_to_acquire_token_from_native_platform",Rj="native_handshake_timeout",Ij="native_extension_not_installed",eE="native_connection_not_established",Kd="uninitialized_public_client_application",Dj="native_prompt_not_supported",Pj="invalid_base64_string",jj="invalid_pop_token_request",Mj="failed_to_build_headers",Oj="failed_to_parse_headers",Gp="failed_to_decrypt_ear_response",Vm="timed_out";/*! @azure/msal-browser v4.19.0 2025-08-05 */const Is="For more visit: aka.ms/msaljs/browser-errors",bG={[Y2]:"The PKCE code challenge and verifier could not be generated.",[Q2]:"No EAR encryption key provided. This is unexpected.",[lj]:"Server response does not contain ear_jwe property. This is unexpected.",[lS]:"The crypto object or function is not available.",[uv]:"Navigation URI is empty. Please check stack trace for more info.",[cj]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Is}`,[X2]:"Hash does not contain state. Please verify that the request originated from msal.",[uj]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Is}`,[dj]:"Unable to parse state. Please verify that the request originated from msal.",[hj]:"Hash contains state but the interaction type does not match the caller.",[fj]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Is}`,[gj]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[pj]:"window.open returned null or undefined window object.",[Th]:"User cancelled the flow.",[pG]:`Token acquisition in popup failed due to timeout.  ${Is}`,[mj]:`Token acquisition in iframe failed due to timeout.  ${Is}`,[vj]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[yj]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Is}`,[xj]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[mG]:"The iframe being monitored was closed prematurely.",[dv]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[bj]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[vG]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[wj]:"No token request found in cache.",[Sj]:"The cached token request could not be parsed.",[yG]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[xG]:"Invalid cache type",[hv]:"Login and token requests are not supported in non-browser environments.",[uc]:"Database is not open!",[$m]:"No network connectivity. Check your internet connection.",[Cj]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[Ej]:"Network request failed. Please check the network trace to determine root cause.",[cS]:"Failed to parse network response. Check network trace.",[_j]:"Error loading token to cache.",[J2]:"Cryptographic Key or Keypair not found in browser storage.",[Aj]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Nj]:"An authorization code or nativeAccountId must be provided to this flow.",[Tj]:"Request cannot contain both spa code and native account id.",[Z2]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[kj]:`Unable to acquire token from native platform.  ${Is}`,[Rj]:"Timed out while attempting to establish connection to browser extension",[Ij]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[eE]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Is}`,[Kd]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Is}`,[Dj]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Pj]:"Invalid base64 encoded string.",[jj]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Mj]:"Failed to build request headers object.",[Oj]:"Failed to parse response headers",[Gp]:"Failed to decrypt ear response",[Vm]:"The request timed out."};class of extends vt{constructor(e,n){super(e,bG[e],n),Object.setPrototypeOf(this,of.prototype),this.name="BrowserAuthError"}}function ye(t,e){return new of(t,e)}/*! @azure/msal-browser v4.19.0 2025-08-05 */const mr={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},li={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},cd={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},un={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Lk={GET:"GET",POST:"POST"},Po={SIGNIN:"signin",SIGNOUT:"signout"},en={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},sp={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},mt={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ke;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(ke||(ke={}));const $t={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Fk={scopes:sf},Lj="jwk",wG={React:"@azure/msal-react",Angular:"@azure/msal-angular"},uS="msal.db",SG=1,CG=`${uS}.keys`,Zn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},EG=[Zn.Default,Zn.Skip,Zn.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.19.0 2025-08-05 */function op(t){return encodeURIComponent(kh(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ua(t){return Fj(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kh(t){return Fj(new TextEncoder().encode(t))}function Fj(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.19.0 2025-08-05 */function Li(t){return new TextDecoder().decode(ea(t))}function ea(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw ye(Pj)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.19.0 2025-08-05 */const _G="RSASSA-PKCS1-v1_5",yu="AES-GCM",Uj="HKDF",tE="SHA-256",AG=2048,NG=new Uint8Array([1,0,1]),Uk="0123456789abcdef",Bk=new Uint32Array(1),nE="raw",Bj="encrypt",rE="decrypt",TG="deriveKey",kG="crypto_subtle_undefined",iE={name:_G,hash:tE,modulusLength:AG,publicExponent:NG};function RG(t){if(!window)throw ye(hv);if(!window.crypto)throw ye(lS);if(!t&&!window.crypto.subtle)throw ye(lS,kG)}async function Hj(t,e,n){e==null||e.addQueueMeasurement(U.Sha256Digest,n);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(tE,i)}function IG(t){return window.crypto.getRandomValues(t)}function qb(){return window.crypto.getRandomValues(Bk),Bk[0]}function zi(){const t=Date.now(),e=qb()*1024+(qb()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,s=qb();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=s>>>24,n[13]=s>>>16,n[14]=s>>>8,n[15]=s;let o="";for(let a=0;a<n.length;a++)o+=Uk.charAt(n[a]>>>4),o+=Uk.charAt(n[a]&15),(a===3||a===5||a===7||a===9)&&(o+="-");return o}async function DG(t,e){return window.crypto.subtle.generateKey(iE,t,e)}async function Kb(t){return window.crypto.subtle.exportKey(Lj,t)}async function PG(t,e,n){return window.crypto.subtle.importKey(Lj,t,iE,e,n)}async function jG(t,e){return window.crypto.subtle.sign(iE,t,e)}async function sE(){const t=await zj(),n={alg:"dir",kty:"oct",k:ua(new Uint8Array(t))};return kh(JSON.stringify(n))}async function MG(t){const e=Li(t),r=JSON.parse(e).k,i=ea(r);return window.crypto.subtle.importKey(nE,i,yu,!1,[rE])}async function OG(t,e){const n=e.split(".");if(n.length!==5)throw ye(Gp,"jwe_length");const r=await MG(t).catch(()=>{throw ye(Gp,"import_key")});try{const i=new TextEncoder().encode(n[0]),s=ea(n[2]),o=ea(n[3]),a=ea(n[4]),c=a.byteLength*8,u=new Uint8Array(o.length+a.length);u.set(o),u.set(a,o.length);const f=await window.crypto.subtle.decrypt({name:yu,iv:s,tagLength:c,additionalData:i},r,u);return new TextDecoder().decode(f)}catch{throw ye(Gp,"decrypt")}}async function zj(){const t=await window.crypto.subtle.generateKey({name:yu,length:256},!0,[Bj,rE]);return window.crypto.subtle.exportKey(nE,t)}async function Hk(t){return window.crypto.subtle.importKey(nE,t,Uj,!1,[TG])}async function Gj(t,e,n){return window.crypto.subtle.deriveKey({name:Uj,salt:e,hash:tE,info:new TextEncoder().encode(n)},t,{name:yu,length:256},!1,[Bj,rE])}async function LG(t,e,n){const r=new TextEncoder().encode(e),i=window.crypto.getRandomValues(new Uint8Array(16)),s=await Gj(t,i,n),o=await window.crypto.subtle.encrypt({name:yu,iv:new Uint8Array(12)},s,r);return{data:ua(new Uint8Array(o)),nonce:ua(i)}}async function zk(t,e,n,r){const i=ea(r),s=await Gj(t,ea(e),n),o=await window.crypto.subtle.decrypt({name:yu,iv:new Uint8Array(12)},s,i);return new TextDecoder().decode(o)}async function $j(t){const e=await Hj(t),n=new Uint8Array(e);return ua(n)}/*! @azure/msal-browser v4.19.0 2025-08-05 */const Rh="storage_not_supported",Jt="stubbed_public_client_application_called",Wm="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.19.0 2025-08-05 */const $p={[Rh]:"Given storage configuration option was not supported.",[Jt]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Wm]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};$p[Rh],$p[Jt],$p[Wm];class oE extends vt{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,oE.prototype)}}function Zt(t){return new oE(t,$p[t])}/*! @azure/msal-browser v4.19.0 2025-08-05 */function Vj(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function FG(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function aE(){return window.parent!==window}function UG(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${mr.POPUP_NAME_PREFIX}.`)===0}function zs(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function BG(){const e=new Ze(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function HG(){if(Ze.hashContainsKnownProperties(window.location.hash)&&aE())throw ye(yj)}function zG(t){if(aE()&&!t)throw ye(vj)}function GG(){if(UG())throw ye(xj)}function Wj(){if(typeof window>"u")throw ye(hv)}function qj(t){if(!t)throw ye(Kd)}function lE(t){Wj(),HG(),GG(),qj(t)}function Gk(t,e){if(lE(t),zG(e.system.allowRedirectInIframe),e.cache.cacheLocation===un.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw Zt(Wm)}function Kj(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function $G(){return zi()}/*! @azure/msal-browser v4.19.0 2025-08-05 */class qm{navigateInternal(e,n){return qm.defaultNavigateWindow(e,n)}navigateExternal(e,n){return qm.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,i)=>{setTimeout(()=>{i(ye(Vm,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class VG{async sendGetRequestAsync(e,n){let r,i={},s=0;const o=$k(n);try{r=await fetch(e,{method:Lk.GET,headers:o})}catch(a){throw Id(ye(window.navigator.onLine?Ej:$m),void 0,void 0,a)}i=Vk(r.headers);try{return s=r.status,{headers:i,body:await r.json(),status:s}}catch(a){throw Id(ye(cS),s,i,a)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",i=$k(n);let s,o=0,a={};try{s=await fetch(e,{method:Lk.POST,headers:i,body:r})}catch(c){throw Id(ye(window.navigator.onLine?Cj:$m),void 0,void 0,c)}a=Vk(s.headers);try{return o=s.status,{headers:a,body:await s.json(),status:o}}catch(c){throw Id(ye(cS),o,a,c)}}}function $k(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([r,i])=>{e.append(r,i)}),e}catch(e){throw Id(ye(Mj),void 0,void 0,e)}}function Vk(t){try{const e={};return t.forEach((n,r)=>{e[r]=n}),e}catch{throw ye(Oj)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */const WG=6e4,dS=1e4,qG=3e4,Yj=2e3;function KG({auth:t,cache:e,system:n,telemetry:r},i){const s={clientId:oe.EMPTY_STRING,authority:`${oe.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:oe.EMPTY_STRING,authorityMetadata:oe.EMPTY_STRING,redirectUri:typeof window<"u"?zs():"",postLogoutRedirectUri:oe.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Cr.AAD,OIDCOptions:{serverResponseType:ev.FRAGMENT,defaultScopes:[oe.OPENID_SCOPE,oe.PROFILE_SCOPE,oe.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:S2.None,tenant:oe.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},o={cacheLocation:un.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:un.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===un.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:Pt.Info,piiLoggingEnabled:!1},u={...{...MP,loggerOptions:a,networkClient:i?new VG:oG,navigationClient:new qm,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||WG,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||dS,navigateFrameWait:0,redirectNavigationTimeout:qG,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||Yj,pollIntervalMilliseconds:mr.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||a},f={application:{appName:oe.EMPTY_STRING,appVersion:oe.EMPTY_STRING},client:new jP};if((t==null?void 0:t.protocolMode)!==Cr.OIDC&&(t!=null&&t.OIDCOptions)&&new Xs(u.loggerOptions).warning(JSON.stringify(xt(_P))),t!=null&&t.protocolMode&&t.protocolMode===Cr.OIDC&&(u!=null&&u.allowPlatformBroker))throw xt(AP);return{auth:{...s,...t,OIDCOptions:{...s.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...o,...e},system:u,telemetry:{...f,...r}}}/*! @azure/msal-browser v4.19.0 2025-08-05 */const YG="@azure/msal-browser",yl="4.19.0";/*! @azure/msal-browser v4.19.0 2025-08-05 */const bn="msal",cE="browser",Yb="-",Ao=1,hS=1,QG=`${bn}.${cE}.log.level`,XG=`${bn}.${cE}.log.pii`,JG=`${bn}.${cE}.platform.auth.dom`,Wk=`${bn}.version`,qk="account.keys",Kk="token.keys";function ls(t=hS){return t<1?`${bn}.${qk}`:`${bn}.${t}.${qk}`}function nl(t,e=Ao){return e<1?`${bn}.${Kk}.${t}`:`${bn}.${e}.${Kk}.${t}`}/*! @azure/msal-browser v4.19.0 2025-08-05 */class uE{static loggerCallback(e,n){switch(e){case Pt.Error:console.error(n);return;case Pt.Info:console.info(n);return;case Pt.Verbose:console.debug(n);return;case Pt.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=KG(e,this.browserEnvironment);let n;try{n=window[un.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(QG),i=(c=n==null?void 0:n.getItem(XG))==null?void 0:c.toLowerCase(),s=i==="true"?!0:i==="false"?!1:void 0,o={...this.config.system.loggerOptions},a=r&&Object.keys(Pt).includes(r)?Pt[r]:void 0;a&&(o.loggerCallback=uE.loggerCallback,o.logLevel=a),s!==void 0&&(o.piiLoggingEnabled=s),this.logger=new Xs(o,YG,yl),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class xl extends uE{getModuleName(){return xl.MODULE_NAME}getId(){return xl.ID}async initialize(){return this.available=typeof window<"u",this.available}}xl.MODULE_NAME="";xl.ID="StandardOperatingContext";/*! @azure/msal-browser v4.19.0 2025-08-05 */class ZG{constructor(){this.dbName=uS,this.version=SG,this.tableName=CG,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const s=i;this.db=s.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(ye(Z2)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ye(uc));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);o.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result)}),o.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(ye(uc));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),i(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ye(uc));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);o.addEventListener("success",()=>{this.closeConnection(),n()}),o.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(ye(uc));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();s.addEventListener("success",o=>{const a=o;this.closeConnection(),e(a.target.result)}),s.addEventListener("error",o=>{this.closeConnection(),n(o)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ye(uc));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);o.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result===1)}),o.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(uS),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class fv{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class e${constructor(e){this.inMemoryCache=new fv,this.indexedDBCache=new ZG,this.logger=e}handleDatabaseAccessError(e){if(e instanceof of&&e.errorCode===Z2)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class Js{constructor(e,n,r){this.logger=e,RG(r??!1),this.cache=new e$(this.logger),this.performanceClient=n}createNewGuid(){return zi()}base64Encode(e){return kh(e)}base64Decode(e){return Li(e)}base64UrlEncode(e){return op(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var f;const n=(f=this.performanceClient)==null?void 0:f.startMeasurement(U.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await DG(Js.EXTRACTABLE,Js.POP_KEY_USAGES),i=await Kb(r.publicKey),s={e:i.e,kty:i.kty,n:i.n},o=Yk(s),a=await this.hashString(o),c=await Kb(r.privateKey),u=await PG(c,!1,["sign"]);return await this.cache.setItem(a,{privateKey:u,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw de(fP)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,i){var S;const s=(S=this.performanceClient)==null?void 0:S.startMeasurement(U.CryptoOptsSignJwt,i),o=await this.cache.getItem(n);if(!o)throw ye(J2);const a=await Kb(o.publicKey),c=Yk(a),u=op(JSON.stringify({kid:n})),f=K2.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:u}),g=op(f);e.cnf={jwk:JSON.parse(c)};const p=op(JSON.stringify(e)),m=`${g}.${p}`,x=new TextEncoder().encode(m),C=await jG(o.privateKey,x),b=ua(new Uint8Array(C)),E=`${m}.${b}`;return s&&s.end({success:!0}),E}async hashString(e){return $j(e)}}Js.POP_KEY_USAGES=["sign","verify"];Js.EXTRACTABLE=!0;function Yk(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.19.0 2025-08-05 */const t$=24*60*60*1e3,fS={Lax:"Lax",None:"None"};class Qj{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const s=r[i],[o,...a]=decodeURIComponent(s).trim().split("="),c=a.join("=");if(o===n)return c}return""}getUserData(){throw de(Ge)}setItem(e,n,r,i=!0,s=fS.Lax){let o=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${s};`;if(r){const a=n$(r);o+=`expires=${a};`}(i||s===fS.None)&&(o+="Secure;"),document.cookie=o}async setUserData(){return Promise.reject(de(Ge))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");n.push(i[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function n$(t){const e=new Date;return new Date(e.getTime()+t*t$).toUTCString()}/*! @azure/msal-browser v4.19.0 2025-08-05 */function Yd(t,e){const n=t.getItem(ls(e));return n?JSON.parse(n):[]}function Qd(t,e,n){const r=e.getItem(nl(t,n));if(r){const i=JSON.parse(r);if(i&&i.hasOwnProperty("idToken")&&i.hasOwnProperty("accessToken")&&i.hasOwnProperty("refreshToken"))return i}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.19.0 2025-08-05 */function gS(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}/*! @azure/msal-browser v4.19.0 2025-08-05 */const Qk="msal.cache.encryption",r$="msal.broadcast.cache";class i${constructor(e,n,r){if(!window.localStorage)throw Zt(Rh);this.memoryStorage=new fv,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(r$)}async initialize(e){const n=new Qj,r=n.getItem(Qk);let i={key:"",id:""};if(r)try{i=JSON.parse(r)}catch{}if(i.key&&i.id){const s=Or(ea,U.Base64Decode,this.logger,this.performanceClient,e)(i.key);this.encryptionCookie={id:i.id,key:await re(Hk,U.GenerateHKDF,this.logger,this.performanceClient,e)(s)}}else{const s=zi(),o=await re(zj,U.GenerateBaseKey,this.logger,this.performanceClient,e)(),a=Or(ua,U.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(o));this.encryptionCookie={id:s,key:await re(Hk,U.GenerateHKDF,this.logger,this.performanceClient,e)(o)};const c={id:s,key:a};n.setItem(Qk,JSON.stringify(c),0,!0,fS.None)}await re(this.importExistingCache.bind(this),U.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw ye(Kd);return this.memoryStorage.getItem(e)}async decryptData(e,n,r){if(!this.initialized||!this.encryptionCookie)throw ye(Kd);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;const i=await re(zk,U.Decrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!i)return null;try{return JSON.parse(i)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r,i){if(!this.initialized||!this.encryptionCookie)throw ye(Kd);const{data:s,nonce:o}=await re(LG,U.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),a={id:this.encryptionCookie.id,nonce:o,data:s,lastUpdatedAt:i};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(a)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),Yd(this).forEach(r=>this.removeItem(r));const n=Qd(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(bn)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=Yd(this);n=await this.importArray(n,e),n.length?this.setItem(ls(),JSON.stringify(n)):this.removeItem(ls());const r=Qd(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),r.idToken.length||r.accessToken.length||r.refreshToken.length?this.setItem(nl(this.clientId),JSON.stringify(r)):this.removeItem(nl(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let i;try{i=JSON.parse(r)}catch{return null}return gS(i)?i.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):re(zk,U.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,i.nonce,this.getContext(e),i.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),i)}async importArray(e,n){const r=[],i=[];return e.forEach(s=>{const o=this.getItemFromEncryptedCache(s,n).then(a=>{a?(this.memoryStorage.setItem(s,a),r.push(s)):this.removeItem(s)});i.push(o)}),await Promise.all(i),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(U.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:i,context:s}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(s&&s!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${s}`),n.end({success:!1,errorCode:"contextMismatch"});return}i?(this.memoryStorage.setItem(r,i),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class s${constructor(){if(!window.sessionStorage)throw Zt(Rh)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */const we={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.19.0 2025-08-05 */function Xk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}/*! @azure/msal-browser v4.19.0 2025-08-05 */class pS extends oS{constructor(e,n,r,i,s,o,a){super(e,r,i,s,a),this.cacheConfig=n,this.logger=i,this.internalStorage=new fv,this.browserStorage=Jk(e,n.cacheLocation,i,s),this.temporaryCacheStorage=Jk(e,n.temporaryCacheLocation,i,s),this.cookieStorage=new Qj,this.eventHandler=o}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const n=Yd(this.browserStorage,0),r=Qd(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:n.length,oldAccessCount:r.accessToken.length,oldIdCount:r.idToken.length,oldRefreshCount:r.refreshToken.length},e);const i=Yd(this.browserStorage,1),s=Qd(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:i.length,currAccessCount:s.accessToken.length,currIdCount:s.idToken.length,currRefreshCount:s.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(hS,n,i,e),this.updateV0ToCurrent(Ao,r.idToken,s.idToken,e),this.updateV0ToCurrent(Ao,r.accessToken,s.accessToken,e),this.updateV0ToCurrent(Ao,r.refreshToken,s.refreshToken,e)]),n.length>0?this.browserStorage.setItem(ls(0),JSON.stringify(n)):this.browserStorage.removeItem(ls(0)),i.length>0?this.browserStorage.setItem(ls(1),JSON.stringify(i)):this.browserStorage.removeItem(ls(1)),this.setTokenKeys(r,e,0),this.setTokenKeys(s,e,1)}async updateV0ToCurrent(e,n,r,i){const s=[];for(const o of[...n]){const a=this.browserStorage.getItem(o),c=this.validateAndParseJson(a||"");if(!c){Xk(n,o);continue}c.lastUpdatedAt||(c.lastUpdatedAt=Date.now().toString(),this.setItem(o,JSON.stringify(c),i));const u=gS(c)?await this.browserStorage.decryptData(o,c,i):c;let f;if(u&&(Rk(u)||Ik(u))&&(f=u.expiresOn),!u||Bz(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||f&&Hm(f,XD)){this.browserStorage.removeItem(o),Xk(n,o),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},i);continue}if(this.cacheConfig.cacheLocation!==un.LocalStorage||gS(c)){const g=`${bn}.${e}${Yb}${o}`,p=this.browserStorage.getItem(g);if(p){const m=this.validateAndParseJson(p);if(Number(c.lastUpdatedAt)>Number(m.lastUpdatedAt)){s.push(this.setUserData(g,JSON.stringify(u),i,c.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},i)}));continue}}else{s.push(this.setUserData(g,JSON.stringify(u),i,c.lastUpdatedAt).then(()=>{r.push(g),this.performanceClient.incrementFields({upgradedCacheCount:1},i)}));continue}}}return Promise.all(s)}trackVersionChanges(e){const n=this.browserStorage.getItem(Wk);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==yl&&this.setItem(Wk,yl,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,r){let i=0,s=[];const o=20;for(let a=0;a<=o;a++)try{this.browserStorage.setItem(e,n),a>0&&(a<=i?this.removeAccessTokenKeys(s.slice(0,a),r,0):(this.removeAccessTokenKeys(s.slice(0,i),r,0),this.removeAccessTokenKeys(s.slice(i,a),r)));break}catch(c){const u=sS(c);if(u.errorCode===Om&&a<o){if(!s.length){const f=e===nl(this.clientId,0)?JSON.parse(n).accessToken:this.getTokenKeys(0).accessToken,g=e===nl(this.clientId)?JSON.parse(n).accessToken:this.getTokenKeys().accessToken;s=[...f,...g],i=f.length}if(s.length<=a)throw u;this.removeAccessToken(s[a],r,!1)}else throw u}}async setUserData(e,n,r,i){let s=0,o=[];const a=20;for(let c=0;c<=a;c++)try{await re(this.browserStorage.setUserData.bind(this.browserStorage),U.SetUserData,this.logger,this.performanceClient)(e,n,r,i),c>0&&(c<=s?this.removeAccessTokenKeys(o.slice(0,c),r,0):(this.removeAccessTokenKeys(o.slice(0,s),r,0),this.removeAccessTokenKeys(o.slice(s,c),r)));break}catch(u){const f=sS(u);if(f.errorCode===Om&&c<a){if(!o.length){const g=this.getTokenKeys(0).accessToken,p=this.getTokenKeys().accessToken;o=[...g,...p],s=g.length}if(o.length<=c)throw f;this.removeAccessToken(o[c],r,!1)}else throw f}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,n),null;const i=this.validateAndParseJson(r);return!i||!pi.isAccountEntity(i)?null:oS.toObject(new pi,i)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const r=this.generateAccountKey(e.getAccountInfo()),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.addAccountKeyToMap(r,n);this.cacheConfig.cacheLocation===un.LocalStorage&&s&&this.eventHandler.emitEvent(we.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return Yd(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(ls(),JSON.stringify(r),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),i=r.indexOf(e);if(i>-1){if(r.splice(i,1),r.length===0){this.removeItem(ls());return}else this.setItem(ls(),JSON.stringify(r),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const r=this.getActiveAccount(n);(r==null?void 0:r.homeAccountId)===e.homeAccountId&&(r==null?void 0:r.environment)===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(i=>{i.includes(e.homeAccountId)&&i.includes(e.environment)&&this.browserStorage.removeItem(i)}),this.cacheConfig.cacheLocation===un.LocalStorage&&this.eventHandler.emitEvent(we.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const r=this.getTokenKeys(),i=r.idToken.indexOf(e);i>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(i,1),this.setTokenKeys(r,n))}removeAccessToken(e,n,r=!0){super.removeAccessToken(e,n),r&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,r=Ao){this.logger.trace("removeAccessTokenKey called");const i=this.getTokenKeys(r);let s=0;if(e.forEach(o=>{const a=i.accessToken.indexOf(o);a>-1&&(i.accessToken.splice(a,1),s++)}),s>0){this.logger.info(`removed ${s} accessToken keys from tokenKeys map`),this.setTokenKeys(i,n,r);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const r=this.getTokenKeys(),i=r.refreshToken.indexOf(e);i>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(i,1),this.setTokenKeys(r,n))}getTokenKeys(e=Ao){return Qd(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,r=Ao){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(nl(this.clientId,r));return}else this.setItem(nl(this.clientId,r),JSON.stringify(e),n)}getIdTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const i=this.validateAndParseJson(r);return!i||!zz(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),i)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.getTokenKeys();s.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),s.idToken.push(r),this.setTokenKeys(s,n))}getAccessTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const i=this.validateAndParseJson(r);return!i||!Rk(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),i)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.getTokenKeys(),o=s.accessToken.indexOf(r);o!==-1&&s.accessToken.splice(o,1),this.logger.trace(`access token ${o===-1?"added to":"updated in"} map`),s.accessToken.push(r),this.setTokenKeys(s,n)}getRefreshTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const i=this.validateAndParseJson(r);return!i||!Ik(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),i)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.getTokenKeys();s.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),s.refreshToken.push(r),this.setTokenKeys(s,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!Wz(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=Vz(e);this.setItem(r,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!Gz(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),r)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&qz(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(sp.WRAPPER_SKU,e),this.internalStorage.setItem(sp.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(sp.WRAPPER_SKU)||oe.EMPTY_STRING,n=this.internalStorage.getItem(sp.WRAPPER_VER)||oe.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(xk.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const i=this.validateAndParseJson(r);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId,tenantId:i.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const r=this.generateCacheKey(xk.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Ar().toString()};this.setItem(r,JSON.stringify(i),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(we.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!$z(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),r)}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const s=this.cookieStorage.getItem(r);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),s}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===un.LocalStorage){const s=this.browserStorage.getItem(r);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),s}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,n,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(bn)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(bn)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(U.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let r=0;n.accessToken.forEach(i=>{const s=this.getAccessTokenCredential(i,e);s!=null&&s.requestedClaimsHash&&i.includes(s.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(i,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return vs.startsWith(e,bn)?e:`${bn}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===In.REFRESH_TOKEN&&e.familyId||e.clientId,r=e.tokenType&&e.tokenType.toLowerCase()!==dt.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${bn}.${Ao}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",r].join(Yb).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${bn}.${hS}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(Yb).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(en.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(en.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(en.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(en.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(en.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=kh(JSON.stringify(e));if(this.setTemporaryCache(en.REQUEST_PARAMS,r,!0),n){const i=kh(n);this.setTemporaryCache(en.VERIFIER,i,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(en.REQUEST_PARAMS,!0);if(!e)throw ye(wj);const n=this.getTemporaryCache(en.VERIFIER,!0);let r,i="";try{r=JSON.parse(Li(e)),n&&(i=Li(n))}catch(s){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${s}`),ye(Sj)}return[r,i]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(en.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const n=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${bn}.${en.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),Vj(window),null}}setInteractionInProgress(e,n=Po.SIGNIN){var i;const r=`${bn}.${en.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw ye(fj);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((i=this.getInteractionInProgress())==null?void 0:i.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){var a,c,u;const r=sv((a=e.account)==null?void 0:a.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const s=ov((u=e.account)==null?void 0:u.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?kk(e.expiresOn):0,e.extExpiresOn?kk(e.extExpiresOn):0,Li,void 0,e.tokenType,void 0,n.sshKid,n.claims,i),o={idToken:r,accessToken:s};return this.saveCacheRecord(o,e.correlationId)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(i){if(i instanceof jc&&this.performanceClient&&n)try{const s=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:s.refreshToken.length,cacheIdCount:s.idToken.length,cacheAtCount:s.accessToken.length},n)}catch{}throw i}}}function Jk(t,e,n,r){try{switch(e){case un.LocalStorage:return new i$(t,n,r);case un.SessionStorage:return new s$;case un.MemoryStorage:default:break}}catch(i){n.error(i)}return new fv}const o$=(t,e,n,r)=>{const i={cacheLocation:un.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:un.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new pS(t,i,Pm,e,n,r)};/*! @azure/msal-browser v4.19.0 2025-08-05 */function a$(t,e,n,r,i){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(i||{},r):[]}function l$(t,e,n,r){if(e.trace("getAccount called"),Object.keys(t).length===0)return e.warning("getAccount: No accountFilter provided"),null;const i=n.getAccountInfoFilteredBy(t,r);return i?(e.verbose("getAccount: Account matching provided filter found, returning"),i):(e.verbose("getAccount: No matching account found, returning null"),null)}function c$(t,e,n,r){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const i=n.getAccountInfoFilteredBy({username:t},r);return i?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),i):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function u$(t,e,n,r){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const i=n.getAccountInfoFilteredBy({homeAccountId:t},r);return i?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),i):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function d$(t,e,n,r){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const i=n.getAccountInfoFilteredBy({localAccountId:t},r);return i?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),i):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function h$(t,e,n){e.setActiveAccount(t,n)}function f$(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.19.0 2025-08-05 */const g$="msal.broadcast.event";class p${constructor(e){this.eventCallbacks=new Map,this.logger=e||new Xs({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(g$)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const i=r||$G();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,i){var o;const s={eventType:e,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};switch(e){case we.ACCOUNT_ADDED:case we.ACCOUNT_REMOVED:case we.ACTIVE_ACCOUNT_CHANGED:(o=this.broadcastChannel)==null||o.postMessage(s);break;default:this.invokeCallbacks(s);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],i)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${i}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class Xj{constructor(e,n,r,i,s,o,a,c,u){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=s,this.navigationClient=o,this.platformAuthProvider=c,this.correlationId=u||zi(),this.logger=i.clone(mr.MSAL_SKU,yl,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return Ze.getAbsoluteUrl(n,zs())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Nh(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(U.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.requestAuthority||this.config.auth.authority,o=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=n&&o?this.config.auth.authority.replace(Ze.getDomainFromUrl(s),n.environment):s,c=Gn.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),u=await re(JP,U.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!u.isAlias(n.environment))throw xt(NP);return u}}/*! @azure/msal-browser v4.19.0 2025-08-05 */async function dE(t,e,n,r){n.addQueueMeasurement(U.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,s=[...t&&t.scopes||[]],o={...t,correlationId:t.correlationId,authority:i,scopes:s};if(!o.authenticationScheme)o.authenticationScheme=dt.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(o.authenticationScheme===dt.SSH){if(!t.sshJwk)throw xt(tv);if(!t.sshKid)throw xt(EP)}r.verbose(`Authentication Scheme set to "${o.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!vs.isEmptyObj(t.claims)&&(o.requestedClaimsHash=await $j(t.claims)),o}async function m$(t,e,n,r,i){r.addQueueMeasurement(U.InitializeSilentRequest,t.correlationId);const s=await re(dE,U.InitializeBaseRequest,i,r,t.correlationId)(t,n,r,i);return{...t,...s,account:e,forceRefresh:t.forceRefresh||!1}}function Jj(t,e){let n;const r=t.httpMethod;if(e===Cr.EAR){if(n=r||tl.POST,n!==tl.POST)throw xt(TP)}else n=r||tl.GET;if(t.authorizePostBodyParameters&&n!==tl.POST)throw xt(kP);return n}/*! @azure/msal-browser v4.19.0 2025-08-05 */class xu extends Xj{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||zi(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Ze.getAbsoluteUrl(e.postLogoutRedirectUri,zs())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Ze.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,zs())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Ze.getAbsoluteUrl(zs(),zs())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(U.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await re(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new rj(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:s,account:o}=e;this.performanceClient.addQueueMeasurement(U.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await re(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:s,account:o}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:mr.MSAL_SKU,version:yl,cpu:oe.EMPTY_STRING,os:oe.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(U.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),i={interactionType:n},s=vu.setRequestState(this.browserCrypto,e&&e.state||oe.EMPTY_STRING,i),a={...await re(dE,U.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:s,nonce:e.nonce||zi(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c={...a,httpMethod:Jj(a,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return c;const u=e.account||this.browserStorage.getActiveAccount(this.correlationId);return u&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${u.homeAccountId}`,this.correlationId),c.account=u),c}}/*! @azure/msal-browser v4.19.0 2025-08-05 */function v$(t,e){if(!e)return null;try{return vu.parseRequestState(t,e).libraryState.meta}catch{throw de(Kc)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */function Xd(t,e,n){const r=jm(t);if(!r)throw IP(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),ye(uj)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),ye(cj));return r}function y$(t,e,n){if(!t.state)throw ye(X2);const r=v$(e,t.state);if(!r)throw ye(dj);if(r.interactionType!==n)throw ye(hj)}/*! @azure/msal-browser v4.19.0 2025-08-05 */class Zj{constructor(e,n,r,i,s){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=s}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(U.HandleCodeResponse,n.correlationId);let r;try{r=lG(e,n.state)}catch(i){throw i instanceof Rl&&i.subError===Th?ye(Th):i}return re(this.handleCodeResponseFromServer.bind(this),U.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(U.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await re(this.authModule.updateAuthority.bind(this.authModule),U.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const s=this.createCcsCredentials(n);s&&(this.authCodeRequest.ccsCredential=s)}return await re(this.authModule.acquireToken.bind(this.authModule),U.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Di.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Di.UPN}:null}}/*! @azure/msal-browser v4.19.0 2025-08-05 */const x$="ContentError",e6="user_switch";/*! @azure/msal-browser v4.19.0 2025-08-05 */const b$="USER_INTERACTION_REQUIRED",w$="USER_CANCEL",S$="NO_NETWORK",C$="PERSISTENT_ERROR",E$="DISABLED",_$="ACCOUNT_UNAVAILABLE",A$="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.19.0 2025-08-05 */const N$=-2147186943,T$={[e6]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class hs extends vt{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,hs.prototype),this.name="NativeAuthError",this.ext=r}}function dc(t){if(t.ext&&t.ext.status&&(t.ext.status===C$||t.ext.status===E$)||t.ext&&t.ext.error&&t.ext.error===N$)return!0;switch(t.errorCode){case x$:return!0;default:return!1}}function Km(t,e,n){if(n&&n.status)switch(n.status){case _$:return Gm(ej);case b$:return new Hi(t,e);case w$:return ye(Th);case S$:return ye($m);case A$:return Gm($2)}return new hs(t,T$[t]||e,n)}/*! @azure/msal-browser v4.19.0 2025-08-05 */class t6 extends xu{async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(mt.acquireTokenSilent_silentFlow),r=await re(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new sG(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const o=(await re(i.acquireCachedToken.bind(i),U.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),o}catch(s){throw s instanceof of&&s.errorCode===J2&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),s}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class Vp extends Xj{constructor(e,n,r,i,s,o,a,c,u,f,g,p){super(e,n,r,i,s,o,c,u,p),this.apiId=a,this.accountId=f,this.platformAuthProvider=u,this.nativeStorageManager=g,this.silentCacheClient=new t6(e,this.nativeStorageManager,r,i,s,o,c,u,p);const m=this.platformAuthProvider.getExtensionName();this.skus=Nh.makeExtraSkuString({libraryName:mr.MSAL_SKU,libraryVersion:yl,extensionName:m,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[bz]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(U.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(U.NativeInteractionClientAcquireToken,e.correlationId),i=Ar(),s=this.initializeServerTelemetryManager(this.apiId);try{const o=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,o);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(n===Zn.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const a=await this.platformAuthProvider.sendMessage(o);return await this.handleNativeResponse(a,o,i).then(c=>(r.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),s.clearNativeBrokerErrorCode(),c)).catch(c=>{throw r.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError,isNativeBroker:!0}),c})}catch(o){throw o instanceof hs&&s.setNativeBrokerErrorCode(o.errorCode),o}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:cn.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),de(rS);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw de(rS);try{const i=this.createSilentCacheRequest(n,r),s=await this.silentCacheClient.acquireToken(i),o={...r,idTokenClaims:s==null?void 0:s.idTokenClaims,idToken:s==null?void 0:s.idToken};return{...s,account:o}}catch(i){throw i}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(i)}catch(a){if(a instanceof hs&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),dc(a)))throw a}this.browserStorage.setTemporaryCache(en.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:mt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(o,s)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...s}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(en.NATIVE_REQUEST));const o=Ar();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const a=await this.platformAuthProvider.sendMessage(s),c=await this.handleNativeResponse(a,s,o);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),c}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var f,g;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=mu(e.id_token,Li),s=this.createHomeAccountIdentifier(e,i),o=(f=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:f.homeAccountId;if((g=n.extraParameters)!=null&&g.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(s!==o&&e.account.id!==n.accountId)throw Km(e6);const a=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=V2(this.browserStorage,a,s,Li,this.correlationId,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,n,i,c,a.canonicalAuthority,r);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,n,s,i,e.access_token,u.tenantId,r),u}createHomeAccountIdentifier(e,n){return pi.generateHomeAccountId(e.client_info||oe.EMPTY_STRING,ki.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?cn.fromString(n):cn.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===dt.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new Yc(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw de(x2);return r.signPopToken(e.access_token,n.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,n,r,i,s,o){const a=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(n.scope,e.scope),u=e.account.properties||{},f=u.UID||r.oid||r.sub||oe.EMPTY_STRING,g=u.TenantId||r.tid||oe.EMPTY_STRING,p=T2(i.getAccountInfo(),void 0,r,e.id_token);p.nativeAccountId!==e.account.id&&(p.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,n),y=n.tokenType===dt.POP?dt.POP:dt.BEARER;return{authority:s,uniqueId:f,tenantId:g,scopes:c.asArray(),account:p,idToken:e.id_token,idTokenClaims:r,accessToken:m,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:Oc(o+e.expires_in),tokenType:y,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),n)}cacheNativeTokens(e,n,r,i,s,o,a){const c=sv(r,n.authority,e.id_token||"",n.clientId,i.tid||""),u=n.tokenType===dt.POP?oe.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,f=a+u,g=this.generateScopes(e.scope,n.scope),p=ov(r,n.authority,s,n.clientId,i.tid||o,g.printScopes(),f,0,Li,void 0,n.tokenType,void 0,n.keyId),m={idToken:c,accessToken:p};return this.nativeStorageManager.saveCacheRecord(m,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===dt.POP?oe.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:r,...i}=e,s=new cn(r||[]);s.appendScopes(sf);const o={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(o.signPopToken&&e.popKid)throw ye(jj);if(this.handleExtraBrokerParams(o),o.extraParameters=o.extraParameters||{},o.extraParameters.telemetry=li.MATS_TELEMETRY,e.authenticationScheme===dt.POP){const a={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new Yc(this.browserCrypto);let u;if(o.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:o.keyId})),o.signPopToken=!1;else{const f=await re(c.generateCnf.bind(c),U.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(a,this.logger);u=f.reqCnfString,o.keyId=f.kid,o.signPopToken=!0}o.reqCnf=u}return this.addRequestSKUs(o),o}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new Ze(n);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case mt.ssoSilent:case mt.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),nr.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case nr.NONE:case nr.CONSENT:case nr.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),ye(Dj)}}handleExtraBrokerParams(e){var s;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Fm)&&e.extraParameters.hasOwnProperty(Um)&&e.extraParameters.hasOwnProperty(ml);if(!e.embeddedClientId&&!n)return;let r="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Um],r=e.extraParameters[ml]),e.extraParameters={child_client_id:r,child_redirect_uri:i},(s=this.performanceClient)==null||s.addFields({embeddedClientId:r,embeddedRedirectUri:i},e.correlationId)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */async function hE(t,e,n,r,i){const s=aG({...t.auth,authority:e},n,r,i);if(L2(s,{sku:mr.MSAL_SKU,version:yl,os:"",cpu:""}),t.auth.protocolMode!==Cr.OIDC&&F2(s,t.telemetry.application),n.platformBroker&&(Ez(s),n.authenticationScheme===dt.POP)){const o=new Js(r,i),a=new Yc(o);let c;n.popKid?c=o.encodeKid(n.popKid):c=(await re(a.generateCnf.bind(a),U.PopTokenGenerateCnf,r,i,n.correlationId)(n,r)).reqCnfString,B2(s,c)}return nv(s,n.correlationId,i),s}async function fE(t,e,n,r,i){if(!n.codeChallenge)throw xt(E2);const s=await re(hE,U.GetStandardParams,r,i,n.correlationId)(t,e,n,r,i);return I2(s,h2.CODE),HP(s,n.codeChallenge,oe.S256_CODE_CHALLENGE_METHOD),Zo(s,n.extraQueryParameters||{}),W2(e,s,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function gE(t,e,n,r,i,s){if(!r.earJwk)throw ye(Q2);const o=await hE(e,n,r,i,s);I2(o,h2.IDTOKEN_TOKEN_REFRESHTOKEN),Mz(o,r.earJwk);const a=new Map;Zo(a,r.extraQueryParameters||{});const c=W2(n,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return n6(t,c,o)}async function pE(t,e,n,r,i,s){const o=await hE(e,n,r,i,s);I2(o,h2.CODE),HP(o,r.codeChallenge,r.codeChallengeMethod||oe.S256_CODE_CHALLENGE_METHOD),Oz(o,r.authorizePostBodyParameters||{});const a=new Map;Zo(a,r.extraQueryParameters||{});const c=W2(n,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return n6(t,c,o)}function n6(t,e,n){const r=t.createElement("form");return r.method="post",r.action=e,n.forEach((i,s)=>{const o=t.createElement("input");o.hidden=!0,o.name=s,o.value=i,r.appendChild(o)}),t.body.appendChild(r),r}async function r6(t,e,n,r,i,s,o,a,c,u){if(a.verbose("Account id found, calling WAM for token"),!u)throw ye(eE);const f=new Js(a,c),g=new Vp(r,i,f,a,o,r.system.navigationClient,n,c,u,e,s,t.correlationId),{userRequestState:p}=vu.parseRequestState(f,t.state);return re(g.acquireToken.bind(g),U.NativeInteractionClientAcquireToken,a,c,t.correlationId)({...t,state:p,prompt:void 0})}async function Ym(t,e,n,r,i,s,o,a,c,u,f,g){if(ds.removeThrottle(o,i.auth.clientId,t),e.accountId)return re(r6,U.HandleResponsePlatformBroker,u,f,t.correlationId)(t,e.accountId,r,i,o,a,c,u,f,g);const p={...t,code:e.code||"",codeVerifier:n},m=new Zj(s,o,p,u,f);return await re(m.handleCodeResponse.bind(m),U.HandleCodeResponse,u,f,t.correlationId)(e,t)}async function mE(t,e,n,r,i,s,o,a,c,u,f){if(ds.removeThrottle(s,r.auth.clientId,t),ij(e,t.state),!e.ear_jwe)throw ye(lj);if(!t.earJwk)throw ye(Q2);const g=JSON.parse(await re(OG,U.DecryptEarResponse,c,u,t.correlationId)(t.earJwk,e.ear_jwe));if(g.accountId)return re(r6,U.HandleResponsePlatformBroker,c,u,t.correlationId)(t,g.accountId,n,r,s,o,a,c,u,f);const p=new vl(r.auth.clientId,s,new Js(c,u),c,null,null,u);p.validateTokenResponse(g);const m={code:"",state:t.state,nonce:t.nonce,client_info:g.client_info,cloud_graph_host_name:g.cloud_graph_host_name,cloud_instance_host_name:g.cloud_instance_host_name,cloud_instance_name:g.cloud_instance_name,msgraph_host:g.msgraph_host};return await re(p.handleServerTokenResponse.bind(p),U.HandleServerTokenResponse,c,u,t.correlationId)(g,i,Ar(),t,m,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.19.0 2025-08-05 */const k$=32;async function gv(t,e,n){t.addQueueMeasurement(U.GeneratePkceCodes,n);const r=Or(R$,U.GenerateCodeVerifier,e,t,n)(t,e,n),i=await re(I$,U.GenerateCodeChallengeFromVerifier,e,t,n)(r,t,e,n);return{verifier:r,challenge:i}}function R$(t,e,n){try{const r=new Uint8Array(k$);return Or(IG,U.GetRandomValues,e,t,n)(r),ua(r)}catch{throw ye(Y2)}}async function I$(t,e,n,r){e.addQueueMeasurement(U.GenerateCodeChallengeFromVerifier,r);try{const i=await re(Hj,U.Sha256Digest,n,e,r)(t,e,r);return ua(new Uint8Array(i))}catch{throw ye(Y2)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class Qm{constructor(e,n,r,i){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(U.NativeMessageHandlerHandshake),this.platformAuthType=li.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:cd.GetToken,request:e},r={channel:li.CHANNEL_ID,extensionId:this.extensionId,responseId:zi(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const i=await new Promise((o,a)=>{this.resolvers.set(r.responseId,{resolve:o,reject:a})});return this.validatePlatformBrokerResponse(i)}static async createProvider(e,n,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const i=new Qm(e,n,r,li.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const s=new Qm(e,n,r);return await s.sendHandshakeRequest(),s}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:li.CHANNEL_ID,extensionId:this.extensionId,responseId:zi(),body:{method:cd.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(ye(Rj)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==li.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===cd.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(ye(Ij))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const s=n.body.method;if(s===cd.Response){if(!r)return;const o=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(o)}`),o.status!=="Success")r.reject(Km(o.code,o.description,o.ext));else if(o.result)o.result.code&&o.result.description?r.reject(Km(o.result.code,o.result.description,o.result.ext)):r.resolve(o.result);else throw eS(Dm,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(s===cd.HandshakeResponse){if(!i){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(s){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${s}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(s):i&&i.reject(s)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw eS(Dm,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===li.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class vE{constructor(e,n,r){this.logger=e,this.performanceClient=n,this.correlationId=r,this.platformAuthType=li.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,r){var i;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(i=window.navigator)!=null&&i.platformAuthentication){const s=await window.navigator.platformAuthentication.getSupportedContracts(li.MICROSOFT_ENTRA_BROKERID);if(s!=null&&s.includes(li.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new vE(e,n,r)}}getExtensionId(){return li.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return li.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(r)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:r,authority:i,scope:s,redirectUri:o,correlationId:a,state:c,storeInCache:u,embeddedClientId:f,extraParameters:g,...p}=e,m=this.getDOMExtraParams(p);return{accountId:n,brokerId:this.getExtensionId(),authority:i,clientId:r,correlationId:a||this.correlationId,extraParameters:{...g,...m},isSecurityTokenService:!1,redirectUri:o,scope:s,state:c,storeInCache:u,embeddedClientId:f}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Km(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw eS(Dm,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((i,[s,o])=>(i[s]=String(o),i),{})}}}/*! @azure/msal-browser v4.19.0 2025-08-05 */async function D$(t,e,n,r){t.trace("getPlatformAuthProvider called",n);const i=P$();t.trace("Has client allowed platform auth via DOM API: "+i);let s;try{i&&(s=await vE.createProvider(t,e,n)),s||(t.trace("Platform auth via DOM API not available, checking for extension"),s=await Qm.createProvider(t,r||Yj,e))}catch(o){t.trace("Platform auth not available",o)}return s}function P$(){let t;try{return t=window[un.SessionStorage],(t==null?void 0:t.getItem(JG))==="true"}catch{return!1}}function Ih(t,e,n,r){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case dt.BEARER:case dt.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.19.0 2025-08-05 */class j$ extends xu{constructor(e,n,r,i,s,o,a,c,u,f){super(e,n,r,i,s,o,a,u,f),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=s}acquireToken(e,n){let r;try{if(r={popupName:this.generatePopupName(e.scopes||sf,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,n);{const s={...e,httpMethod:Jj(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(s,r,n)}}catch(i){return Promise.reject(i)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,s=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,s)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,s))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const i=await re(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ke.Popup);n.popup&&Kj(i.authority);const s=Ih(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return i.platformBroker=s,this.config.auth.protocolMode===Cr.EAR?this.executeEarFlow(i,n):this.executeCodeFlow(i,n,r)}async executeCodeFlow(e,n,r){var c;const i=e.correlationId,s=this.initializeServerTelemetryManager(mt.acquireTokenPopup),o=r||await re(gv,U.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),a={...e,codeChallenge:o.challenge};try{const u=await re(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,i)({serverTelemetryManager:s,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account});if(a.httpMethod===tl.POST)return await this.executeCodeFlowWithPost(a,n,u,o.verifier);{const f=await re(fE,U.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,u.authority,a,this.logger,this.performanceClient),g=this.initiateAuthRequest(f,n);this.eventHandler.emitEvent(we.POPUP_OPENED,ke.Popup,{popupWindow:g},null);const p=await this.monitorPopupForHash(g,n.popupWindowParent),m=Or(Xd,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await re(Ym,U.HandleResponseCode,this.logger,this.performanceClient,i)(e,m,o.verifier,mt.acquireTokenPopup,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(u){throw(c=n.popup)==null||c.close(),u instanceof vt&&(u.setCorrelationId(this.correlationId),s.cacheFailedRequest(u)),u}}async executeEarFlow(e,n){const r=e.correlationId,i=await re(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await re(sE,U.GenerateEarKey,this.logger,this.performanceClient,r)(),o={...e,earJwk:s},a=n.popup||this.openPopup("about:blank",n);(await gE(a.document,this.config,i,o,this.logger,this.performanceClient)).submit();const u=await re(this.monitorPopupForHash.bind(this),U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,n.popupWindowParent),f=Or(Xd,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return re(mE,U.HandleResponseEar,this.logger,this.performanceClient,r)(o,f,mt.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,r,i){const s=e.correlationId,o=await re(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,s)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=n.popup||this.openPopup("about:blank",n);(await pE(a.document,this.config,o,e,this.logger,this.performanceClient)).submit();const u=await re(this.monitorPopupForHash.bind(this),U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(a,n.popupWindowParent),f=Or(Xd,U.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return re(Ym,U.HandleResponseCode,this.logger,this.performanceClient,s)(e,f,i,mt.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,r,i){var o,a,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(we.LOGOUT_START,ke.Popup,e);const s=this.initializeServerTelemetryManager(mt.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const u=await re(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:r,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((o=e.account)!=null&&o.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===Cr.OIDC){if(this.eventHandler.emitEvent(we.LOGOUT_SUCCESS,ke.Popup,e),i){const p={apiId:mt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ze.getAbsoluteUrl(i,zs());await this.navigationClient.navigateInternal(m,p)}(a=n.popup)==null||a.close();return}}const f=u.getLogoutUri(e);this.eventHandler.emitEvent(we.LOGOUT_SUCCESS,ke.Popup,e);const g=this.openPopup(f,n);if(this.eventHandler.emitEvent(we.POPUP_OPENED,ke.Popup,{popupWindow:g},null),await this.monitorPopupForHash(g,n.popupWindowParent).catch(()=>{}),i){const p={apiId:mt.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ze.getAbsoluteUrl(i,zs());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${m}`),await this.navigationClient.navigateInternal(m,p)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(c=n.popup)==null||c.close(),u instanceof vt&&(u.setCorrelationId(this.correlationId),s.cacheFailedRequest(u)),this.eventHandler.emitEvent(we.LOGOUT_FAILURE,ke.Popup,null,u),this.eventHandler.emitEvent(we.LOGOUT_END,ke.Popup),u}this.eventHandler.emitEvent(we.LOGOUT_END,ke.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),ye(uv)}monitorPopupForHash(e,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const s=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(s),i(ye(Th));return}let o="";try{o=e.location.href}catch{}if(!o||o==="about:blank")return;clearInterval(s);let a="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===ev.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw ye(pj);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),ye(gj)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var m,y,x,C;const s=i.screenLeft?i.screenLeft:i.screenX,o=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let u=(m=r.popupSize)==null?void 0:m.width,f=(y=r.popupSize)==null?void 0:y.height,g=(x=r.popupPosition)==null?void 0:x.top,p=(C=r.popupPosition)==null?void 0:C.left;return(!u||u<0||u>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),u=mr.POPUP_WIDTH),(!f||f<0||f>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),f=mr.POPUP_HEIGHT),(!g||g<0||g>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),g=Math.max(0,c/2-mr.POPUP_HEIGHT/2+o)),(!p||p<0||p>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),p=Math.max(0,a/2-mr.POPUP_WIDTH/2+s)),i.open(e,n,`width=${u}, height=${f}, top=${g}, left=${p}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${mr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${mr.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.19.0 2025-08-05 */function M$(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class O$ extends xu{constructor(e,n,r,i,s,o,a,c,u,f){super(e,n,r,i,s,o,a,u,f),this.nativeStorage=c}async acquireToken(e){const n=await re(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ke.Redirect);n.platformBroker=Ih(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=s=>{s.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(we.RESTORE_FROM_BFCACHE,ke.Redirect))},i=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${i}`),this.browserStorage.setTemporaryCache(en.ORIGIN_URI,i,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===Cr.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(s){throw s instanceof vt&&s.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),s}}async executeCodeFlow(e,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(mt.acquireTokenRedirect),s=await re(gv,U.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...e,codeChallenge:s.challenge};this.browserStorage.cacheAuthorizeRequest(o,s.verifier);try{if(o.httpMethod===tl.POST)return await this.executeCodeFlowWithPost(o);{const a=await re(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account}),c=await re(fE,U.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,a.authority,o,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,n)}}catch(a){throw a instanceof vt&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),a}}async executeEarFlow(e){const n=e.correlationId,r=await re(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await re(sE,U.GenerateEarKey,this.logger,this.performanceClient,n)(),s={...e,earJwk:i};return this.browserStorage.cacheAuthorizeRequest(s),(await gE(document,this.config,r,s,this.logger,this.performanceClient)).submit(),new Promise((a,c)=>{setTimeout(()=>{c(ye(Vm,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,r=await re(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await pE(document,this.config,r,e,this.logger,this.performanceClient)).submit(),new Promise((s,o)=>{setTimeout(()=>{o(ye(Vm,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,r,i){const s=this.initializeServerTelemetryManager(mt.handleRedirectPromise);try{const[o,a]=this.getRedirectResponse(e||"");if(!o)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),M$()!=="back_forward"?i.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(en.ORIGIN_URI,!0)||oe.EMPTY_STRING,u=Ze.removeHashFromUrl(c),f=Ze.removeHashFromUrl(window.location.href);if(u===f&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&FG(c),await this.handleResponse(o,n,r,s);if(this.config.auth.navigateToLoginRequestUrl){if(!aE()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(en.URL_HASH,a,!0);const g={apiId:mt.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let p=!0;if(!c||c==="null"){const m=BG();this.browserStorage.setTemporaryCache(en.ORIGIN_URI,m,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),p=await this.navigationClient.navigateInternal(m,g)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),p=await this.navigationClient.navigateInternal(c,g);if(!p)return await this.handleResponse(o,n,r,s)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(o,n,r,s);return null}catch(o){throw o instanceof vt&&(o.setCorrelationId(this.correlationId),s.cacheFailedRequest(o)),o}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===ev.QUERY?n=window.location.search:n=window.location.hash);let r=jm(n);if(r){try{y$(r,this.browserCrypto,ke.Redirect)}catch(s){return s instanceof vt&&this.logger.error(`Interaction type validation failed due to ${s.errorCode}: ${s.errorMessage}`),[null,""]}return Vj(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(en.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(en.URL_HASH)),i&&(r=jm(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(e,n,r,i){if(!e.state)throw ye(X2);if(e.ear_jwe){const a=await re(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return re(mE,U.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,mt.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const o=await re(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority});return re(Ym,U.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,mt.acquireTokenRedirect,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:mt.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=n||this.config.auth.onRedirectNavigate;if(typeof i=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),i(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ye(uv)}async logout(e){var i;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(mt.logout);try{this.eventHandler.emitEvent(we.LOGOUT_START,ke.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const s={apiId:mt.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await re(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===Cr.OIDC)try{o.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.eventHandler.emitEvent(we.LOGOUT_SUCCESS,ke.Redirect,n);return}}const a=o.getLogoutUri(n);if(this.eventHandler.emitEvent(we.LOGOUT_SUCCESS,ke.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(a)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Po.SIGNOUT),await this.navigationClient.navigateExternal(a,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Po.SIGNOUT),await this.navigationClient.navigateExternal(a,s);return}}catch(s){throw s instanceof vt&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(we.LOGOUT_FAILURE,ke.Redirect,null,s),this.eventHandler.emitEvent(we.LOGOUT_END,ke.Redirect),s}this.eventHandler.emitEvent(we.LOGOUT_END,ke.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return Ze.getAbsoluteUrl(n,zs())}}/*! @azure/msal-browser v4.19.0 2025-08-05 */async function L$(t,e,n,r,i){if(e.addQueueMeasurement(U.SilentHandlerInitiateAuthRequest,r),!t)throw n.info("Navigate url is empty"),ye(uv);return i?re(B$,U.SilentHandlerLoadFrame,n,e,r)(t,i,e,r):Or(H$,U.SilentHandlerLoadFrameSync,n,e,r)(t)}async function F$(t,e,n,r,i){const s=pv();if(!s.contentDocument)throw"No document associated with iframe!";return(await pE(s.contentDocument,t,e,n,r,i)).submit(),s}async function U$(t,e,n,r,i){const s=pv();if(!s.contentDocument)throw"No document associated with iframe!";return(await gE(s.contentDocument,t,e,n,r,i)).submit(),s}async function Zk(t,e,n,r,i,s,o){return r.addQueueMeasurement(U.SilentHandlerMonitorIframeForHash,s),new Promise((a,c)=>{e<dS&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${dS}ms). This may result in timeouts.`);const u=window.setTimeout(()=>{window.clearInterval(f),c(ye(mj))},e),f=window.setInterval(()=>{let g="";const p=t.contentWindow;try{g=p?p.location.href:""}catch{}if(!g||g==="about:blank")return;let m="";p&&(o===ev.QUERY?m=p.location.search:m=p.location.hash),window.clearTimeout(u),window.clearInterval(f),a(m)},n)}).finally(()=>{Or(z$,U.RemoveHiddenIframe,i,r,s)(t)})}function B$(t,e,n,r){return n.addQueueMeasurement(U.SilentHandlerLoadFrame,r),new Promise((i,s)=>{const o=pv();window.setTimeout(()=>{if(!o){s("Unable to load iframe");return}o.src=t,i(o)},e)})}function H$(t){const e=pv();return e.src=t,e}function pv(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function z$(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.19.0 2025-08-05 */class G$ extends xu{constructor(e,n,r,i,s,o,a,c,u,f,g){super(e,n,r,i,s,o,c,f,g),this.apiId=a,this.nativeStorage=u}async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==nr.NONE&&n.prompt!==nr.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${nr.NONE}`),n.prompt=nr.NONE):n.prompt=nr.NONE;const r=await re(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,ke.Silent);return r.platformBroker=Ih(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),Kj(r.authority),this.config.auth.protocolMode===Cr.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await re(this.createAuthCodeClient.bind(this),U.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await re(this.silentTokenHelper.bind(this),U.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(i){if(i instanceof vt&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!n||!(i instanceof vt)||i.errorCode!==mr.INVALID_GRANT_ERROR)throw i;return this.performanceClient.addFields({retryError:i.errorCode},this.correlationId),await re(this.silentTokenHelper.bind(this),U.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await re(this.getDiscoveredAuthority.bind(this),U.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await re(sE,U.GenerateEarKey,this.logger,this.performanceClient,n)(),s={...e,earJwk:i},o=await re(U$,U.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,s,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,c=await re(Zk,U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(o,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),u=Or(Xd,U.DeserializeResponse,this.logger,this.performanceClient,n)(c,a,this.logger);return re(mE,U.HandleResponseEar,this.logger,this.performanceClient,n)(s,u,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(ye(dv))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(U.SilentIframeClientTokenHelper,r);const i=await re(gv,U.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...n,codeChallenge:i.challenge};let o;if(n.httpMethod===tl.POST)o=await re(F$,U.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,e.authority,s,this.logger,this.performanceClient);else{const f=await re(fE,U.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,s,this.logger,this.performanceClient);o=await re(L$,U.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(f,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const a=this.config.auth.OIDCOptions.serverResponseType,c=await re(Zk,U.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(o,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,a),u=Or(Xd,U.DeserializeResponse,this.logger,this.performanceClient,r)(c,a,this.logger);return re(Ym,U.HandleResponseCode,this.logger,this.performanceClient,r)(n,u,i.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class $$ extends xu{async acquireToken(e){this.performanceClient.addQueueMeasurement(U.SilentRefreshClientAcquireToken,e.correlationId);const n=await re(dE,U.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(mt.acquireTokenSilent_silentFlow),s=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return re(s.acquireTokenByRefreshToken.bind(s),U.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(o=>{throw o.setCorrelationId(this.correlationId),i.cacheFailedRequest(o),o})}logout(){return Promise.reject(ye(dv))}async createRefreshTokenClient(e){const n=await re(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new iG(n,this.performanceClient)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class V${constructor(e,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=i}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw ye(hv);const i=e.correlationId||zi(),s=n.id_token?mu(n.id_token,Li):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Gn(Gn.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||zi()):void 0,c=await this.loadAccount(e,r.clientInfo||n.client_info||"",i,s,a),u=await this.loadIdToken(n,c.homeAccountId,c.environment,c.realm,i),f=await this.loadAccessToken(e,n,c.homeAccountId,c.environment,c.realm,r,i),g=await this.loadRefreshToken(n,c.homeAccountId,c.environment,i);return this.generateAuthenticationResult(e,{account:c,idToken:u,accessToken:f,refreshToken:g},s,a)}async loadAccount(e,n,r,i,s){if(this.logger.verbose("TokenCache - loading account"),e.account){const u=pi.createFromAccountInfo(e.account);return await this.storage.setAccount(u,r),u}else if(!s||!n&&!i)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ye(_j);const o=pi.generateHomeAccountId(n,s.authorityType,this.logger,this.cryptoObj,i),a=i==null?void 0:i.tid,c=V2(this.storage,s,o,Li,r,i,n,s.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(c,r),c}async loadIdToken(e,n,r,i,s){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=sv(n,r,e.id_token,this.config.auth.clientId,i);return await this.storage.setIdTokenCredential(o,s),o}async loadAccessToken(e,n,r,i,s,o,a){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=n.scope?cn.fromString(n.scope):new cn(e.scopes),u=o.expiresOn||n.expires_in+Ar(),f=o.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+Ar(),g=ov(r,i,n.access_token,this.config.auth.clientId,s,c.printScopes(),u,f,Li);return await this.storage.setAccessTokenCredential(g,a),g}async loadRefreshToken(e,n,r,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const s=QP(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(s,i),s}generateAuthenticationResult(e,n,r,i){var f,g,p;let s="",o=[],a=null,c;n!=null&&n.accessToken&&(s=n.accessToken.secret,o=cn.fromString(n.accessToken.target).asArray(),a=Oc(n.accessToken.expiresOn),c=Oc(n.accessToken.extendedExpiresOn));const u=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:o,account:u.getAccountInfo(),idToken:((f=n.idToken)==null?void 0:f.secret)||"",idTokenClaims:r||{},accessToken:s,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((g=n.refreshToken)==null?void 0:g.familyId)||"",tokenType:((p=n==null?void 0:n.accessToken)==null?void 0:p.tokenType)||"",state:e.state||"",cloudGraphHostName:u.cloudGraphHostName||"",msGraphHost:u.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class W$ extends rj{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.19.0 2025-08-05 */class q$ extends xu{constructor(e,n,r,i,s,o,a,c,u,f){super(e,n,r,i,s,o,c,u,f),this.apiId=a}async acquireToken(e){if(!e.code)throw ye(Aj);const n=await re(this.initializeAuthorizationRequest.bind(this),U.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ke.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:e.code},s=await re(this.getClientConfiguration.bind(this),U.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),o=new W$(s);this.logger.verbose("Auth code client created");const a=new Zj(o,this.browserStorage,i,this.logger,this.performanceClient);return await re(a.handleCodeResponseFromServer.bind(a),U.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof vt&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(ye(dv))}}/*! @azure/msal-browser v4.19.0 2025-08-05 */function K$(t,e,n){var o;const r=((o=window.msal)==null?void 0:o.clientIds)||[],i=r.length,s=r.filter(a=>a===t).length;s>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:i,sameClientIdInstanceCount:s})}/*! @azure/msal-browser v4.19.0 2025-08-05 */function ss(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function ap(t,e){try{lE(t)}catch(n){throw e.end({success:!1},n),n}}class mv{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Js(this.logger,this.performanceClient):Pm,this.eventHandler=new p$(this.logger),this.browserStorage=this.isBrowserEnvironment?new pS(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,Yz(this.config.auth)):o$(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:un.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:un.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new pS(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new V$(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new mv(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(we.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),i=this.config.system.allowPlatformBroker,s=this.performanceClient.startMeasurement(U.InitializeClientApplication,r);if(this.eventHandler.emitEvent(we.INITIALIZE_START),!n)try{this.logMultipleInstances(s)}catch{}if(await re(this.browserStorage.initialize.bind(this.browserStorage),U.InitializeCache,this.logger,this.performanceClient,r)(r),i)try{this.platformAuthProvider=await D$(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),Or(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),U.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(we.INITIALIZE_END),s.end({allowPlatformBroker:i,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),qj(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===Po.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),i=this.browserStorage.getCachedNativeRequest(),s=i&&this.platformAuthProvider&&!e;let o;this.eventHandler.emitEvent(we.HANDLE_REDIRECT_START,ke.Redirect);let a;try{if(s&&this.platformAuthProvider){o=this.performanceClient.startMeasurement(U.AcquireTokenRedirect,(i==null?void 0:i.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const u=new Vp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,mt.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,i.accountId,this.nativeInternalStorage,i.correlationId);a=re(u.handleRedirectPromise.bind(u),U.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,o.event.correlationId)(this.performanceClient,o.event.correlationId)}else{const[u,f]=this.browserStorage.getCachedRequest(),g=u.correlationId;o=this.performanceClient.startMeasurement(U.AcquireTokenRedirect,g),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const p=this.createRedirectClient(g);a=re(p.handleRedirectPromise.bind(p),U.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,o.event.correlationId)(e,u,f,o)}}catch(u){throw this.browserStorage.resetRequestCache(),u}return a.then(u=>(u?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(we.LOGIN_SUCCESS,ke.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_SUCCESS,ke.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),o.end({success:!0,accountType:ss(u.account)})):o.event.errorCode?o.end({success:!1}):o.discard(),this.eventHandler.emitEvent(we.HANDLE_REDIRECT_END,ke.Redirect),u)).catch(u=>{this.browserStorage.resetRequestCache();const f=u;throw r.length>0?this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_FAILURE,ke.Redirect,null,f):this.eventHandler.emitEvent(we.LOGIN_FAILURE,ke.Redirect,null,f),this.eventHandler.emitEvent(we.HANDLE_REDIRECT_END,ke.Redirect),o.end({success:!1},f),u})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(U.AcquireTokenPreRedirect,n);r.add({accountType:ss(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=o=>{const a=typeof i=="function"?i(o):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{const o=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const c=typeof o=="function"?o(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}const s=this.getAllAccounts().length>0;try{Gk(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Po.SIGNIN),s?this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_START,ke.Redirect,e):this.eventHandler.emitEvent(we.LOGIN_START,ke.Redirect,e);let o;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?o=new Vp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,mt.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof hs&&dc(c))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof Hi)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw c}):o=this.createRedirectClient(n).acquireToken(e),await o}catch(o){throw this.browserStorage.resetRequestCache(),r.end({success:!1},o),s?this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_FAILURE,ke.Redirect,null,o):this.eventHandler.emitEvent(we.LOGIN_FAILURE,ke.Redirect,null,o),o}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(U.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:ss(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),ap(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,Po.SIGNIN)}catch(a){return Promise.reject(a)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_START,ke.Popup,e):this.eventHandler.emitEvent(we.LOGIN_START,ke.Popup,e);let s;const o=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?s=this.acquireTokenNative({...e,correlationId:n},mt.acquireTokenPopup).then(a=>(r.end({success:!0,isNativeBroker:!0,accountType:ss(a.account)}),a)).catch(a=>{if(a instanceof hs&&dc(a))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,o);if(a instanceof Hi)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,o);throw a}):s=this.createPopupClient(n).acquireToken(e,o),s.then(a=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(we.LOGIN_SUCCESS,ke.Popup,a):this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_SUCCESS,ke.Popup,a),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:ss(a.account)}),a)).catch(a=>(i.length>0?this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_FAILURE,ke.Popup,null,a):this.eventHandler.emitEvent(we.LOGIN_FAILURE,ke.Popup,null,a),r.end({success:!1},a),Promise.reject(a))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var s,o;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(U.SsoSilent,n),(s=this.ssoSilentMeasurement)==null||s.add({scenarioId:e.scenarioId,accountType:ss(e.account)}),ap(this.initialized,this.ssoSilentMeasurement),(o=this.ssoSilentMeasurement)==null||o.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(we.SSO_SILENT_START,ke.Silent,r);let i;return this.canUsePlatformBroker(r)?i=this.acquireTokenNative(r,mt.ssoSilent).catch(a=>{if(a instanceof hs&&dc(a))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw a}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(a=>{var c;return this.eventHandler.emitEvent(we.SSO_SILENT_SUCCESS,ke.Silent,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:ss(a.account)}),a}).catch(a=>{var c;throw this.eventHandler.emitEvent(we.SSO_SILENT_FAILURE,ke.Silent,null,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(U.AcquireTokenByCode,n);ap(this.initialized,r),this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_BY_CODE_START,ke.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ye(Tj);if(e.code){const i=e.code;let s=this.hybridAuthCodeResponses.get(i);return s?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),s=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(o=>(this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ke.Silent,o),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:ss(o.account)}),o)).catch(o=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_BY_CODE_FAILURE,ke.Silent,null,o),r.end({success:!1},o),o}),this.hybridAuthCodeResponses.set(i,s)),await s}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:n},mt.acquireTokenByCode,e.nativeAccountId).catch(s=>{throw s instanceof hs&&dc(s)&&(this.platformAuthProvider=void 0),s});return r.end({accountType:ss(i.account),success:!0}),i}else throw ye(kj);else throw ye(Nj)}catch(i){throw this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_BY_CODE_FAILURE,ke.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(U.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(s=>{var o;return(o=this.acquireTokenByCodeAsyncMeasurement)==null||o.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker}),s}).catch(s=>{var o;throw(o=this.acquireTokenByCodeAsyncMeasurement)==null||o.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(U.AcquireTokenFromCache,e.correlationId),n){case Zn.Default:case Zn.AccessToken:case Zn.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return re(r.acquireToken.bind(r),U.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw de(Jo)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(U.AcquireTokenByRefreshToken,e.correlationId),n){case Zn.Default:case Zn.AccessTokenAndRefreshToken:case Zn.RefreshToken:case Zn.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return re(r.acquireToken.bind(r),U.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw de(Jo)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(U.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return re(n.acquireToken.bind(n),U.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return Gk(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Po.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return lE(this.initialized),this.browserStorage.setInteractionInProgress(!0,Po.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return a$(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return l$(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return c$(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return u$(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return d$(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();h$(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return f$(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=pi.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,i){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw ye(eE);return new Vp(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,i)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Ih(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case nr.NONE:case nr.CONSENT:case nr.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new j$(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new O$(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new G$(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,mt.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new t6(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new $$(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new q$(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,mt.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Wj(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==un.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==un.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?zi():oe.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||Fk})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||Fk})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(U.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),ap(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=e.account||this.getActiveAccount();if(!i)throw ye(bj);return r.add({accountType:ss(i)}),this.acquireTokenSilentDeduped(e,i,n).then(s=>(r.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length}),{...s,state:e.state,correlationId:n})).catch(s=>{throw s instanceof vt&&s.setCorrelationId(n),r.end({success:!1},s),s})}async acquireTokenSilentDeduped(e,n,r){const i=av(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:r},n.homeAccountId),s=JSON.stringify(i),o=this.activeSilentTokenRequests.get(s);if(typeof o>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const a=re(this.acquireTokenSilentAsync.bind(this),U.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(s,a),a.finally(()=>{this.activeSilentTokenRequests.delete(s)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),o}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(U.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_START,ke.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const i=await re(m$,U.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),s=e.cacheLookupPolicy||Zn.Default;return this.acquireTokenSilentNoIframe(i,s).catch(async a=>{if(Y$(a,s))if(this.activeIframeRequest)if(s!==Zn.Skip){const[u,f]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${f}`,i.correlationId);const g=this.performanceClient.startMeasurement(U.AwaitConcurrentIframe,i.correlationId);g.add({awaitIframeCorrelationId:f});const p=await u;if(g.end({success:p}),p)return this.logger.verbose(`Parallel iframe request with correlationId: ${f} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,s);throw this.logger.info(`Iframe request with correlationId: ${f} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),re(this.acquireTokenBySilentIframe.bind(this),U.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let u;return this.activeIframeRequest=[new Promise(f=>{u=f}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),re(this.acquireTokenBySilentIframe.bind(this),U.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(f=>(u(!0),f)).catch(f=>{throw u(!1),f}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_SUCCESS,ke.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_FAILURE,ke.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return Ih(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,mt.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw r instanceof hs&&dc(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,de(Jo)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===Zn.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),re(this.acquireTokenFromCache.bind(this),U.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===Zn.AccessToken)throw r;return this.eventHandler.emitEvent(we.ACQUIRE_TOKEN_NETWORK_START,ke.Silent,e),re(this.acquireTokenByRefreshToken.bind(this),U.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await re(gv,U.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),K$(n,e,this.logger)}}function Y$(t,e){const n=!(t instanceof Hi&&t.subError!==cv),r=t.errorCode===mr.INVALID_GRANT_ERROR||t.errorCode===Jo,i=n&&r||t.errorCode===zm||t.errorCode===G2,s=EG.includes(e);return i&&s}/*! @azure/msal-browser v4.19.0 2025-08-05 */async function Q$(t,e){const n=new xl(t);return await n.initialize(),mv.createController(n,e)}/*! @azure/msal-browser v4.19.0 2025-08-05 */class yE{static async createPublicClientApplication(e){const n=await Q$(e);return new yE(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new mv(new xl(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.19.0 2025-08-05 */const X$={initialize:()=>Promise.reject(Zt(Jt)),acquireTokenPopup:()=>Promise.reject(Zt(Jt)),acquireTokenRedirect:()=>Promise.reject(Zt(Jt)),acquireTokenSilent:()=>Promise.reject(Zt(Jt)),acquireTokenByCode:()=>Promise.reject(Zt(Jt)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(Zt(Jt)),loginPopup:()=>Promise.reject(Zt(Jt)),loginRedirect:()=>Promise.reject(Zt(Jt)),logout:()=>Promise.reject(Zt(Jt)),logoutRedirect:()=>Promise.reject(Zt(Jt)),logoutPopup:()=>Promise.reject(Zt(Jt)),ssoSilent:()=>Promise.reject(Zt(Jt)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw Zt(Jt)},getLogger:()=>{throw Zt(Jt)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw Zt(Jt)},hydrateCache:()=>Promise.reject(Zt(Jt)),clearCache:()=>Promise.reject(Zt(Jt))};/*! @azure/msal-browser v4.19.0 2025-08-05 */class J${static getInteractionStatusFromEvent(e,n){switch(e.eventType){case we.LOGIN_START:return $t.Login;case we.SSO_SILENT_START:return $t.SsoSilent;case we.ACQUIRE_TOKEN_START:if(e.interactionType===ke.Redirect||e.interactionType===ke.Popup)return $t.AcquireToken;break;case we.HANDLE_REDIRECT_START:return $t.HandleRedirect;case we.LOGOUT_START:return $t.Logout;case we.SSO_SILENT_SUCCESS:case we.SSO_SILENT_FAILURE:if(n&&n!==$t.SsoSilent)break;return $t.None;case we.LOGOUT_END:if(n&&n!==$t.Logout)break;return $t.None;case we.HANDLE_REDIRECT_END:if(n&&n!==$t.HandleRedirect)break;return $t.None;case we.LOGIN_SUCCESS:case we.LOGIN_FAILURE:case we.ACQUIRE_TOKEN_SUCCESS:case we.ACQUIRE_TOKEN_FAILURE:case we.RESTORE_FROM_BFCACHE:if(e.interactionType===ke.Redirect||e.interactionType===ke.Popup){if(n&&n!==$t.Login&&n!==$t.AcquireToken)break;return $t.None}break}return null}}/*! @azure/msal-react v3.0.17 2025-08-05 */const Z$={instance:X$,inProgress:$t.None,accounts:[],logger:new Xs({})},xE=M.createContext(Z$);xE.Consumer;/*! @azure/msal-react v3.0.17 2025-08-05 */function eR(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(r=>{const i=n.shift();return!r||!i?!1:r.homeAccountId===i.homeAccountId&&r.localAccountId===i.localAccountId&&r.username===i.username})}function eV(t,e){return t.length>0&&(e.homeAccountId||e.localAccountId||e.username)&&t.filter(r=>!(e.username&&e.username.toLowerCase()!==r.username.toLowerCase()||e.homeAccountId&&e.homeAccountId.toLowerCase()!==r.homeAccountId.toLowerCase()||e.localAccountId&&e.localAccountId.toLowerCase()!==r.localAccountId.toLowerCase()))[0]||null}/*! @azure/msal-react v3.0.17 2025-08-05 */const tV="@azure/msal-react",tR="3.0.17";/*! @azure/msal-react v3.0.17 2025-08-05 */const Xm={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},nV=(t,e)=>{const{type:n,payload:r}=e;let i=t.inProgress;switch(n){case Xm.UNBLOCK_INPROGRESS:t.inProgress===$t.Startup&&(i=$t.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Xm.EVENT:const o=r.message,a=J$.getInteractionStatusFromEvent(o,t.inProgress);a&&(r.logger.info(`MsalProvider - ${o.eventType} results in setting inProgress from ${t.inProgress} to ${a}`),i=a);break;default:throw new Error(`Unknown action type: ${n}`)}if(i===$t.Startup)return t;const s=r.instance.getAllAccounts();return i!==t.inProgress&&!eR(s,t.accounts)?{...t,inProgress:i,accounts:s}:i!==t.inProgress?{...t,inProgress:i}:eR(s,t.accounts)?t:{...t,accounts:s}};function rV({instance:t,children:e}){M.useEffect(()=>{t.initializeWrapperLibrary(wG.React,tR)},[t]);const n=M.useMemo(()=>t.getLogger().clone(tV,tR),[t]),[r,i]=M.useReducer(nV,void 0,()=>({inProgress:$t.Startup,accounts:[]}));M.useEffect(()=>{const o=t.addEventCallback(a=>{i({payload:{instance:t,logger:n,message:a},type:Xm.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${o}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:t,logger:n},type:Xm.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{o&&(n.verbose(`MsalProvider - Removing event callback ${o}`),t.removeEventCallback(o))}},[t,n]);const s={instance:t,inProgress:r.inProgress,accounts:r.accounts,logger:n};return q.createElement(xE.Provider,{value:s},e)}/*! @azure/msal-react v3.0.17 2025-08-05 */const vv=()=>M.useContext(xE);/*! @azure/msal-react v3.0.17 2025-08-05 */function iV(t,e){return t.length>0}function sV(t){const{accounts:e,inProgress:n}=vv();return M.useMemo(()=>n===$t.Startup?!1:iV(e),[e,n,t])}/*! @azure/msal-react v3.0.17 2025-08-05 */function nR(t,e){return!e||!e.homeAccountId&&!e.localAccountId&&!e.username?t.getActiveAccount():eV(t.getAllAccounts(),e)}function i6(t){const{instance:e,inProgress:n,logger:r}=vv(),[i,s]=M.useState(()=>n===$t.Startup?null:nR(e,t));return M.useEffect(()=>{n!==$t.Startup&&s(o=>{const a=nR(e,t);return pi.accountInfoIsEqual(o,a,!0)?o:(r.info("useAccount - Updating account"),a)})},[n,t,e,r]),i}const oV="15f63fb8-2be4-4d45-8260-f47d67a78b33",aV="c50c4d00-66c3-4e89-8f42-631dee566c75",lV="http://localhost:3000",cV={auth:{clientId:oV,authority:`https://login.microsoftonline.com/${aV}`,redirectUri:lV,postLogoutRedirectUri:window.location.origin,navigateToLoginRequestUrl:!1},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(t,e,n)=>{if(!n)switch(t){case 0:console.error("[MSAL]",e);break;case 1:console.warn("[MSAL]",e);break;case 2:console.info("[MSAL]",e);break;case 3:console.debug("[MSAL]",e);break}}}}},ud={scopes:["openid","profile","email","User.Read"],prompt:"select_account"},uV={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:7071/api",VITE_AZURE_AD_CLIENT_ID:"15f63fb8-2be4-4d45-8260-f47d67a78b33",VITE_AZURE_AD_REDIRECT_URI:"http://localhost:3000",VITE_AZURE_AD_TENANT_ID:"c50c4d00-66c3-4e89-8f42-631dee566c75",VITE_HUBSPOT_CLIENT_ID:"110008e7-4d30-4552-8585-b325ca1871fa",VITE_HUBSPOT_REDIRECT_URI:"http://localhost:3000/oauth/hubspot/callback"},rR=t=>{let e;const n=new Set,r=(f,g)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const m=e;e=g??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(y=>y(e,m))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(uV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,c);return c},dV=t=>t?rR(t):rR;var s6={exports:{}},o6={},a6={exports:{}},l6={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=M;function hV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fV=typeof Object.is=="function"?Object.is:hV,gV=Qc.useState,pV=Qc.useEffect,mV=Qc.useLayoutEffect,vV=Qc.useDebugValue;function yV(t,e){var n=e(),r=gV({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return mV(function(){i.value=n,i.getSnapshot=e,Qb(i)&&s({inst:i})},[t,n,e]),pV(function(){return Qb(i)&&s({inst:i}),t(function(){Qb(i)&&s({inst:i})})},[t]),vV(n),n}function Qb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fV(t,n)}catch{return!0}}function xV(t,e){return e()}var bV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xV:yV;l6.useSyncExternalStore=Qc.useSyncExternalStore!==void 0?Qc.useSyncExternalStore:bV;a6.exports=l6;var wV=a6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=M,SV=wV;function CV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EV=typeof Object.is=="function"?Object.is:CV,_V=SV.useSyncExternalStore,AV=yv.useRef,NV=yv.useEffect,TV=yv.useMemo,kV=yv.useDebugValue;o6.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=AV(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=TV(function(){function c(m){if(!u){if(u=!0,f=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return g=y}return g=m}if(y=g,EV(f,m))return y;var x=r(m);return i!==void 0&&i(y,x)?y:(f=m,g=x)}var u=!1,f,g,p=n===void 0?null:n;return[function(){return c(e())},p===null?void 0:function(){return c(p())}]},[e,n,r,i]);var a=_V(t,s[0],s[1]);return NV(function(){o.hasValue=!0,o.value=a},[a]),kV(a),a};s6.exports=o6;var RV=s6.exports;const IV=uu(RV),c6={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:7071/api",VITE_AZURE_AD_CLIENT_ID:"15f63fb8-2be4-4d45-8260-f47d67a78b33",VITE_AZURE_AD_REDIRECT_URI:"http://localhost:3000",VITE_AZURE_AD_TENANT_ID:"c50c4d00-66c3-4e89-8f42-631dee566c75",VITE_HUBSPOT_CLIENT_ID:"110008e7-4d30-4552-8585-b325ca1871fa",VITE_HUBSPOT_REDIRECT_URI:"http://localhost:3000/oauth/hubspot/callback"},{useDebugValue:DV}=q,{useSyncExternalStoreWithSelector:PV}=IV;let iR=!1;const jV=t=>t;function MV(t,e=jV,n){(c6?"production":void 0)!=="production"&&n&&!iR&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),iR=!0);const r=PV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return DV(r),r}const sR=t=>{(c6?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?dV(t):t,n=(r,i)=>MV(e,r,i);return Object.assign(n,e),n},bu=t=>t?sR(t):sR,Wp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:7071/api",VITE_AZURE_AD_CLIENT_ID:"15f63fb8-2be4-4d45-8260-f47d67a78b33",VITE_AZURE_AD_REDIRECT_URI:"http://localhost:3000",VITE_AZURE_AD_TENANT_ID:"c50c4d00-66c3-4e89-8f42-631dee566c75",VITE_HUBSPOT_CLIENT_ID:"110008e7-4d30-4552-8585-b325ca1871fa",VITE_HUBSPOT_REDIRECT_URI:"http://localhost:3000/oauth/hubspot/callback"},mS=new Map,lp=t=>{const e=mS.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},OV=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=mS.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return mS.set(n.name,i),{type:"tracked",store:t,...i}},LV=(t,e={})=>(n,r,i)=>{const{enabled:s,anonymousActionType:o,store:a,...c}=e;let u;try{u=(s??(Wp?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(Wp?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(n,r,i);const{connection:f,...g}=OV(a,u,c);let p=!0;i.setState=(x,C,b)=>{const E=n(x,C);if(!p)return E;const S=b===void 0?{type:o||"anonymous"}:typeof b=="string"?{type:b}:b;return a===void 0?(f==null||f.send(S,r()),E):(f==null||f.send({...S,type:`${a}/${S.type}`},{...lp(c.name),[a]:i.getState()}),E)};const m=(...x)=>{const C=p;p=!1,n(...x),p=C},y=t(i.setState,r,i);if(g.type==="untracked"?f==null||f.init(y):(g.stores[g.store]=i,f==null||f.init(Object.fromEntries(Object.entries(g.stores).map(([x,C])=>[x,x===g.store?y:C.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let x=!1;const C=i.dispatch;i.dispatch=(...b)=>{(Wp?"production":void 0)!=="production"&&b[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),C(...b)}}return f.subscribe(x=>{var C;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Xb(x.payload,b=>{if(b.type==="__setState"){if(a===void 0){m(b.state);return}Object.keys(b.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=b.state[a];if(E==null)return;JSON.stringify(i.getState())!==JSON.stringify(E)&&m(E);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(b)});case"DISPATCH":switch(x.payload.type){case"RESET":return m(y),a===void 0?f==null?void 0:f.init(i.getState()):f==null?void 0:f.init(lp(c.name));case"COMMIT":if(a===void 0){f==null||f.init(i.getState());return}return f==null?void 0:f.init(lp(c.name));case"ROLLBACK":return Xb(x.state,b=>{if(a===void 0){m(b),f==null||f.init(i.getState());return}m(b[a]),f==null||f.init(lp(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Xb(x.state,b=>{if(a===void 0){m(b);return}JSON.stringify(i.getState())!==JSON.stringify(b[a])&&m(b[a])});case"IMPORT_STATE":{const{nextLiftedState:b}=x.payload,E=(C=b.computedStates.slice(-1)[0])==null?void 0:C.state;if(!E)return;m(a===void 0?E:E[a]),f==null||f.send(null,b);return}case"PAUSE_RECORDING":return p=!p}return}}),y},u6=LV,Xb=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};function FV(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Dh=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Dh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Dh(r)(n)}}}},UV=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,b)=>({...b,...C}),...e},o=!1;const a=new Set,c=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...C)},r,i);const f=Dh(s.serialize),g=()=>{const C=s.partialize({...r()});let b;const E=f({state:C,version:s.version}).then(S=>u.setItem(s.name,S)).catch(S=>{b=S});if(b)throw b;return E},p=i.setState;i.setState=(C,b)=>{p(C,b),g()};const m=t((...C)=>{n(...C),g()},r,i);let y;const x=()=>{var C;if(!u)return;o=!1,a.forEach(E=>E(r()));const b=((C=s.onRehydrateStorage)==null?void 0:C.call(s,r()))||void 0;return Dh(u.getItem.bind(u))(s.name).then(E=>{if(E)return s.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return s.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var S;return y=s.merge(E,(S=r())!=null?S:m),n(y,!0),g()}).then(()=>{b==null||b(y,void 0),o=!0,c.forEach(E=>E(y))}).catch(E=>{b==null||b(void 0,E)})};return i.persist={setOptions:C=>{s={...s,...C},C.getStorage&&(u=C.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:C=>(a.add(C),()=>{a.delete(C)}),onFinishHydration:C=>(c.add(C),()=>{c.delete(C)})},x(),y||m},BV=(t,e)=>(n,r,i)=>{let s={storage:FV(()=>localStorage),partialize:x=>x,version:0,merge:(x,C)=>({...C,...x}),...e},o=!1;const a=new Set,c=new Set;let u=s.storage;if(!u)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},r,i);const f=()=>{const x=s.partialize({...r()});return u.setItem(s.name,{state:x,version:s.version})},g=i.setState;i.setState=(x,C)=>{g(x,C),f()};const p=t((...x)=>{n(...x),f()},r,i);i.getInitialState=()=>p;let m;const y=()=>{var x,C;if(!u)return;o=!1,a.forEach(E=>{var S;return E((S=r())!=null?S:p)});const b=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(x=r())!=null?x:p))||void 0;return Dh(u.getItem.bind(u))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return[!0,s.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var S;const[A,T]=E;if(m=s.merge(T,(S=r())!=null?S:p),n(m,!0),A)return f()}).then(()=>{b==null||b(m,void 0),m=r(),o=!0,c.forEach(E=>E(m))}).catch(E=>{b==null||b(void 0,E)})};return i.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},s.skipHydration||y(),m||p},HV=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Wp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),UV(t,e)):BV(t,e),zV=HV;function d6(t,e){return function(){return t.apply(e,arguments)}}const{toString:GV}=Object.prototype,{getPrototypeOf:bE}=Object,{iterator:xv,toStringTag:h6}=Symbol,bv=(t=>e=>{const n=GV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$i=t=>(t=t.toLowerCase(),e=>bv(e)===t),wv=t=>e=>typeof e===t,{isArray:wu}=Array,Ph=wv("undefined");function af(t){return t!==null&&!Ph(t)&&t.constructor!==null&&!Ph(t.constructor)&&Er(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const f6=$i("ArrayBuffer");function $V(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&f6(t.buffer),e}const VV=wv("string"),Er=wv("function"),g6=wv("number"),lf=t=>t!==null&&typeof t=="object",WV=t=>t===!0||t===!1,qp=t=>{if(bv(t)!=="object")return!1;const e=bE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(h6 in t)&&!(xv in t)},qV=t=>{if(!lf(t)||af(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},KV=$i("Date"),YV=$i("File"),QV=$i("Blob"),XV=$i("FileList"),JV=t=>lf(t)&&Er(t.pipe),ZV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Er(t.append)&&((e=bv(t))==="formdata"||e==="object"&&Er(t.toString)&&t.toString()==="[object FormData]"))},eW=$i("URLSearchParams"),[tW,nW,rW,iW]=["ReadableStream","Request","Response","Headers"].map($i),sW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),wu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(af(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function p6(t,e){if(af(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const rl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,m6=t=>!Ph(t)&&t!==rl;function vS(){const{caseless:t}=m6(this)&&this||{},e={},n=(r,i)=>{const s=t&&p6(e,i)||i;qp(e[s])&&qp(r)?e[s]=vS(e[s],r):qp(r)?e[s]=vS({},r):wu(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cf(arguments[r],n);return e}const oW=(t,e,n,{allOwnKeys:r}={})=>(cf(e,(i,s)=>{n&&Er(i)?t[s]=d6(i,n):t[s]=i},{allOwnKeys:r}),t),aW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lW=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},cW=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&bE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},uW=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},dW=t=>{if(!t)return null;if(wu(t))return t;let e=t.length;if(!g6(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},hW=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bE(Uint8Array)),fW=(t,e)=>{const r=(t&&t[xv]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},gW=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},pW=$i("HTMLFormElement"),mW=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),oR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),vW=$i("RegExp"),v6=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};cf(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},yW=t=>{v6(t,(e,n)=>{if(Er(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xW=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return wu(t)?r(t):r(String(t).split(e)),n},bW=()=>{},wW=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function SW(t){return!!(t&&Er(t.append)&&t[h6]==="FormData"&&t[xv])}const CW=t=>{const e=new Array(10),n=(r,i)=>{if(lf(r)){if(e.indexOf(r)>=0)return;if(af(r))return r;if(!("toJSON"in r)){e[i]=r;const s=wu(r)?[]:{};return cf(r,(o,a)=>{const c=n(o,i+1);!Ph(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return n(t,0)},EW=$i("AsyncFunction"),_W=t=>t&&(lf(t)||Er(t))&&Er(t.then)&&Er(t.catch),y6=((t,e)=>t?setImmediate:e?((n,r)=>(rl.addEventListener("message",({source:i,data:s})=>{i===rl&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),rl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(rl.postMessage)),AW=typeof queueMicrotask<"u"?queueMicrotask.bind(rl):typeof process<"u"&&process.nextTick||y6,NW=t=>t!=null&&Er(t[xv]),J={isArray:wu,isArrayBuffer:f6,isBuffer:af,isFormData:ZV,isArrayBufferView:$V,isString:VV,isNumber:g6,isBoolean:WV,isObject:lf,isPlainObject:qp,isEmptyObject:qV,isReadableStream:tW,isRequest:nW,isResponse:rW,isHeaders:iW,isUndefined:Ph,isDate:KV,isFile:YV,isBlob:QV,isRegExp:vW,isFunction:Er,isStream:JV,isURLSearchParams:eW,isTypedArray:hW,isFileList:XV,forEach:cf,merge:vS,extend:oW,trim:sW,stripBOM:aW,inherits:lW,toFlatObject:cW,kindOf:bv,kindOfTest:$i,endsWith:uW,toArray:dW,forEachEntry:fW,matchAll:gW,isHTMLForm:pW,hasOwnProperty:oR,hasOwnProp:oR,reduceDescriptors:v6,freezeMethods:yW,toObjectSet:xW,toCamelCase:mW,noop:bW,toFiniteNumber:wW,findKey:p6,global:rl,isContextDefined:m6,isSpecCompliantForm:SW,toJSONObject:CW,isAsyncFn:EW,isThenable:_W,setImmediate:y6,asap:AW,isIterable:NW};function Be(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}J.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const x6=Be.prototype,b6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{b6[t]={value:t}});Object.defineProperties(Be,b6);Object.defineProperty(x6,"isAxiosError",{value:!0});Be.from=(t,e,n,r,i,s)=>{const o=Object.create(x6);return J.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Be.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const TW=null;function yS(t){return J.isPlainObject(t)||J.isArray(t)}function w6(t){return J.endsWith(t,"[]")?t.slice(0,-2):t}function aR(t,e,n){return t?t.concat(e).map(function(i,s){return i=w6(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function kW(t){return J.isArray(t)&&!t.some(yS)}const RW=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});function Sv(t,e,n){if(!J.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,C){return!J.isUndefined(C[x])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(e);if(!J.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(J.isDate(y))return y.toISOString();if(J.isBoolean(y))return y.toString();if(!c&&J.isBlob(y))throw new Be("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(y)||J.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,x,C){let b=y;if(y&&!C&&typeof y=="object"){if(J.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(J.isArray(y)&&kW(y)||(J.isFileList(y)||J.endsWith(x,"[]"))&&(b=J.toArray(y)))return x=w6(x),b.forEach(function(S,A){!(J.isUndefined(S)||S===null)&&e.append(o===!0?aR([x],A,s):o===null?x:x+"[]",u(S))}),!1}return yS(y)?!0:(e.append(aR(C,x,s),u(y)),!1)}const g=[],p=Object.assign(RW,{defaultVisitor:f,convertValue:u,isVisitable:yS});function m(y,x){if(!J.isUndefined(y)){if(g.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));g.push(y),J.forEach(y,function(b,E){(!(J.isUndefined(b)||b===null)&&i.call(e,b,J.isString(E)?E.trim():E,x,p))===!0&&m(b,x?x.concat(E):[E])}),g.pop()}}if(!J.isObject(t))throw new TypeError("data must be an object");return m(t),e}function lR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wE(t,e){this._pairs=[],t&&Sv(t,this,e)}const S6=wE.prototype;S6.append=function(e,n){this._pairs.push([e,n])};S6.toString=function(e){const n=e?function(r){return e.call(this,r,lR)}:lR;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function IW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C6(t,e,n){if(!e)return t;const r=n&&n.encode||IW;J.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=J.isURLSearchParams(e)?e.toString():new wE(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class cR{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(r){r!==null&&e(r)})}}const E6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DW=typeof URLSearchParams<"u"?URLSearchParams:wE,PW=typeof FormData<"u"?FormData:null,jW=typeof Blob<"u"?Blob:null,MW={isBrowser:!0,classes:{URLSearchParams:DW,FormData:PW,Blob:jW},protocols:["http","https","file","blob","url","data"]},SE=typeof window<"u"&&typeof document<"u",xS=typeof navigator=="object"&&navigator||void 0,OW=SE&&(!xS||["ReactNative","NativeScript","NS"].indexOf(xS.product)<0),LW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FW=SE&&window.location.href||"http://localhost",UW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:SE,hasStandardBrowserEnv:OW,hasStandardBrowserWebWorkerEnv:LW,navigator:xS,origin:FW},Symbol.toStringTag,{value:"Module"})),Vn={...UW,...MW};function BW(t,e){return Sv(t,new Vn.classes.URLSearchParams,{visitor:function(n,r,i,s){return Vn.isNode&&J.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function HW(t){return J.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zW(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function _6(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&J.isArray(i)?i.length:o,c?(J.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!J.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&J.isArray(i[o])&&(i[o]=zW(i[o])),!a)}if(J.isFormData(t)&&J.isFunction(t.entries)){const n={};return J.forEachEntry(t,(r,i)=>{e(HW(r),i,n,0)}),n}return null}function GW(t,e,n){if(J.isString(t))try{return(e||JSON.parse)(t),J.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const uf={transitional:E6,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=J.isObject(e);if(s&&J.isHTMLForm(e)&&(e=new FormData(e)),J.isFormData(e))return i?JSON.stringify(_6(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return BW(e,this.formSerializer).toString();if((a=J.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Sv(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),GW(e)):e}],transformResponse:[function(e){const n=this.transitional||uf.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Be.from(a,Be.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],t=>{uf.headers[t]={}});const $W=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VW=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&$W[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},uR=Symbol("internals");function dd(t){return t&&String(t).trim().toLowerCase()}function Kp(t){return t===!1||t==null?t:J.isArray(t)?t.map(Kp):String(t)}function WW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const qW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Jb(t,e,n,r,i){if(J.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!J.isString(e)){if(J.isString(r))return e.indexOf(r)!==-1;if(J.isRegExp(r))return r.test(e)}}function KW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function YW(t,e){const n=J.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class _r{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,c,u){const f=dd(c);if(!f)throw new Error("header name must be a non-empty string");const g=J.findKey(i,f);(!g||i[g]===void 0||u===!0||u===void 0&&i[g]!==!1)&&(i[g||c]=Kp(a))}const o=(a,c)=>J.forEach(a,(u,f)=>s(u,f,c));if(J.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(J.isString(e)&&(e=e.trim())&&!qW(e))o(VW(e),n);else if(J.isObject(e)&&J.isIterable(e)){let a={},c,u;for(const f of e){if(!J.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(c=a[u])?J.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=dd(e),e){const r=J.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return WW(i);if(J.isFunction(n))return n.call(this,i,r);if(J.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=dd(e),e){const r=J.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Jb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=dd(o),o){const a=J.findKey(r,o);a&&(!n||Jb(r,r[a],a,n))&&(delete r[a],i=!0)}}return J.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Jb(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return J.forEach(this,(i,s)=>{const o=J.findKey(r,s);if(o){n[o]=Kp(i),delete n[s];return}const a=e?KW(s):String(s).trim();a!==s&&delete n[s],n[a]=Kp(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return J.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&J.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[uR]=this[uR]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=dd(o);r[a]||(YW(i,o),r[a]=!0)}return J.isArray(e)?e.forEach(s):s(e),this}}_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(_r.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});J.freezeMethods(_r);function Zb(t,e){const n=this||uf,r=e||n,i=_r.from(r.headers);let s=r.data;return J.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function A6(t){return!!(t&&t.__CANCEL__)}function Su(t,e,n){Be.call(this,t??"canceled",Be.ERR_CANCELED,e,n),this.name="CanceledError"}J.inherits(Su,Be,{__CANCEL__:!0});function N6(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Be("Request failed with status code "+n.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function XW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),f=r[s];o||(o=u),n[i]=c,r[i]=u;let g=s,p=0;for(;g!==i;)p+=n[g++],g=g%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=f&&u-f;return m?Math.round(p*1e3/m):void 0}}function JW(t,e){let n=0,r=1e3/e,i,s;const o=(u,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const f=Date.now(),g=f-n;g>=r?o(u,f):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-g)))},()=>i&&o(i)]}const Jm=(t,e,n=3)=>{let r=0;const i=XW(50,250);return JW(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),f=o<=a;r=o;const g={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&f?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(g)},n)},dR=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},hR=t=>(...e)=>J.asap(()=>t(...e)),ZW=Vn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Vn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,eq=Vn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];J.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),J.isString(r)&&o.push("path="+r),J.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function T6(t,e,n){let r=!tq(e);return t&&(r||n==!1)?nq(t,e):e}const fR=t=>t instanceof _r?{...t}:t;function bl(t,e){e=e||{};const n={};function r(u,f,g,p){return J.isPlainObject(u)&&J.isPlainObject(f)?J.merge.call({caseless:p},u,f):J.isPlainObject(f)?J.merge({},f):J.isArray(f)?f.slice():f}function i(u,f,g,p){if(J.isUndefined(f)){if(!J.isUndefined(u))return r(void 0,u,g,p)}else return r(u,f,g,p)}function s(u,f){if(!J.isUndefined(f))return r(void 0,f)}function o(u,f){if(J.isUndefined(f)){if(!J.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,g){if(g in e)return r(u,f);if(g in t)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f,g)=>i(fR(u),fR(f),g,!0)};return J.forEach(Object.keys({...t,...e}),function(f){const g=c[f]||i,p=g(t[f],e[f],f);J.isUndefined(p)&&g!==a||(n[f]=p)}),n}const k6=t=>{const e=bl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=_r.from(o),e.url=C6(T6(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(J.isFormData(n)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...f]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Vn.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(e)),r||r!==!1&&ZW(e.url))){const u=i&&s&&eq.read(s);u&&o.set(i,u)}return e},rq=typeof XMLHttpRequest<"u",iq=rq&&function(t){return new Promise(function(n,r){const i=k6(t);let s=i.data;const o=_r.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,f,g,p,m,y;function x(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function b(){if(!C)return;const S=_r.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:S,config:t,request:C};N6(function(I){n(I),x()},function(I){r(I),x()},T),C=null}"onloadend"in C?C.onloadend=b:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(b)},C.onabort=function(){C&&(r(new Be("Request aborted",Be.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new Be("Network Error",Be.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||E6;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new Be(A,T.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,t,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&J.forEach(o.toJSON(),function(A,T){C.setRequestHeader(T,A)}),J.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),a&&a!=="json"&&(C.responseType=i.responseType),u&&([p,y]=Jm(u,!0),C.addEventListener("progress",p)),c&&C.upload&&([g,m]=Jm(c),C.upload.addEventListener("progress",g),C.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(f=S=>{C&&(r(!S||S.type?new Su(null,t,C):S),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const E=QW(i.url);if(E&&Vn.protocols.indexOf(E)===-1){r(new Be("Unsupported protocol "+E+":",Be.ERR_BAD_REQUEST,t));return}C.send(s||null)})},sq=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof Be?f:new Su(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>J.asap(a),c}},oq=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},aq=async function*(t,e){for await(const n of lq(t))yield*oq(n,e)},lq=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},gR=(t,e,n,r)=>{const i=aq(t,e);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await i.next();if(u){a(),c.close();return}let g=f.byteLength;if(n){let p=s+=g;n(p)}c.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},Cv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",R6=Cv&&typeof ReadableStream=="function",cq=Cv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),I6=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uq=R6&&I6(()=>{let t=!1;const e=new Request(Vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),pR=64*1024,bS=R6&&I6(()=>J.isReadableStream(new Response("").body)),Zm={stream:bS&&(t=>t.body)};Cv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zm[e]&&(Zm[e]=J.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Be(`Response type '${e}' is not supported`,Be.ERR_NOT_SUPPORT,r)})})})(new Response);const dq=async t=>{if(t==null)return 0;if(J.isBlob(t))return t.size;if(J.isSpecCompliantForm(t))return(await new Request(Vn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(J.isArrayBufferView(t)||J.isArrayBuffer(t))return t.byteLength;if(J.isURLSearchParams(t)&&(t=t+""),J.isString(t))return(await cq(t)).byteLength},hq=async(t,e)=>{const n=J.toFiniteNumber(t.getContentLength());return n??dq(e)},fq=Cv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:f,withCredentials:g="same-origin",fetchOptions:p}=k6(t);u=u?(u+"").toLowerCase():"text";let m=sq([i,s&&s.toAbortSignal()],o),y;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let C;try{if(c&&uq&&n!=="get"&&n!=="head"&&(C=await hq(f,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(J.isFormData(r)&&(k=T.headers.get("content-type"))&&f.setContentType(k),T.body){const[I,D]=dR(C,Jm(hR(c)));r=gR(T.body,pR,I,D)}}J.isString(g)||(g=g?"include":"omit");const b="credentials"in Request.prototype;y=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:b?g:void 0});let E=await fetch(y,p);const S=bS&&(u==="stream"||u==="response");if(bS&&(a||S&&x)){const T={};["status","statusText","headers"].forEach(P=>{T[P]=E[P]});const k=J.toFiniteNumber(E.headers.get("content-length")),[I,D]=a&&dR(k,Jm(hR(a),!0))||[];E=new Response(gR(E.body,pR,I,()=>{D&&D(),x&&x()}),T)}u=u||"text";let A=await Zm[J.findKey(Zm,u)||"text"](E,t);return!S&&x&&x(),await new Promise((T,k)=>{N6(T,k,{data:A,headers:_r.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:y})})}catch(b){throw x&&x(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,t,y),{cause:b.cause||b}):Be.from(b,b&&b.code,t,y)}}),wS={http:TW,xhr:iq,fetch:fq};J.forEach(wS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const mR=t=>`- ${t}`,gq=t=>J.isFunction(t)||t===null||t===!1,D6={getAdapter:t=>{t=J.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!gq(n)&&(r=wS[(o=String(n)).toLowerCase()],r===void 0))throw new Be(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(mR).join(`
`):" "+mR(s[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:wS};function e1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Su(null,t)}function vR(t){return e1(t),t.headers=_r.from(t.headers),t.data=Zb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),D6.getAdapter(t.adapter||uf.adapter)(t).then(function(r){return e1(t),r.data=Zb.call(t,t.transformResponse,r),r.headers=_r.from(r.headers),r},function(r){return A6(r)||(e1(t),r&&r.response&&(r.response.data=Zb.call(t,t.transformResponse,r.response),r.response.headers=_r.from(r.response.headers))),Promise.reject(r)})}const P6="1.11.0",Ev={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ev[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const yR={};Ev.transitional=function(e,n,r){function i(s,o){return"[Axios v"+P6+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Be(i(o," has been removed"+(n?" in "+n:"")),Be.ERR_DEPRECATED);return n&&!yR[o]&&(yR[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Ev.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function pq(t,e,n){if(typeof t!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new Be("option "+s+" must be "+c,Be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Be("Unknown option "+s,Be.ERR_BAD_OPTION)}}const Yp={assertOptions:pq,validators:Ev},os=Yp.validators;class al{constructor(e){this.defaults=e||{},this.interceptors={request:new cR,response:new cR}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Yp.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),i!=null&&(J.isFunction(i)?n.paramsSerializer={serialize:i}:Yp.assertOptions(i,{encode:os.function,serialize:os.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Yp.assertOptions(n,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&J.merge(s.common,s[n.method]);s&&J.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=_r.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let f,g=0,p;if(!c){const y=[vR.bind(this),void 0];for(y.unshift(...a),y.push(...u),p=y.length,f=Promise.resolve(n);g<p;)f=f.then(y[g++],y[g++]);return f}p=a.length;let m=n;for(g=0;g<p;){const y=a[g++],x=a[g++];try{m=y(m)}catch(C){x.call(this,C);break}}try{f=vR.call(this,m)}catch(y){return Promise.reject(y)}for(g=0,p=u.length;g<p;)f=f.then(u[g++],u[g++]);return f}getUri(e){e=bl(this.defaults,e);const n=T6(e.baseURL,e.url,e.allowAbsoluteUrls);return C6(n,e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){al.prototype[e]=function(n,r){return this.request(bl(r||{},{method:e,url:n,data:(r||{}).data}))}});J.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(bl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}al.prototype[e]=n(),al.prototype[e+"Form"]=n(!0)});class CE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Su(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new CE(function(i){e=i}),cancel:e}}}function mq(t){return function(n){return t.apply(null,n)}}function vq(t){return J.isObject(t)&&t.isAxiosError===!0}const SS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(SS).forEach(([t,e])=>{SS[e]=t});function j6(t){const e=new al(t),n=d6(al.prototype.request,e);return J.extend(n,al.prototype,e,{allOwnKeys:!0}),J.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return j6(bl(t,i))},n}const qe=j6(uf);qe.Axios=al;qe.CanceledError=Su;qe.CancelToken=CE;qe.isCancel=A6;qe.VERSION=P6;qe.toFormData=Sv;qe.AxiosError=Be;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=mq;qe.isAxiosError=vq;qe.mergeConfig=bl;qe.AxiosHeaders=_r;qe.formToJSON=t=>_6(J.isHTMLForm(t)?new FormData(t):t);qe.getAdapter=D6.getAdapter;qe.HttpStatusCode=SS;qe.default=qe;class yq{constructor(){Rs(this,"api");Rs(this,"baseURL");this.baseURL="http://localhost:7071/api",this.api=qe.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.api.interceptors.response.use(e=>e,e=>{var n;return console.error("API Error:",((n=e.response)==null?void 0:n.data)||e.message),Promise.reject(e)})}async get(e,n){return this.api.get(e,n)}async post(e,n,r){return this.api.post(e,n,r)}async put(e,n,r){return this.api.put(e,n,r)}async patch(e,n,r){return this.api.patch(e,n,r)}async delete(e,n){return this.api.delete(e,n)}async getSOWs(){try{return(await this.get("/sow")).data}catch(e){throw console.error("Failed to get SOWs:",e),e}}async createSOW(e){try{return(await this.post("/sow",e)).data}catch(n){throw console.error("Failed to create SOW:",n),n}}async updateSOW(e,n){try{return(await this.put(`/sow/${e}`,n)).data}catch(r){throw console.error("Failed to update SOW:",r),r}}async deleteSOW(e){try{return(await this.delete(`/sow/${e}`)).data}catch(n){throw console.error("Failed to delete SOW:",n),n}}async getProjects(){try{return(await this.get("/projects")).data}catch(e){throw console.error("Failed to get projects:",e),e}}getBaseURL(){return this.baseURL}setBaseURL(e){this.baseURL=e,this.api.defaults.baseURL=e}async verifyAuth(e){try{return(await this.post("/auth/verify",{idToken:e})).data}catch(n){throw console.error("Failed to verify auth:",n),n}}async registerUser(e){try{return(await this.post("/auth/register",e)).data}catch(n){throw console.error("Failed to register user:",n),n}}getAxiosInstance(){return this.api}}const t1=new yq,M6=bu()(u6((t,e)=>({user:null,isAuthenticated:!1,isLoading:!0,error:null,needsSetup:!1,setupData:null,setUser:n=>t({user:n}),setAuthenticated:n=>t({isAuthenticated:n}),setLoading:n=>t({isLoading:n}),setError:n=>t({error:n}),setNeedsSetup:(n,r=null)=>t({needsSetup:n,setupData:r}),clearError:()=>t({error:null}),initializeAuth:async(n,r,i)=>{var s,o,a,c;if(t({isLoading:!0,error:null,needsSetup:!1,setupData:null}),i&&r)try{const f=(await n.acquireTokenSilent({...ud,account:r})).idToken,g=await t1.verifyAuth(f);if(g.exists){const p={id:r.homeAccountId,email:r.username,fullName:r.name||r.username,firstName:(s=r.name)==null?void 0:s.split(" ")[0],lastName:(o=r.name)==null?void 0:o.split(" ").slice(1).join(" "),role:"User"};t({user:p,isAuthenticated:!0,needsSetup:!1})}else t({needsSetup:!0,setupData:{email:g.email||r.username,firstName:((a=g.name)==null?void 0:a.split(" ")[0])||"",lastName:((c=g.name)==null?void 0:c.split(" ").slice(1).join(" "))||""},user:null,isAuthenticated:!1})}catch(u){console.error("AuthStore: Error during token acquisition or verification:",u),t({error:"Failed to verify authentication. Please try again.",user:null,isAuthenticated:!1,needsSetup:!1})}else t({user:null,isAuthenticated:!1,needsSetup:!1});t({isLoading:!1})},login:async(n,r="redirect")=>{t({error:null});try{r==="popup"?await n.loginPopup(ud):await n.loginRedirect(ud)}catch(i){console.error("AuthStore: Login failed:",i),t({error:"Login failed. Please try again."})}},logout:n=>{n.logoutRedirect(),t({user:null,isAuthenticated:!1,needsSetup:!1,setupData:null,error:null})},acquireToken:async(n,r)=>{if(!r)return t({error:"No active account found for token acquisition."}),null;try{return(await n.acquireTokenSilent({...ud,account:r})).accessToken}catch(i){return console.error("AuthStore: Failed to acquire token silently:",i),t({error:"Failed to acquire token. Please log in again."}),null}},verifyUser:async(n,r)=>{if(!r)throw new Error("No active account found");try{const i=await n.acquireTokenSilent({...ud,account:r});return await t1.verifyAuth(i.idToken)}catch(i){throw console.error("AuthStore: User verification failed:",i),i}},registerUser:async(n,r)=>{try{return(await t1.registerUser({name:n.name,email:n.email,azureAdObjectId:r==null?void 0:r.localAccountId})).success===!0}catch(i){throw console.error("AuthStore: User registration failed:",i),i}},completeSetup:()=>{t({needsSetup:!1,setupData:null})}}),{name:"auth-store"})),xq=({children:t})=>{const{instance:e,accounts:n,inProgress:r}=vv(),i=sV(),s=i6(n[0]||{}),o=M6(a=>a.initializeAuth);return M.useEffect(()=>{r==="none"&&o(e,s,i)},[i,s,r,o,e]),l.jsx(l.Fragment,{children:t})},EE=()=>{const{instance:t,accounts:e}=vv(),n=i6(e[0]||{}),r=M6();return{user:r.user,isAuthenticated:r.isAuthenticated,isLoading:r.isLoading,error:r.error,needsSetup:r.needsSetup,setupData:r.setupData,login:i=>r.login(t,i),logout:()=>r.logout(t),acquireToken:()=>r.acquireToken(t,n),verifyUser:()=>r.verifyUser(t,n),registerUser:i=>r.registerUser(i,n),clearError:r.clearError,completeSetup:r.completeSetup}};let bq=class extends q.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-8 w-8 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Something went wrong"})})]}),l.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"An error occurred while loading the application. Please refresh the page and try again."}),this.state.error&&l.jsxs("details",{className:"mb-4",children:[l.jsx("summary",{className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Error details"}),l.jsx("pre",{className:"mt-2 text-xs text-gray-600 bg-gray-100 p-2 rounded overflow-auto",children:this.state.error.message})]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):this.props.children}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...u},f)=>M.createElement("svg",{ref:f,...wq,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Sq(t)}`,a].join(" "),...u},[...e.map(([g,p])=>M.createElement(g,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=_e("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=_e("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=_e("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=_e("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=_e("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=_e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=_e("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=_e("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=_e("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=_e("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=_e("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=_e("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=_e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=_e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Wq({onViewChange:t,currentView:e}){const n=[{label:"Dashboard",icon:Iq,view:"dashboard"},{label:"SOW Builder",icon:Zs,view:"sow"},{label:"Repository",icon:CS,view:"repository"},{label:"Approvals",icon:_q,view:"approvals"}],r=!1,i=[{label:"Team",icon:ba,disabled:!0},{label:"Messages",icon:H6,disabled:!0}],s=o=>o&&e===o;return l.jsxs("div",{className:"w-64 bg-white text-gray-700 h-full flex flex-col border-r border-gray-200",children:[l.jsx("div",{className:"h-14 flex items-center px-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-base font-semibold text-gray-900",children:"ZigOS"}),l.jsx("span",{className:"text-xs text-gray-500",children:"SOW Platform"})]})}),l.jsx("div",{className:"flex-1 py-3",children:l.jsxs("nav",{className:"px-3 space-y-1",children:[n.map(o=>{const a=o.icon,c=s(o.view);return l.jsxs("button",{onClick:()=>t(o.view),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${c?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,"aria-current":c?"page":void 0,children:[l.jsx(a,{className:`w-5 h-5 ${c?"text-indigo-600":"text-gray-400"}`}),l.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.label)}),r,l.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4 space-y-1",children:i.map(o=>{const a=o.icon;return l.jsxs("div",{className:"w-full flex items-center gap-3 px-3 py-2 rounded-md text-gray-500","aria-disabled":!0,children:[l.jsx(a,{className:"w-5 h-5 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.label)})})]})}),l.jsxs("div",{className:"p-3 border-t border-gray-200 space-y-2",children:[l.jsxs("button",{onClick:()=>t("settings"),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${e==="settings"?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,"aria-current":e==="settings"?"page":void 0,children:[l.jsx(Uq,{className:`w-5 h-5 ${e==="settings"?"text-indigo-600":"text-gray-400"}`}),l.jsx("span",{className:"text-sm font-medium",children:"Settings"})]}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsx("div",{className:"text-sm text-gray-500",children:"No authentication active"})})]})]})}var V6=Symbol.for("immer-nothing"),bR=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function Ii(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Zc=Object.getPrototypeOf;function eu(t){return!!t&&!!t[zr]}function wl(t){var e;return t?W6(t)||Array.isArray(t)||!!t[bR]||!!((e=t.constructor)!=null&&e[bR])||Rv(t)||Iv(t):!1}var qq=Object.prototype.constructor.toString();function W6(t){if(!t||typeof t!="object")return!1;const e=Zc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===qq}function n0(t,e){kv(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function kv(t){const e=t[zr];return e?e.type_:Array.isArray(t)?1:Rv(t)?2:Iv(t)?3:0}function AS(t,e){return kv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function q6(t,e,n){const r=kv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Kq(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Rv(t){return t instanceof Map}function Iv(t){return t instanceof Set}function Wa(t){return t.copy_||t.base_}function NS(t,e){if(Rv(t))return new Map(t);if(Iv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=W6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[zr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Zc(t),r)}else{const r=Zc(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function kE(t,e=!1){return Dv(t)||eu(t)||!wl(t)||(kv(t)>1&&(t.set=t.add=t.clear=t.delete=Yq),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>kE(r,!0))),t}function Yq(){Ii(2)}function Dv(t){return Object.isFrozen(t)}var Qq={};function Sl(t){const e=Qq[t];return e||Ii(0,t),e}var jh;function K6(){return jh}function Xq(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wR(t,e){e&&(Sl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function TS(t){kS(t),t.drafts_.forEach(Jq),t.drafts_=null}function kS(t){t===jh&&(jh=t.parent_)}function SR(t){return jh=Xq(jh,t)}function Jq(t){const e=t[zr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function CR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[zr].modified_&&(TS(e),Ii(4)),wl(t)&&(t=r0(e,t),e.parent_||i0(e,t)),e.patches_&&Sl("Patches").generateReplacementPatches_(n[zr].base_,t,e.patches_,e.inversePatches_)):t=r0(e,n,[]),TS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==V6?t:void 0}function r0(t,e,n){if(Dv(e))return e;const r=e[zr];if(!r)return n0(e,(i,s)=>ER(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return i0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),n0(s,(a,c)=>ER(t,r,i,a,c,n,o)),i0(t,i,!1),n&&t.patches_&&Sl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function ER(t,e,n,r,i,s,o){if(eu(i)){const a=s&&e&&e.type_!==3&&!AS(e.assigned_,r)?s.concat(r):void 0,c=r0(t,i,a);if(q6(n,r,c),eu(c))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(wl(i)&&!Dv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;r0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&i0(t,i)}}function i0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kE(e,n)}function Zq(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:K6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=RE;n&&(i=[r],s=Mh);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var RE={get(t,e){if(e===zr)return t;const n=Wa(t);if(!AS(n,e))return eK(t,n,e);const r=n[e];return t.finalized_||!wl(r)?r:r===r1(t.base_,e)?(i1(t),t.copy_[e]=IS(r,t)):r},has(t,e){return e in Wa(t)},ownKeys(t){return Reflect.ownKeys(Wa(t))},set(t,e,n){const r=Y6(Wa(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=r1(Wa(t),e),s=i==null?void 0:i[zr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Kq(n,i)&&(n!==void 0||AS(t.base_,e)))return!0;i1(t),RS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return r1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,i1(t),RS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Wa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ii(11)},getPrototypeOf(t){return Zc(t.base_)},setPrototypeOf(){Ii(12)}},Mh={};n0(RE,(t,e)=>{Mh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mh.deleteProperty=function(t,e){return Mh.set.call(this,t,e,void 0)};Mh.set=function(t,e,n){return RE.set.call(this,t[0],e,n,t[0])};function r1(t,e){const n=t[zr];return(n?Wa(n):t)[e]}function eK(t,e,n){var i;const r=Y6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Y6(t,e){if(!(e in t))return;let n=Zc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Zc(n)}}function RS(t){t.modified_||(t.modified_=!0,t.parent_&&RS(t.parent_))}function i1(t){t.copy_||(t.copy_=NS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var tK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(c=s,...u){return o.produce(c,f=>n.call(this,f,...u))}}typeof n!="function"&&Ii(6),r!==void 0&&typeof r!="function"&&Ii(7);let i;if(wl(e)){const s=SR(this),o=IS(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?TS(s):kS(s)}return wR(s,r),CR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===V6&&(i=void 0),this.autoFreeze_&&kE(i,!0),r){const s=[],o=[];Sl("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Ii(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wl(t)||Ii(8),eu(t)&&(t=nK(t));const e=SR(this),n=IS(t,void 0);return n[zr].isManual_=!0,kS(e),n}finishDraft(t,e){const n=t&&t[zr];(!n||!n.isManual_)&&Ii(9);const{scope_:r}=n;return wR(r,e),CR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Sl("Patches").applyPatches_;return eu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function IS(t,e){const n=Rv(t)?Sl("MapSet").proxyMap_(t,e):Iv(t)?Sl("MapSet").proxySet_(t,e):Zq(t,e);return(e?e.scope_:K6()).drafts_.push(n),n}function nK(t){return eu(t)||Ii(10,t),Q6(t)}function Q6(t){if(!wl(t)||Dv(t))return t;const e=t[zr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=NS(t,e.scope_.immer_.useStrictShallowCopy_)}else n=NS(t,!0);return n0(n,(r,i)=>{q6(n,r,Q6(i))}),e&&(e.finalized_=!1),n}var Gr=new tK,pt=Gr.produce;Gr.produceWithPatches.bind(Gr);Gr.setAutoFreeze.bind(Gr);Gr.setUseStrictShallowCopy.bind(Gr);Gr.applyPatches.bind(Gr);Gr.createDraft.bind(Gr);Gr.finishDraft.bind(Gr);const rK="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let rr=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=rK[n[t]&63];return e};const Jd=bu((t,e)=>({templates:[{id:"default",name:"Default Template",content:"",sections:[{title:"Header",required:!0,allowedComponents:["company-info","project-details"],validationRules:["required"]},{title:"Scope",required:!0,allowedComponents:["scope-description","deliverables","timeline"],validationRules:["required","min-length:100"]},{title:"Terms",required:!0,allowedComponents:["terms-conditions","signatures"],validationRules:["required"]}]},{id:"sow-template",name:"SOW Template",content:"",sections:[{title:"Executive Summary",required:!0,allowedComponents:[],validationRules:[]},{title:"Project Scope",required:!0,allowedComponents:[],validationRules:[]},{title:"Deliverables",required:!1,allowedComponents:[],validationRules:[]},{title:"Timeline",required:!1,allowedComponents:[],validationRules:[]},{title:"Pricing",required:!1,allowedComponents:[],validationRules:[]},{title:"Terms and Conditions",required:!0,allowedComponents:[],validationRules:[]}]}],getTemplateByName:n=>e().templates.find(i=>i.name.toLowerCase()===n.toLowerCase()),addTemplate:n=>t(r=>({templates:[...r.templates,n]})),updateTemplate:(n,r)=>t(i=>({templates:i.templates.map(s=>s.id===n?{...s,...r}:s)})),deleteTemplate:n=>t(r=>({templates:r.templates.filter(i=>i.id!==n)}))})),Pv=bu(t=>({documents:[],createFromDeal:(e,n,r,i,s)=>{const o=rr(),c=Jd.getState().templates.find(u=>u.id===s);if(!c)throw new Error("Template not found");return t(pt(u=>{u.documents.push({id:o,dealId:e,dealName:n,title:n,client:r,status:"draft",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),value:i,version:1,createdBy:"current-user",approvals:[],content:{...c,title:n},history:[{timestamp:new Date().toISOString(),userId:"current-user",action:"created_from_deal"}],milestones:[],technicalRequirements:{overview:"",stack:[],infrastructure:"",security:"",performance:""},staffingRequirements:[]})})),o},createFromTemplateByName:({templateName:e,title:n,clientId:r,generatedBy:i})=>{const s=rr(),o=Jd.getState().templates.find(a=>a.name===e);if(!o)throw new Error("Template not found");return t(pt(a=>{a.documents.push({id:s,dealId:r,dealName:n,title:n,client:r,status:"draft",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),value:0,version:1,createdBy:i,approvals:[],content:{...o,title:n},origin:{source:"template",name:e},history:[{timestamp:new Date().toISOString(),userId:i,action:"created_from_template",details:e}],milestones:[],technicalRequirements:{overview:"",stack:[],infrastructure:"",security:"",performance:""},staffingRequirements:[]})})),s},insertFromTemplate:({id:e,templateName:n,title:r,clientId:i,generatedBy:s})=>{const o=Jd.getState().templates.find(a=>a.name===n);if(!o)throw new Error("Template not found");t(pt(a=>{a.documents.push({id:e,dealId:i,dealName:r,title:r,client:i,status:"draft",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),value:0,version:1,createdBy:s,approvals:[],content:{...o,title:r},origin:{source:"template",name:n},history:[{timestamp:new Date().toISOString(),userId:s,action:"created_from_template",details:n}],milestones:[],technicalRequirements:{overview:"",stack:[],infrastructure:"",security:"",performance:""},staffingRequirements:[]})}))},updateDocument:(e,n)=>t(pt(r=>{const i=r.documents.find(s=>s.id===e);i&&Object.assign(i,{...n,updatedAt:new Date().toISOString(),history:[...i.history,{timestamp:new Date().toISOString(),userId:"current-user",action:"updated",details:JSON.stringify(n)}]})})),submitForApproval:e=>t(pt(n=>{const r=n.documents.find(i=>i.id===e);r&&r.status==="draft"&&(r.status="pending_review",r.currentApprovalStep=0,r.history.push({timestamp:new Date().toISOString(),userId:"current-user",action:"submitted_for_approval"}))})),approveDocument:(e,n)=>t(pt(r=>{const i=r.documents.find(s=>s.id===e);i&&(i.approvals.push({...n,id:rr(),timestamp:new Date().toISOString()}),i.status==="pending_review"&&(i.status="approved"),i.history.push({timestamp:new Date().toISOString(),userId:n.userId,action:"approved",details:n.comment}))})),rejectDocument:(e,n)=>t(pt(r=>{const i=r.documents.find(s=>s.id===e);i&&(i.status="rejected",i.approvals.push({...n,id:rr(),timestamp:new Date().toISOString()}),i.history.push({timestamp:new Date().toISOString(),userId:n.userId,action:"rejected",details:n.comment}))})),updateStatus:(e,n)=>t(pt(r=>{const i=r.documents.find(s=>s.id===e);i&&(i.status=n,i.history.push({timestamp:new Date().toISOString(),userId:"current-user",action:"status_updated",details:`Status changed to ${n}`}))})),sendApprovalReminder:(e,n)=>t(pt(r=>{const i=r.documents.find(s=>s.id===e);i&&i.history.push({timestamp:new Date().toISOString(),userId:"current-user",action:"reminder_sent",details:`Reminder sent to user ${n}`})})),cancelApprovalReminder:(e,n)=>t(pt(r=>{const i=r.documents.find(s=>s.id===e);i&&i.history.push({timestamp:new Date().toISOString(),userId:"current-user",action:"reminder_cancelled",details:`Reminder cancelled for user ${n}`})}))})),Fs="http://localhost:7071/api",So={sow:{base:"/sow",createFromTemplate:"/sow/from-template",approve:t=>`/sow/${t}/approve`,reject:t=>`/sow/${t}/reject`,submit:t=>`/sow/${t}/submit`},project:{base:"/project",team:t=>`/project/${t}/team`,milestones:t=>`/project/${t}/milestones`,risks:t=>`/project/${t}/risks`,changes:t=>`/project/${t}/changes`,communications:t=>`/project/${t}/communications`},team:{base:"/team",members:"/team/members",availability:"/team/availability"},fireflies:{connections:"/fireflies/connections",userConnections:t=>`/fireflies/connections/${t}`,disconnect:t=>`/fireflies/connections/${t}`,testConnection:t=>`/fireflies/connections/${t}/test`,connectionStats:t=>`/fireflies/connections/${t}/stats`,sync:"/fireflies/sync",meetings:t=>`/fireflies/meetings/${t}`,meetingDetails:t=>`/fireflies/meetings/details/${t}`,importToSOW:t=>`/fireflies/meetings/${t}/import`,syncHistory:t=>`/fireflies/sync/${t}/history`}},iK={"Content-Type":"application/json"};class sK extends Error{constructor(e,n){super(n),this.status=e,this.name="HttpError"}}async function hd(t){if(!t.ok){const e=await t.json().catch(()=>({message:"An error occurred"}));throw new sK(t.status,e.message)}return t.json()}function fd(){return{...iK}}const Co={async get(t){const e=fd(),n=await fetch(`${Fs}${t}`,{headers:e});return{data:await hd(n)}},async post(t,e){const n=fd(),r=await fetch(`${Fs}${t}`,{method:"POST",headers:n,body:JSON.stringify(e)});return{data:await hd(r)}},async put(t,e){const n=fd(),r=await fetch(`${Fs}${t}`,{method:"PUT",headers:n,body:JSON.stringify(e)});return{data:await hd(r)}},async patch(t,e){const n=fd(),r=await fetch(`${Fs}${t}`,{method:"PATCH",headers:n,body:JSON.stringify(e)});return{data:await hd(r)}},async delete(t){const e=fd(),n=await fetch(`${Fs}${t}`,{method:"DELETE",headers:e});return{data:await hd(n)}}},oK={async getAll(){return Co.get(So.sow.base)},async getById(t){return Co.get(`${So.sow.base}/${t}`)},async create(t){return Co.post(So.sow.base,t)},async createFromTemplate(t){return Co.post(So.sow.createFromTemplate,t)},async update(t,e){return Co.put(`${So.sow.base}/${t}`,e)},async submit(t){return Co.post(So.sow.submit(t),{})},async approve(t,e){return Co.post(So.sow.approve(t),e)},async reject(t,e){return Co.post(So.sow.reject(t),e)}};function aK({deal:t,contact:e,onClose:n}){var E;const r=Gi(),{templates:i,getTemplateByName:s}=Jd(),{createFromDeal:o,insertFromTemplate:a,createFromTemplateByName:c}=Pv(),[u,f]=q.useState("ai"),[g,p]=q.useState((E=i[0])==null?void 0:E.id),[m,y]=q.useState(!1),[x,C]=q.useState(null),b=async()=>{var S,A;C(null),y(!0);try{let T;if(u==="predefined"){const k="SOW Template";if(!s(k)){C('The "SOW Template" is missing. Please contact an administrator.'),y(!1);return}try{T=(await oK.createFromTemplate({templateName:k,title:t.name,clientId:t.id,generatedBy:"current-user"})).id,a({id:T,templateName:k,title:t.name,clientId:t.id,generatedBy:"current-user"})}catch(D){if((D==null?void 0:D.status)===404||(A=(S=D==null?void 0:D.message)==null?void 0:S.toLowerCase)!=null&&A.call(S).includes("not found")||(D==null?void 0:D.name)==="TypeError")T=c({templateName:k,title:t.name,clientId:t.id,generatedBy:"current-user"});else throw D}}else{if(!g){y(!1);return}T=o(t.id,t.name,t.company,t.value,g)}r(`/sow/${T}`,{state:{dealId:t.id,dealName:t.name,company:t.company,value:t.value,contact:e}}),n()}catch(T){C((T==null?void 0:T.message)??"Failed to create SOW.")}finally{y(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Select Template"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-500",children:l.jsx(Eu,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Choose a template to start with. You can customize it further after creation."})]}),l.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("button",{onClick:()=>f("ai"),className:`w-full flex items-start p-4 rounded-lg border ${u==="ai"?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Hq,{className:"w-5 h-5 text-purple-500"}),l.jsx("h3",{className:"font-medium text-gray-900",children:"Default / AIAssisted"})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start with AI and customize. Placeholders can be autofilled later via HubSpot."})]}),u==="ai"&&l.jsx(Qp,{className:"w-5 h-5 text-blue-600"})]}),l.jsxs("button",{onClick:()=>f("predefined"),className:`w-full flex items-start p-4 rounded-lg border ${u==="predefined"?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Zs,{className:"w-5 h-5 text-gray-400"}),l.jsx("h3",{className:"font-medium text-gray-900",children:"Predefined (SOW Template)"})]}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start from our standard SOW structure. You can customize after creation."})]}),u==="predefined"&&l.jsx(Qp,{className:"w-5 h-5 text-blue-600"})]})]}),u==="ai"&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Templates"}),l.jsx("div",{className:"space-y-3",children:i.map(S=>l.jsxs("button",{onClick:()=>p(S.id),className:`w-full flex items-start p-3 rounded-md border ${g===S.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Zs,{className:"w-4 h-4 text-gray-400"}),l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:S.name})]}),l.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[S.sections.length," sections  ",S.sections.filter(A=>A.required).length," required"]})]}),g===S.id&&l.jsx(Qp,{className:"w-4 h-4 text-blue-600"})]},S.id))})]}),x&&l.jsx("div",{className:"mt-4 text-sm text-red-600",children:x})]}),l.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsx("button",{onClick:b,disabled:m||u==="ai"&&!g,className:`px-4 py-2 rounded-md ${m?"bg-blue-300 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?"Creating":"Create SOW"})]})})]})})}function IE(){const t=localStorage.getItem("hubspot_access_token");if(!t)return null;const e=localStorage.getItem("hubspot_access_token_expires_at");if(e){const n=parseInt(e,10);if(!Number.isNaN(n)&&Date.now()>n)return localStorage.removeItem("hubspot_access_token"),localStorage.removeItem("hubspot_access_token_expires_at"),localStorage.removeItem("hubspot_connected"),null}return t}function lK(t,e){if(localStorage.setItem("hubspot_access_token",t),localStorage.setItem("hubspot_connected","true"),e){const n=Date.now()+e*1e3;localStorage.setItem("hubspot_access_token_expires_at",String(n))}}async function cK(t){var s,o;const e=await fetch(`${Fs}/hubspot/oauth/exchange`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})});if(!e.ok){const a=await e.text();throw new Error(`Failed to exchange code: ${a}`)}const n=await e.json();console.log("[HubSpot] Token exchange response",n);const r=n.access_token||((s=n.value)==null?void 0:s.access_token),i=n.expires_in||((o=n.value)==null?void 0:o.expires_in);if(!r)throw new Error("No access_token in response");lK(r,i)}async function uK(){var i;const t=IE();if(!t)throw new Error("HubSpot not connected");const e=await fetch(`${Fs}/hubspot/companies`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok){const s=await e.text();throw new Error(`Failed to fetch companies: ${s}`)}const n=await e.json();return console.log("[HubSpot] Companies response",n),(n.results||((i=n.value)==null?void 0:i.results)||[]).map(s=>{const o=s.properties||{},c=[o.address,o.city,o.state,o.country,o.zip].filter(Boolean).filter((u,f,g)=>f===0||u!==g[f-1]).join(", ");return{id:s.id,name:o.name||"Unnamed Company",domain:o.domain,industry:o.industry,phone:o.phone,address:c||void 0,website:o.website||o.domain}})}async function dK(t){const e=IE();if(!e)throw new Error("HubSpot not connected");const n=await fetch(`${Fs}/hubspot/companies/${t}/contacts`,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)return null;const r=await n.json();console.log("[HubSpot] Company contact response",r);const i=r.properties||{},s=[i.address,i.city,i.state,i.country,i.zip].filter(Boolean).join(", ");return{firstName:i.firstname,lastName:i.lastname,jobTitle:i.jobtitle,email:i.email,phone:i.phone,address:s||void 0}}const hc={getAccessToken:IE,exchangeCode:cK,getCompanies:uK,getCompanyPrimaryContact:dK};function X6({onClose:t}){const[e,n]=q.useState(""),[r,i]=q.useState(null),[s,o]=q.useState([]),[a,c]=q.useState({}),[u,f]=q.useState(!1),[g,p]=q.useState(null),[m,y]=q.useState(!1);q.useEffect(()=>{(async()=>{var E;f(!0),p(null);try{if(!((E=hc.getAccessToken)==null?void 0:E.call(hc))){p("HubSpot not connected"),o([]);return}const A=await hc.getCompanies();o(A)}catch(S){p((S==null?void 0:S.message)||"Failed to load companies from HubSpot")}finally{f(!1)}})()},[]);const x=s.map(b=>({id:b.id,name:b.name,company:b.name,value:0})).filter(b=>b.name.toLowerCase().includes(e.toLowerCase())||b.company.toLowerCase().includes(e.toLowerCase())),C=async b=>{if(i(b),!a[b.id])try{const E=await hc.getCompanyPrimaryContact(b.id);c(S=>({...S,[b.id]:E}))}catch{c(E=>({...E,[b.id]:null}))}};return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[l.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Select Client Deal"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:l.jsx(Eu,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"relative",children:[l.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search deals...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:e,onChange:b=>n(b.target.value)})]})}),l.jsx("div",{className:"flex-1 overflow-auto p-4",children:l.jsxs("div",{className:"space-y-2",children:[u&&l.jsx("div",{className:"text-sm text-gray-500",children:"Loading companies"}),g&&l.jsx("div",{className:"text-sm text-red-600",children:g}),x.map(b=>{var E,S,A,T;return l.jsx("button",{className:`w-full text-left p-4 rounded-lg border ${(r==null?void 0:r.id)===b.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>C(b),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:b.name}),l.jsx("p",{className:"text-sm text-gray-500",children:b.company}),a[b.id]&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Contact: ",(E=a[b.id])==null?void 0:E.firstName," ",(S=a[b.id])==null?void 0:S.lastName," ",(A=a[b.id])!=null&&A.jobTitle?` ${(T=a[b.id])==null?void 0:T.jobTitle}`:""]})]}),l.jsx("span",{className:"text-sm font-medium text-gray-900"})]})},b.id)})]})}),l.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-4",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsx("button",{onClick:()=>y(!0),disabled:!r,className:`px-4 py-2 rounded-md ${r?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Proceed with Selected Deal"})]})]}),m&&r&&l.jsx(aK,{deal:{...r,company:r.company},contact:a[r.id]||void 0,onClose:()=>{y(!1),t()}})]})}function hK(){const t=Gi(),{documents:e}=Pv(),[n,r]=q.useState(!1),[i,s]=q.useState(""),o=e.filter(c=>c.title.toLowerCase().includes(i.toLowerCase())||c.client.toLowerCase().includes(i.toLowerCase())),a=c=>{const u={draft:"bg-gray-100 text-gray-800",pending_review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800"};return u[c]||u.draft};return l.jsx("div",{className:"h-full bg-gray-50 overflow-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Statements of Work"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Create and manage your SOW documents"})]}),l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"New SOW"})]})]}),l.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search SOWs...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:i,onChange:c=>s(c.target.value)})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(Nv,{className:"w-4 h-4"}),l.jsx("span",{children:"Filter"})]})]}),e.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:l.jsx(Zs,{className:"w-8 h-8 text-blue-600"})}),l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"No SOWs Created Yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first Statement of Work to get started"}),l.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"Create New SOW"})]})]}):l.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:l.jsx("div",{className:"min-w-full divide-y divide-gray-200",children:o.map(c=>l.jsxs("div",{onClick:()=>t(`/sow/${c.id}`),className:"p-6 hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:c.title}),l.jsx("p",{className:"text-sm text-gray-500",children:c.client})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a(c.status)}`,children:c.status.replace("_"," ").charAt(0).toUpperCase()+c.status.slice(1)}),c.value&&l.jsxs("span",{className:"text-sm text-gray-600",children:["$",c.value.toLocaleString()]})]})]}),l.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("span",{children:["Created: ",new Date(c.createdAt).toLocaleDateString()]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Last updated: ",new Date(c.updatedAt).toLocaleDateString()]}),l.jsx("span",{children:""}),l.jsxs("span",{children:["Version ",c.version]})]})]},c.id))})}),n&&l.jsx(X6,{onClose:()=>r(!1)})]})})}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},DS(t,e)}function J6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,DS(t,e)}function De(){return De=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},De.apply(null,arguments)}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function fK(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gK(t){var e=fK(t,"string");return Oh(e)=="symbol"?e:e+""}function pK(t,e,n){return(e=gK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){pK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var NR=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),s1=function(){return Math.random().toString(36).substring(7).split("").join(".")},TR={INIT:"@@redux/INIT"+s1(),REPLACE:"@@redux/REPLACE"+s1(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s1()}};function mK(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Z6(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gr(1));return n(Z6)(t,e)}if(typeof t!="function")throw new Error(gr(2));var i=t,s=e,o=[],a=o,c=!1;function u(){a===o&&(a=o.slice())}function f(){if(c)throw new Error(gr(3));return s}function g(x){if(typeof x!="function")throw new Error(gr(4));if(c)throw new Error(gr(5));var C=!0;return u(),a.push(x),function(){if(C){if(c)throw new Error(gr(6));C=!1,u();var E=a.indexOf(x);a.splice(E,1),o=null}}}function p(x){if(!mK(x))throw new Error(gr(7));if(typeof x.type>"u")throw new Error(gr(8));if(c)throw new Error(gr(9));try{c=!0,s=i(s,x)}finally{c=!1}for(var C=o=a,b=0;b<C.length;b++){var E=C[b];E()}return x}function m(x){if(typeof x!="function")throw new Error(gr(10));i=x,p({type:TR.REPLACE})}function y(){var x,C=g;return x={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(gr(11));function S(){E.next&&E.next(f())}S();var A=C(S);return{unsubscribe:A}}},x[NR]=function(){return this},x}return p({type:TR.INIT}),r={dispatch:p,subscribe:g,getState:f,replaceReducer:m},r[NR]=y,r}function kR(t,e){return function(){return e(t.apply(this,arguments))}}function RR(t,e){if(typeof t=="function")return kR(t,e);if(typeof t!="object"||t===null)throw new Error(gr(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=kR(i,e))}return n}function eM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function vK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(gr(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(c){return c(o)});return s=eM.apply(void 0,a)(i.dispatch),AR(AR({},i),{},{dispatch:s})}}}var tM=q.createContext(null);function yK(t){t()}var nM=yK,xK=function(e){return nM=e},bK=function(){return nM};function wK(){var t=bK(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,o=n={callback:i,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!s||e===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var IR={notify:function(){},get:function(){return[]}};function rM(t,e){var n,r=IR;function i(g){return c(),r.subscribe(g)}function s(){r.notify()}function o(){f.onStateChange&&f.onStateChange()}function a(){return!!n}function c(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=wK())}function u(){n&&(n(),n=void 0,r.clear(),r=IR)}var f={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return r}};return f}var iM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?M.useLayoutEffect:M.useEffect;function SK(t){var e=t.store,n=t.context,r=t.children,i=M.useMemo(function(){var a=rM(e);return{store:e,subscription:a}},[e]),s=M.useMemo(function(){return e.getState()},[e]);iM(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,s]);var o=n||tM;return q.createElement(o.Provider,{value:i},r)}function s0(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sM={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=typeof Symbol=="function"&&Symbol.for,DE=_n?Symbol.for("react.element"):60103,PE=_n?Symbol.for("react.portal"):60106,jv=_n?Symbol.for("react.fragment"):60107,Mv=_n?Symbol.for("react.strict_mode"):60108,Ov=_n?Symbol.for("react.profiler"):60114,Lv=_n?Symbol.for("react.provider"):60109,Fv=_n?Symbol.for("react.context"):60110,jE=_n?Symbol.for("react.async_mode"):60111,Uv=_n?Symbol.for("react.concurrent_mode"):60111,Bv=_n?Symbol.for("react.forward_ref"):60112,Hv=_n?Symbol.for("react.suspense"):60113,CK=_n?Symbol.for("react.suspense_list"):60120,zv=_n?Symbol.for("react.memo"):60115,Gv=_n?Symbol.for("react.lazy"):60116,EK=_n?Symbol.for("react.block"):60121,_K=_n?Symbol.for("react.fundamental"):60117,AK=_n?Symbol.for("react.responder"):60118,NK=_n?Symbol.for("react.scope"):60119;function qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DE:switch(t=t.type,t){case jE:case Uv:case jv:case Ov:case Mv:case Hv:return t;default:switch(t=t&&t.$$typeof,t){case Fv:case Bv:case Gv:case zv:case Lv:return t;default:return e}}case PE:return e}}}function oM(t){return qr(t)===Uv}ft.AsyncMode=jE;ft.ConcurrentMode=Uv;ft.ContextConsumer=Fv;ft.ContextProvider=Lv;ft.Element=DE;ft.ForwardRef=Bv;ft.Fragment=jv;ft.Lazy=Gv;ft.Memo=zv;ft.Portal=PE;ft.Profiler=Ov;ft.StrictMode=Mv;ft.Suspense=Hv;ft.isAsyncMode=function(t){return oM(t)||qr(t)===jE};ft.isConcurrentMode=oM;ft.isContextConsumer=function(t){return qr(t)===Fv};ft.isContextProvider=function(t){return qr(t)===Lv};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DE};ft.isForwardRef=function(t){return qr(t)===Bv};ft.isFragment=function(t){return qr(t)===jv};ft.isLazy=function(t){return qr(t)===Gv};ft.isMemo=function(t){return qr(t)===zv};ft.isPortal=function(t){return qr(t)===PE};ft.isProfiler=function(t){return qr(t)===Ov};ft.isStrictMode=function(t){return qr(t)===Mv};ft.isSuspense=function(t){return qr(t)===Hv};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jv||t===Uv||t===Ov||t===Mv||t===Hv||t===CK||typeof t=="object"&&t!==null&&(t.$$typeof===Gv||t.$$typeof===zv||t.$$typeof===Lv||t.$$typeof===Fv||t.$$typeof===Bv||t.$$typeof===_K||t.$$typeof===AK||t.$$typeof===NK||t.$$typeof===EK)};ft.typeOf=qr;sM.exports=ft;var TK=sM.exports,ME=TK,kK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},RK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},IK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},aM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OE={};OE[ME.ForwardRef]=IK;OE[ME.Memo]=aM;function DR(t){return ME.isMemo(t)?aM:OE[t.$$typeof]||kK}var DK=Object.defineProperty,PK=Object.getOwnPropertyNames,PR=Object.getOwnPropertySymbols,jK=Object.getOwnPropertyDescriptor,MK=Object.getPrototypeOf,jR=Object.prototype;function lM(t,e,n){if(typeof e!="string"){if(jR){var r=MK(e);r&&r!==jR&&lM(t,r,n)}var i=PK(e);PR&&(i=i.concat(PR(e)));for(var s=DR(t),o=DR(e),a=0;a<i.length;++a){var c=i[a];if(!RK[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var u=jK(e,c);try{DK(t,c,u)}catch{}}}}return t}var OK=lM;const MR=uu(OK);var cM={exports:{}},bt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=60103,Vv=60106,df=60107,hf=60108,ff=60114,gf=60109,pf=60110,mf=60112,vf=60113,LE=60120,yf=60115,xf=60116,uM=60121,dM=60122,hM=60117,fM=60129,gM=60131;if(typeof Symbol=="function"&&Symbol.for){var Tn=Symbol.for;$v=Tn("react.element"),Vv=Tn("react.portal"),df=Tn("react.fragment"),hf=Tn("react.strict_mode"),ff=Tn("react.profiler"),gf=Tn("react.provider"),pf=Tn("react.context"),mf=Tn("react.forward_ref"),vf=Tn("react.suspense"),LE=Tn("react.suspense_list"),yf=Tn("react.memo"),xf=Tn("react.lazy"),uM=Tn("react.block"),dM=Tn("react.server.block"),hM=Tn("react.fundamental"),fM=Tn("react.debug_trace_mode"),gM=Tn("react.legacy_hidden")}function Vi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $v:switch(t=t.type,t){case df:case ff:case hf:case vf:case LE:return t;default:switch(t=t&&t.$$typeof,t){case pf:case mf:case xf:case yf:case gf:return t;default:return e}}case Vv:return e}}}var LK=gf,FK=$v,UK=mf,BK=df,HK=xf,zK=yf,GK=Vv,$K=ff,VK=hf,WK=vf;bt.ContextConsumer=pf;bt.ContextProvider=LK;bt.Element=FK;bt.ForwardRef=UK;bt.Fragment=BK;bt.Lazy=HK;bt.Memo=zK;bt.Portal=GK;bt.Profiler=$K;bt.StrictMode=VK;bt.Suspense=WK;bt.isAsyncMode=function(){return!1};bt.isConcurrentMode=function(){return!1};bt.isContextConsumer=function(t){return Vi(t)===pf};bt.isContextProvider=function(t){return Vi(t)===gf};bt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$v};bt.isForwardRef=function(t){return Vi(t)===mf};bt.isFragment=function(t){return Vi(t)===df};bt.isLazy=function(t){return Vi(t)===xf};bt.isMemo=function(t){return Vi(t)===yf};bt.isPortal=function(t){return Vi(t)===Vv};bt.isProfiler=function(t){return Vi(t)===ff};bt.isStrictMode=function(t){return Vi(t)===hf};bt.isSuspense=function(t){return Vi(t)===vf};bt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===df||t===ff||t===fM||t===hf||t===vf||t===LE||t===gM||typeof t=="object"&&t!==null&&(t.$$typeof===xf||t.$$typeof===yf||t.$$typeof===gf||t.$$typeof===pf||t.$$typeof===mf||t.$$typeof===hM||t.$$typeof===uM||t[0]===dM)};bt.typeOf=Vi;cM.exports=bt;var qK=cM.exports,KK=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],YK=["reactReduxForwardedRef"],QK=[],XK=[null,null];function JK(t,e){var n=t[1];return[e.payload,n+1]}function OR(t,e,n){iM(function(){return t.apply(void 0,e)},n)}function ZK(t,e,n,r,i,s,o){t.current=r,e.current=i,n.current=!1,s.current&&(s.current=null,o())}function eY(t,e,n,r,i,s,o,a,c,u){if(t){var f=!1,g=null,p=function(){if(!f){var x=e.getState(),C,b;try{C=r(x,i.current)}catch(E){b=E,g=E}b||(g=null),C===s.current?o.current||c():(s.current=C,a.current=C,o.current=!0,u({type:"STORE_UPDATED",payload:{error:b}}))}};n.onStateChange=p,n.trySubscribe(),p();var m=function(){if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g};return m}}var tY=function(){return[null,0]};function nY(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(S){return"ConnectAdvanced("+S+")"}:r,s=n.methodName,o=s===void 0?"connectAdvanced":s,a=n.renderCountProp,c=a===void 0?void 0:a,u=n.shouldHandleStateChanges,f=u===void 0?!0:u,g=n.storeKey,p=g===void 0?"store":g;n.withRef;var m=n.forwardRef,y=m===void 0?!1:m,x=n.context,C=x===void 0?tM:x,b=s0(n,KK),E=C;return function(A){var T=A.displayName||A.name||"Component",k=i(T),I=De({},b,{getDisplayName:i,methodName:o,renderCountProp:c,shouldHandleStateChanges:f,storeKey:p,displayName:k,wrappedComponentName:T,WrappedComponent:A}),D=b.pure;function P(Z){return t(Z.dispatch,I)}var R=D?M.useMemo:function(Z){return Z()};function O(Z){var G=M.useMemo(function(){var Ki=Z.reactReduxForwardedRef,Yr=s0(Z,YK);return[Z.context,Ki,Yr]},[Z]),$=G[0],le=G[1],X=G[2],pe=M.useMemo(function(){return $&&$.Consumer&&qK.isContextConsumer(q.createElement($.Consumer,null))?$:E},[$,E]),te=M.useContext(pe),ie=!!Z.store&&!!Z.store.getState&&!!Z.store.dispatch;te&&te.store;var ue=ie?Z.store:te.store,Ce=M.useMemo(function(){return P(ue)},[ue]),W=M.useMemo(function(){if(!f)return XK;var Ki=rM(ue,ie?null:te.subscription),Yr=Ki.notifyNestedSubs.bind(Ki);return[Ki,Yr]},[ue,ie,te]),se=W[0],ce=W[1],L=M.useMemo(function(){return ie?te:De({},te,{subscription:se})},[ie,te,se]),ne=M.useReducer(JK,QK,tY),me=ne[0],Te=me[0],Ae=ne[1];if(Te&&Te.error)throw Te.error;var et=M.useRef(),Je=M.useRef(X),Rt=M.useRef(),tt=M.useRef(!1),Qn=R(function(){return Rt.current&&X===Je.current?Rt.current:Ce(ue.getState(),X)},[ue,Te,X]);OR(ZK,[Je,et,tt,X,Qn,Rt,ce]),OR(eY,[f,ue,se,Ce,Je,et,tt,Rt,ce,Ae],[ue,se,Ce]);var gn=M.useMemo(function(){return q.createElement(A,De({},Qn,{ref:le}))},[le,A,Qn]),Nr=M.useMemo(function(){return f?q.createElement(pe.Provider,{value:L},gn):gn},[pe,gn,L]);return Nr}var z=D?q.memo(O):O;if(z.WrappedComponent=A,z.displayName=O.displayName=k,y){var ae=q.forwardRef(function(G,$){return q.createElement(z,De({},G,{reactReduxForwardedRef:$}))});return ae.displayName=k,ae.WrappedComponent=A,MR(ae,A)}return MR(z,A)}}function LR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function o1(t,e){if(LR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!LR(t[n[i]],e[n[i]]))return!1;return!0}function rY(t,e){var n={},r=function(o){var a=t[o];typeof a=="function"&&(n[o]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function FE(t){return function(n,r){var i=t(n,r);function s(){return i}return s.dependsOnOwnProps=!1,s}}function FR(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function pM(t,e){return function(r,i){i.displayName;var s=function(a,c){return s.dependsOnOwnProps?s.mapToProps(a,c):s.mapToProps(a)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,c){s.mapToProps=t,s.dependsOnOwnProps=FR(t);var u=s(a,c);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=FR(u),u=s(a,c)),u},s}}function iY(t){return typeof t=="function"?pM(t):void 0}function sY(t){return t?void 0:FE(function(e){return{dispatch:e}})}function oY(t){return t&&typeof t=="object"?FE(function(e){return rY(t,e)}):void 0}const aY=[iY,sY,oY];function lY(t){return typeof t=="function"?pM(t):void 0}function cY(t){return t?void 0:FE(function(){return{}})}const uY=[lY,cY];function dY(t,e,n){return De({},n,t,e)}function hY(t){return function(n,r){r.displayName;var i=r.pure,s=r.areMergedPropsEqual,o=!1,a;return function(u,f,g){var p=t(u,f,g);return o?(!i||!s(p,a))&&(a=p):(o=!0,a=p),a}}}function fY(t){return typeof t=="function"?hY(t):void 0}function gY(t){return t?void 0:function(){return dY}}const pY=[fY,gY];var mY=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function vY(t,e,n,r){return function(s,o){return n(t(s,o),e(r,o),o)}}function yY(t,e,n,r,i){var s=i.areStatesEqual,o=i.areOwnPropsEqual,a=i.areStatePropsEqual,c=!1,u,f,g,p,m;function y(S,A){return u=S,f=A,g=t(u,f),p=e(r,f),m=n(g,p,f),c=!0,m}function x(){return g=t(u,f),e.dependsOnOwnProps&&(p=e(r,f)),m=n(g,p,f),m}function C(){return t.dependsOnOwnProps&&(g=t(u,f)),e.dependsOnOwnProps&&(p=e(r,f)),m=n(g,p,f),m}function b(){var S=t(u,f),A=!a(S,g);return g=S,A&&(m=n(g,p,f)),m}function E(S,A){var T=!o(A,f),k=!s(S,u,A,f);return u=S,f=A,T&&k?x():T?C():k?b():m}return function(A,T){return c?E(A,T):y(A,T)}}function xY(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,s=s0(e,mY),o=n(t,s),a=r(t,s),c=i(t,s),u=s.pure?yY:vY;return u(o,a,c,t,s)}var bY=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function a1(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(s,o){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function wY(t,e){return t===e}function SY(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?nY:n,i=e.mapStateToPropsFactories,s=i===void 0?uY:i,o=e.mapDispatchToPropsFactories,a=o===void 0?aY:o,c=e.mergePropsFactories,u=c===void 0?pY:c,f=e.selectorFactory,g=f===void 0?xY:f;return function(m,y,x,C){C===void 0&&(C={});var b=C,E=b.pure,S=E===void 0?!0:E,A=b.areStatesEqual,T=A===void 0?wY:A,k=b.areOwnPropsEqual,I=k===void 0?o1:k,D=b.areStatePropsEqual,P=D===void 0?o1:D,R=b.areMergedPropsEqual,O=R===void 0?o1:R,z=s0(b,bY),ae=a1(m,s,"mapStateToProps"),Z=a1(y,a,"mapDispatchToProps"),G=a1(x,u,"mergeProps");return r(g,De({methodName:"connect",getDisplayName:function(le){return"Connect("+le+")"},shouldHandleStateChanges:!!m,initMapStateToProps:ae,initMapDispatchToProps:Z,initMergeProps:G,pure:S,areStatesEqual:T,areOwnPropsEqual:I,areStatePropsEqual:P,areMergedPropsEqual:O},z))}}const mM=SY();xK(qc.unstable_batchedUpdates);function CY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function vM(t,e){var n=M.useState(function(){return{inputs:e,result:t()}})[0],r=M.useRef(!0),i=M.useRef(n),s=r.current||!!(e&&i.current.inputs&&CY(e,i.current.inputs)),o=s?i.current:{inputs:e,result:t()};return M.useEffect(function(){r.current=!1,i.current=o},[o]),o.result}function EY(t,e){return vM(function(){return t},e)}var nt=vM,Ne=EY,_Y="Invariant failed";function AY(t,e){throw new Error(_Y)}var Pi=function(e){var n=e.top,r=e.right,i=e.bottom,s=e.left,o=r-s,a=i-n,c={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return c},UE=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},UR=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},NY=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},l1={top:0,right:0,bottom:0,left:0},BE=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?l1:r,s=e.border,o=s===void 0?l1:s,a=e.padding,c=a===void 0?l1:a,u=Pi(UE(n,i)),f=Pi(UR(n,o)),g=Pi(UR(f,c));return{marginBox:u,borderBox:Pi(n),paddingBox:f,contentBox:g,margin:i,border:o,padding:c}},ii=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&AY(),i},TY=function(){return{x:window.pageXOffset,y:window.pageYOffset}},o0=function(e,n){var r=e.borderBox,i=e.border,s=e.margin,o=e.padding,a=NY(r,n);return BE({borderBox:a,border:i,margin:s,padding:o})},a0=function(e,n){return n===void 0&&(n=TY()),o0(e,n)},yM=function(e,n){var r={top:ii(n.marginTop),right:ii(n.marginRight),bottom:ii(n.marginBottom),left:ii(n.marginLeft)},i={top:ii(n.paddingTop),right:ii(n.paddingRight),bottom:ii(n.paddingBottom),left:ii(n.paddingLeft)},s={top:ii(n.borderTopWidth),right:ii(n.borderRightWidth),bottom:ii(n.borderBottomWidth),left:ii(n.borderLeftWidth)};return BE({borderBox:e,margin:r,padding:i,border:s})},xM=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return yM(n,r)},BR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function kY(t,e){return!!(t===e||BR(t)&&BR(e))}function RY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!kY(t[n],e[n]))return!1;return!0}function Cn(t,e){e===void 0&&(e=RY);var n,r=[],i,s=!1;function o(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}var Lh=function(e){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function bM(t,e){}bM.bind(null,"warn");bM.bind(null,"error");function ra(){}function IY(t,e){return De({},t,{},e)}function ui(t,e,n){var r=e.map(function(i){var s=IY(n,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(function(s){s()})}}var DY="Invariant failed";function l0(t){this.message=t}l0.prototype.toString=function(){return this.message};function ge(t,e){throw new l0(DY)}var PY=function(t){J6(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.callbacks=null,r.unbind=ra,r.onWindowError=function(a){var c=r.getCallbacks();c.isDragging()&&c.tryAbort();var u=a.error;u instanceof l0&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=ui(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof l0){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(q.Component),jY=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,c0=function(e){return e+1},MY=function(e){return`
  You have lifted an item in position `+c0(e.source.index)+`
`},wM=function(e,n){var r=e.droppableId===n.droppableId,i=c0(e.index),s=c0(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},SM=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},OY=function(e){var n=e.destination;if(n)return wM(e.source,n);var r=e.combine;return r?SM(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},HR=function(e){return`
  The item has returned to its starting position
  of `+c0(e.index)+`
`},LY=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+HR(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+wM(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+SM(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+HR(e.source)+`
  `},Xp={dragHandleUsageInstructions:jY,onDragStart:MY,onDragUpdate:OY,onDragEnd:LY},En={x:0,y:0},Dn=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},jr=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},ia=function(e,n){return e.x===n.x&&e.y===n.y},_u=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Cl=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Fh=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},zR=function(e,n){return Math.min.apply(Math,n.map(function(r){return Fh(e,r)}))},CM=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},FY=function(t,e){var n=Pi({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},bf=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},GR=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},UY={top:0,right:0,bottom:0,left:0},BY=function(e,n){return n?bf(e,n.scroll.diff.displacement):e},HY=function(e,n,r){if(r&&r.increasedBy){var i;return De({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},zY=function(e,n){return n&&n.shouldClipSubject?FY(n.pageMarginBox,e):Pi(e)},tu=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,s=BY(e.marginBox,i),o=HY(s,r,n),a=zY(o,i);return{page:e,withPlaceholder:n,active:a}},HE=function(t,e){t.frame||ge();var n=t.frame,r=jr(e,n.scroll.initial),i=_u(r),s=De({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),o=tu({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s}),a=De({},t,{frame:s,subject:o});return a};function u0(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function zE(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function wa(t,e){if(t.find)return t.find(e);var n=zE(t,e);if(n!==-1)return t[n]}function EM(t){return Array.prototype.slice.call(t)}var _M=Cn(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),AM=Cn(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),Wv=Cn(function(t){return u0(t)}),GY=Cn(function(t){return u0(t)}),Au=Cn(function(t,e){var n=GY(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function GE(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function qv(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Kv=Cn(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),$Y=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.previousImpact;if(!r.isCombineEnabled)return null;var o=GE(s);if(!o)return null;function a(x){var C={type:"COMBINE",combine:{draggableId:x,droppableId:r.descriptor.id}};return De({},s,{at:C})}var c=s.displaced.all,u=c.length?c[0]:null;if(e)return u?a(u):null;var f=Kv(n,i);if(!u){if(!f.length)return null;var g=f[f.length-1];return a(g.descriptor.id)}var p=zE(f,function(x){return x.descriptor.id===u});p===-1&&ge();var m=p-1;if(m<0)return null;var y=f[m];return a(y.descriptor.id)},Nu=function(t,e){return t.descriptor.droppableId===e.descriptor.id},NM={point:En,value:0},Uh={invisible:{},visible:{},all:[]},VY={displaced:Uh,displacedBy:NM,at:null},hi=function(t,e){return function(n){return t<=n&&n<=e}},TM=function(t){var e=hi(t.top,t.bottom),n=hi(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var s=e(r.top)||e(r.bottom),o=n(r.left)||n(r.right),a=s&&o;if(a)return!0;var c=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right,f=c&&u;if(f)return!0;var g=c&&o||u&&s;return g}},WY=function(t){var e=hi(t.top,t.bottom),n=hi(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},$E={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kM={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},qY=function(t){return function(e){var n=hi(e.top,e.bottom),r=hi(e.left,e.right);return function(i){return t===$E?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},KY=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:En;return bf(e,r)},YY=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},QY=function(e,n,r){return r(n)(e)},VE=function(e){var n=e.target,r=e.destination,i=e.viewport,s=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=s?KY(n,r):n;return YY(a,r,o)&&QY(a,i,o)},XY=function(e){return VE(De({},e,{isVisibleThroughFrameFn:TM}))},RM=function(e){return VE(De({},e,{isVisibleThroughFrameFn:WY}))},JY=function(e){return VE(De({},e,{isVisibleThroughFrameFn:qY(e.destination.axis)}))},ZY=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,s=n.visible;if(i[e])return!1;var o=s[e];return o?o.shouldAnimate:!0};function eQ(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Pi(UE(n,r))}function Bh(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,s=t.forceShouldAnimate,o=t.last;return e.reduce(function(c,u){var f=eQ(u,r),g=u.descriptor.id;c.all.push(g);var p=XY({target:f,destination:n,viewport:i,withDroppableDisplacement:!0});if(!p)return c.invisible[u.descriptor.id]=!0,c;var m=ZY(g,o,s),y={draggableId:g,shouldAnimate:m};return c.visible[g]=y,c},{all:[],visible:{},invisible:{}})}function tQ(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function $R(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,s=tQ(e,{inHomeList:n});return{displaced:Uh,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function d0(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,s=t.displacedBy,o=t.last,a=t.index,c=t.forceShouldAnimate,u=Nu(e,r);if(a==null)return $R({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});var f=wa(n,function(x){return x.descriptor.index===a});if(!f)return $R({insideDestination:n,inHomeList:u,displacedBy:s,destination:r});var g=Kv(e,n),p=n.indexOf(f),m=g.slice(p),y=Bh({afterDragging:m,destination:r,displacedBy:s,last:o,viewport:i.frame,forceShouldAnimate:c});return{displaced:y,displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function da(t,e){return!!e.effected[t]}var nQ=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,s=t.afterCritical;if(!n.isCombineEnabled)return null;var o=i.draggableId,a=r[o],c=a.descriptor.index,u=da(o,s);return u?e?c:c-1:e?c+1:c},rQ=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var s=i.index,o=e?s+1:s-1,a=r[0].descriptor.index,c=r[r.length-1].descriptor.index,u=n?c:c+1;return o<a||o>u?null:o},iQ=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,s=t.destination,o=t.insideDestination,a=t.previousImpact,c=t.viewport,u=t.afterCritical,f=a.at;if(f||ge(),f.type==="REORDER"){var g=rQ({isMovingForward:e,isInHomeList:n,location:f.destination,insideDestination:o});return g==null?null:d0({draggable:r,insideDestination:o,destination:s,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:g})}var p=nQ({isMovingForward:e,destination:s,displaced:a.displaced,draggables:i,combine:f.combine,afterCritical:u});return p==null?null:d0({draggable:r,insideDestination:o,destination:s,viewport:c,last:a.displaced,displacedBy:a.displacedBy,index:p})},sQ=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,s=!!(e.visible[r]||e.invisible[r]);return da(r,n)?s?En:_u(i.point):s?i.point:En},oQ=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=qv(n);i||ge();var s=i.draggableId,o=r[s].page.borderBox.center,a=sQ({displaced:n.displaced,afterCritical:e,combineWith:s,displacedBy:n.displacedBy});return Dn(o,a)},IM=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},aQ=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},WE=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},VR=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Cl(n.line,r.marginBox[n.end]+IM(n,i),WE(n,r.marginBox,i))},WR=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Cl(n.line,r.marginBox[n.start]-aQ(n,i),WE(n,r.marginBox,i))},lQ=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Cl(n.line,r.contentBox[n.start]+IM(n,i),WE(n,r.contentBox,i))},cQ=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,s=t.afterCritical,o=Au(i.descriptor.id,r),a=n.page,c=i.axis;if(!o.length)return lQ({axis:c,moveInto:i.page,isMoving:a});var u=e.displaced,f=e.displacedBy,g=u.all[0];if(g){var p=r[g];if(da(g,s))return WR({axis:c,moveRelativeTo:p.page,isMoving:a});var m=o0(p.page,f.point);return WR({axis:c,moveRelativeTo:m,isMoving:a})}var y=o[o.length-1];if(y.descriptor.id===n.descriptor.id)return a.borderBox.center;if(da(y.descriptor.id,s)){var x=o0(y.page,_u(s.displacedBy.point));return VR({axis:c,moveRelativeTo:x,isMoving:a})}return VR({axis:c,moveRelativeTo:y.page,isMoving:a})},PS=function(t,e){var n=t.frame;return n?Dn(e,n.scroll.diff.displacement):e},uQ=function(e){var n=e.impact,r=e.draggable,i=e.droppable,s=e.draggables,o=e.afterCritical,a=r.page.borderBox.center,c=n.at;return!i||!c?a:c.type==="REORDER"?cQ({impact:n,draggable:r,draggables:s,droppable:i,afterCritical:o}):oQ({impact:n,draggables:s,afterCritical:o})},Yv=function(t){var e=uQ(t),n=t.droppable,r=n?PS(n,e):e;return r},DM=function(t,e){var n=jr(e,t.scroll.initial),r=_u(n),i=Pi({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),s={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return s};function qR(t,e){return t.map(function(n){return e[n]})}function dQ(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var hQ=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,s=t.maxScrollChange,o=DM(n,Dn(n.scroll.current,s)),a=r.frame?HE(r,Dn(r.frame.scroll.current,s)):r,c=e.displaced,u=Bh({afterDragging:qR(c.all,i),destination:r,displacedBy:e.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),f=Bh({afterDragging:qR(c.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),g={},p={},m=[c,u,f];c.all.forEach(function(x){var C=dQ(x,m);if(C){p[x]=C;return}g[x]=!0});var y=De({},e,{displaced:{all:c.all,invisible:g,visible:p}});return y},fQ=function(t,e){return Dn(t.scroll.diff.displacement,e)},qE=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=fQ(r,e),s=jr(i,n.page.borderBox.center);return Dn(n.client.borderBox.center,s)},PM=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,s=t.withDroppableDisplacement,o=t.onlyOnMainAxis,a=o===void 0?!1:o,c=jr(r,e.page.borderBox.center),u=bf(e.page.borderBox,c),f={target:u,destination:n,withDroppableDisplacement:s,viewport:i};return a?JY(f):RM(f)},gQ=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,s=t.previousImpact,o=t.viewport,a=t.previousPageBorderBoxCenter,c=t.previousClientSelection,u=t.afterCritical;if(!r.isEnabled)return null;var f=Au(r.descriptor.id,i),g=Nu(n,r),p=$Y({isMovingForward:e,draggable:n,destination:r,insideDestination:f,previousImpact:s})||iQ({isMovingForward:e,isInHomeList:g,draggable:n,draggables:i,destination:r,insideDestination:f,previousImpact:s,viewport:o,afterCritical:u});if(!p)return null;var m=Yv({impact:p,draggable:n,droppable:r,draggables:i,afterCritical:u}),y=PM({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(y){var x=qE({pageBorderBoxCenter:m,draggable:n,viewport:o});return{clientSelection:x,impact:p,scrollJumpRequest:null}}var C=jr(m,a),b=hQ({impact:p,viewport:o,destination:r,draggables:i,maxScrollChange:C});return{clientSelection:c,impact:b,scrollJumpRequest:C}},Jn=function(e){var n=e.subject.active;return n||ge(),n},pQ=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,s=t.viewport,o=r.subject.active;if(!o)return null;var a=r.axis,c=hi(o[a.start],o[a.end]),u=Wv(i).filter(function(g){return g!==r}).filter(function(g){return g.isEnabled}).filter(function(g){return!!g.subject.active}).filter(function(g){return TM(s.frame)(Jn(g))}).filter(function(g){var p=Jn(g);return e?o[a.crossAxisEnd]<p[a.crossAxisEnd]:p[a.crossAxisStart]<o[a.crossAxisStart]}).filter(function(g){var p=Jn(g),m=hi(p[a.start],p[a.end]);return c(p[a.start])||c(p[a.end])||m(o[a.start])||m(o[a.end])}).sort(function(g,p){var m=Jn(g)[a.crossAxisStart],y=Jn(p)[a.crossAxisStart];return e?m-y:y-m}).filter(function(g,p,m){return Jn(g)[a.crossAxisStart]===Jn(m[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var f=u.filter(function(g){var p=hi(Jn(g)[a.start],Jn(g)[a.end]);return p(n[a.line])});return f.length===1?f[0]:f.length>1?f.sort(function(g,p){return Jn(g)[a.start]-Jn(p)[a.start]})[0]:u.sort(function(g,p){var m=zR(n,GR(Jn(g))),y=zR(n,GR(Jn(p)));return m!==y?m-y:Jn(g)[a.start]-Jn(p)[a.start]})[0]},KR=function(e,n){var r=e.page.borderBox.center;return da(e.descriptor.id,n)?jr(r,n.displacedBy.point):r},mQ=function(e,n){var r=e.page.borderBox;return da(e.descriptor.id,n)?bf(r,_u(n.displacedBy.point)):r},vQ=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,s=t.afterCritical,o=i.filter(function(a){return RM({target:mQ(a,s),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,c){var u=Fh(e,PS(r,KR(a,s))),f=Fh(e,PS(r,KR(c,s)));return u<f?-1:f<u?1:a.descriptor.index-c.descriptor.index});return o[0]||null},wf=Cn(function(e,n){var r=n[e.line];return{value:r,point:Cl(e.line,r)}}),yQ=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Cl(i.line,n[i.line]);var s=e.subject.page.contentBox[i.size],o=Au(e.descriptor.id,r),a=o.reduce(function(f,g){return f+g.client.marginBox[i.size]},0),c=a+n[i.line],u=c-s;return u<=0?null:Cl(i.line,u)},jM=function(e,n){return De({},e,{scroll:De({},e.scroll,{max:n})})},MM=function(e,n,r){var i=e.frame;Nu(n,e)&&ge(),e.subject.withPlaceholder&&ge();var s=wf(e.axis,n.displaceBy).point,o=yQ(e,s,r),a={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var c=tu({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return De({},e,{subject:c})}var u=o?Dn(i.scroll.max,o):i.scroll.max,f=jM(i,u),g=tu({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:f});return De({},e,{subject:g,frame:f})},xQ=function(e){var n=e.subject.withPlaceholder;n||ge();var r=e.frame;if(!r){var i=tu({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return De({},e,{subject:i})}var s=n.oldFrameMaxScroll;s||ge();var o=jM(r,s),a=tu({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return De({},e,{subject:a,frame:o})},bQ=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,s=t.draggables,o=t.destination,a=t.viewport,c=t.afterCritical;if(!n){if(r.length)return null;var u={displaced:Uh,displacedBy:NM,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=Yv({impact:u,draggable:i,droppable:o,draggables:s,afterCritical:c}),g=Nu(i,o)?o:MM(o,i,s),p=PM({draggable:i,destination:g,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var m=e[o.axis.line]<=n.page.borderBox.center[o.axis.line],y=function(){var C=n.descriptor.index;return n.descriptor.id===i.descriptor.id||m?C:C+1}(),x=wf(o.axis,i.displaceBy);return d0({draggable:i,insideDestination:r,destination:o,viewport:a,displacedBy:x,last:Uh,index:y})},wQ=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,s=t.draggables,o=t.droppables,a=t.viewport,c=t.afterCritical,u=pQ({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:o,viewport:a});if(!u)return null;var f=Au(u.descriptor.id,s),g=vQ({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:f,afterCritical:c}),p=bQ({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:s,moveRelativeTo:g,insideDestination:f,viewport:a,afterCritical:c});if(!p)return null;var m=Yv({impact:p,draggable:r,droppable:u,draggables:s,afterCritical:c}),y=qE({pageBorderBoxCenter:m,draggable:r,viewport:a});return{clientSelection:y,impact:p,scrollJumpRequest:null}},Lr=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},SQ=function(e,n){var r=Lr(e);return r?n[r]:null},CQ=function(t){var e=t.state,n=t.type,r=SQ(e.impact,e.dimensions.droppables),i=!!r,s=e.dimensions.droppables[e.critical.droppable.id],o=r||s,a=o.axis.direction,c=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],g=e.current.page.borderBoxCenter,p=e.dimensions,m=p.draggables,y=p.droppables;return c?gQ({isMovingForward:u,previousPageBorderBoxCenter:g,draggable:f,destination:o,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):wQ({isMovingForward:u,previousPageBorderBoxCenter:g,draggable:f,isOver:o,draggables:m,droppables:y,viewport:e.viewport,afterCritical:e.afterCritical})};function qa(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function OM(t){var e=hi(t.top,t.bottom),n=hi(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function EQ(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function _Q(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,s=r.map(function(o){var a=o.axis,c=Cl(o.axis.line,e.center[a.line],o.page.borderBox.center[a.crossAxisLine]);return{id:o.descriptor.id,distance:Fh(i,c)}}).sort(function(o,a){return a.distance-o.distance});return s[0]?s[0].id:null}function AQ(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=Wv(r).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!EQ(e,o))return!1;if(OM(o)(e.center))return!0;var a=s.axis,c=o.center[a.crossAxisLine],u=e[a.crossAxisStart],f=e[a.crossAxisEnd],g=hi(o[a.crossAxisStart],o[a.crossAxisEnd]),p=g(u),m=g(f);return!p&&!m?!0:p?u<c:f>c});return i.length?i.length===1?i[0].descriptor.id:_Q({pageBorderBox:e,draggable:n,candidates:i}):null}var LM=function(e,n){return Pi(bf(e,n))},NQ=function(t,e){var n=t.frame;return n?LM(e,n.scroll.diff.value):e};function FM(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function TQ(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var kQ=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,s=t.last,o=t.viewport,a=t.afterCritical,c=r.axis,u=wf(r.axis,n.displaceBy),f=u.value,g=e[c.start],p=e[c.end],m=Kv(n,i),y=wa(m,function(C){var b=C.descriptor.id,E=C.page.borderBox.center[c.line],S=da(b,a),A=FM({displaced:s,id:b});return S?A?p<=E:g<E-f:A?p<=E+f:g<E}),x=TQ({draggable:n,closest:y,inHomeList:Nu(n,r)});return d0({draggable:n,insideDestination:i,destination:r,viewport:o,last:s,displacedBy:u,index:x})},RQ=4,IQ=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,s=t.insideDestination,o=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,c=wf(i.axis,e.displaceBy),u=c.value,f=n[a.start],g=n[a.end],p=Kv(e,s),m=wa(p,function(x){var C=x.descriptor.id,b=x.page.borderBox,E=b[a.size],S=E/RQ,A=da(C,o),T=FM({displaced:r.displaced,id:C});return A?T?g>b[a.start]+S&&g<b[a.end]-S:f>b[a.start]-u+S&&f<b[a.end]-u-S:T?g>b[a.start]+u+S&&g<b[a.end]+u-S:f>b[a.start]+S&&f<b[a.end]-S});if(!m)return null;var y={displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}};return y},UM=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,s=t.previousImpact,o=t.viewport,a=t.afterCritical,c=LM(n.page.borderBox,e),u=AQ({pageBorderBox:c,draggable:n,droppables:i});if(!u)return VY;var f=i[u],g=Au(f.descriptor.id,r),p=NQ(f,c);return IQ({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:s,destination:f,insideDestination:g,afterCritical:a})||kQ({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:f,insideDestination:g,last:s.displaced,viewport:o,afterCritical:a})},KE=function(t,e){var n;return De({},t,(n={},n[e.descriptor.id]=e,n))},DQ=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,s=Lr(n),o=Lr(r);if(!s||s===o)return i;var a=i[s];if(!a.subject.withPlaceholder)return i;var c=xQ(a);return KE(i,c)},PQ=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,s=t.impact,o=DQ({previousImpact:i,impact:s,droppables:r}),a=Lr(s);if(!a)return o;var c=r[a];if(Nu(e,c)||c.subject.withPlaceholder)return o;var u=MM(c,e,n);return KE(o,u)},Zd=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,s=t.impact,o=t.scrollJumpRequest,a=i||e.viewport,c=r||e.dimensions,u=n||e.current.client.selection,f=jr(u,e.initial.client.selection),g={offset:f,selection:u,borderBoxCenter:Dn(e.initial.client.borderBoxCenter,f)},p={selection:Dn(g.selection,a.scroll.current),borderBoxCenter:Dn(g.borderBoxCenter,a.scroll.current),offset:Dn(g.offset,a.scroll.diff.value)},m={client:g,page:p};if(e.phase==="COLLECTING")return De({phase:"COLLECTING"},e,{dimensions:c,viewport:a,current:m});var y=c.draggables[e.critical.draggable.id],x=s||UM({pageOffset:p.offset,draggable:y,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),C=PQ({draggable:y,impact:x,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables}),b=De({},e,{current:m,dimensions:{draggables:c.draggables,droppables:C},impact:x,viewport:a,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return b};function jQ(t,e){return t.map(function(n){return e[n]})}var BM=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,s=t.forceShouldAnimate,o=e.displaced,a=jQ(o.all,r),c=Bh({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:o});return De({},e,{displaced:c})},HM=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,s=t.viewport,o=t.afterCritical,a=Yv({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:o});return qE({pageBorderBoxCenter:a,draggable:n,viewport:s})},zM=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&ge();var i=e.impact,s=r||e.viewport,o=n||e.dimensions,a=o.draggables,c=o.droppables,u=a[e.critical.draggable.id],f=Lr(i);f||ge();var g=c[f],p=BM({impact:i,viewport:s,destination:g,draggables:a}),m=HM({impact:p,draggable:u,droppable:g,draggables:a,viewport:s,afterCritical:e.afterCritical});return Zd({impact:p,clientSelection:m,state:e,dimensions:o,viewport:s})},MQ=function(t){return{index:t.index,droppableId:t.droppableId}},GM=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,s=wf(n.axis,e.displaceBy),o=Au(n.descriptor.id,r),a=o.indexOf(e);a===-1&&ge();var c=o.slice(a+1),u=c.reduce(function(m,y){return m[y.descriptor.id]=!0,m},{}),f={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:u},g=Bh({afterDragging:c,destination:n,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),p={displaced:g,displacedBy:s,at:{type:"REORDER",destination:MQ(e.descriptor)}};return{impact:p,afterCritical:f}},OQ=function(t,e){return{draggables:t.draggables,droppables:KE(t.droppables,e)}},LQ=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=o0(e.client,n),s=a0(i,r),o=De({},e,{placeholder:De({},e.placeholder,{client:i}),client:i,page:s});return o},FQ=function(t){var e=t.frame;return e||ge(),e},UQ=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(s){var o=s.descriptor.droppableId,a=n[o],c=FQ(a),u=c.scroll.diff.value,f=Dn(i,u),g=LQ({draggable:s,offset:f,initialWindowScroll:r.scroll.initial});return g})},BQ=function(t){var e=t.state,n=t.published,r=n.modified.map(function(S){var A=e.dimensions.droppables[S.droppableId],T=HE(A,S.scroll);return T}),i=De({},e.dimensions.droppables,{},_M(r)),s=AM(UQ({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),o=De({},e.dimensions.draggables,{},s);n.removals.forEach(function(S){delete o[S]});var a={droppables:i,draggables:o},c=Lr(e.impact),u=c?a.droppables[c]:null,f=a.draggables[e.critical.draggable.id],g=a.droppables[e.critical.droppable.id],p=GM({draggable:f,home:g,draggables:o,viewport:e.viewport}),m=p.impact,y=p.afterCritical,x=u&&u.isCombineEnabled?e.impact:m,C=UM({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:x,viewport:e.viewport,afterCritical:y}),b=De({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:C,onLiftImpact:m,dimensions:a,afterCritical:y,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return b;var E=De({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return E},jS=function(e){return e.movementMode==="SNAP"},c1=function(e,n,r){var i=OQ(e.dimensions,n);return!jS(e)||r?Zd({state:e,dimensions:i}):zM({state:e,dimensions:i})};function u1(t){return t.isDragging&&t.movementMode==="SNAP"?De({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var YR={phase:"IDLE",completed:null,shouldFlush:!1},HQ=function(t,e){if(t===void 0&&(t=YR),e.type==="FLUSH")return De({},YR,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&ge();var n=e.payload,r=n.critical,i=n.clientSelection,s=n.viewport,o=n.dimensions,a=n.movementMode,c=o.draggables[r.draggable.id],u=o.droppables[r.droppable.id],f={selection:i,borderBoxCenter:c.client.borderBox.center,offset:En},g={client:f,page:{selection:Dn(f.selection,s.scroll.initial),borderBoxCenter:Dn(f.selection,s.scroll.initial),offset:Dn(f.selection,s.scroll.diff.value)}},p=Wv(o.droppables).every(function(Ae){return!Ae.isFixedOnPage}),m=GM({draggable:c,home:u,draggables:o.draggables,viewport:s}),y=m.impact,x=m.afterCritical,C={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:o,initial:g,current:g,isWindowScrollAllowed:p,impact:y,afterCritical:x,onLiftImpact:y,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return C}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&ge();var b=De({phase:"COLLECTING"},t,{phase:"COLLECTING"});return b}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||ge(),BQ({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;qa(t)||ge();var E=e.payload.client;return ia(E,t.current.client.selection)?t:Zd({state:t,clientSelection:E,impact:jS(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return u1(t);qa(t)||ge();var S=e.payload,A=S.id,T=S.newScroll,k=t.dimensions.droppables[A];if(!k)return t;var I=HE(k,T);return c1(t,I,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;qa(t)||ge();var D=e.payload,P=D.id,R=D.isEnabled,O=t.dimensions.droppables[P];O||ge(),O.isEnabled===R&&ge();var z=De({},O,{isEnabled:R});return c1(t,z,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;qa(t)||ge();var ae=e.payload,Z=ae.id,G=ae.isCombineEnabled,$=t.dimensions.droppables[Z];$||ge(),$.isCombineEnabled===G&&ge();var le=De({},$,{isCombineEnabled:G});return c1(t,le,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;qa(t)||ge(),t.isWindowScrollAllowed||ge();var X=e.payload.newScroll;if(ia(t.viewport.scroll.current,X))return u1(t);var pe=DM(t.viewport,X);return jS(t)?zM({state:t,viewport:pe}):Zd({state:t,viewport:pe})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!qa(t))return t;var te=e.payload.maxScroll;if(ia(te,t.viewport.scroll.max))return t;var ie=De({},t.viewport,{scroll:De({},t.viewport.scroll,{max:te})});return De({phase:"DRAGGING"},t,{viewport:ie})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&ge();var ue=CQ({state:t,type:e.type});return ue?Zd({state:t,impact:ue.impact,clientSelection:ue.clientSelection,scrollJumpRequest:ue.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var Ce=e.payload.reason;t.phase!=="COLLECTING"&&ge();var W=De({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:Ce});return W}if(e.type==="DROP_ANIMATE"){var se=e.payload,ce=se.completed,L=se.dropDuration,ne=se.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||ge();var me={phase:"DROP_ANIMATING",completed:ce,dropDuration:L,newHomeClientOffset:ne,dimensions:t.dimensions};return me}if(e.type==="DROP_COMPLETE"){var Te=e.payload.completed;return{phase:"IDLE",completed:Te,shouldFlush:!1}}return t},zQ=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},GQ=function(e){return{type:"LIFT",payload:e}},$Q=function(e){return{type:"INITIAL_PUBLISH",payload:e}},VQ=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},WQ=function(){return{type:"COLLECTION_STARTING",payload:null}},qQ=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},KQ=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},YQ=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},$M=function(e){return{type:"MOVE",payload:e}},QQ=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},XQ=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},JQ=function(){return{type:"MOVE_UP",payload:null}},ZQ=function(){return{type:"MOVE_DOWN",payload:null}},eX=function(){return{type:"MOVE_RIGHT",payload:null}},tX=function(){return{type:"MOVE_LEFT",payload:null}},YE=function(){return{type:"FLUSH",payload:null}},nX=function(e){return{type:"DROP_ANIMATE",payload:e}},QE=function(e){return{type:"DROP_COMPLETE",payload:e}},VM=function(e){return{type:"DROP",payload:e}},rX=function(e){return{type:"DROP_PENDING",payload:e}},WM=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},iX=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var o=s.payload,a=o.id,c=o.clientSelection,u=o.movementMode,f=n();f.phase==="DROP_ANIMATING"&&r(QE({completed:f.completed})),n().phase!=="IDLE"&&ge(),r(YE()),r(zQ({draggableId:a,movementMode:u}));var g={shouldPublishImmediately:u==="SNAP"},p={draggableId:a,scrollOptions:g},m=t.startPublishing(p),y=m.critical,x=m.dimensions,C=m.viewport;r($Q({critical:y,dimensions:x,clientSelection:c,movementMode:u,viewport:C}))}}}},sX=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},XE={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Hh={opacity:{drop:0,combining:.7},scale:{drop:.75}},JE={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ha=JE.outOfTheWay+"s "+XE.outOfTheWay,eh={fluid:"opacity "+Ha,snap:"transform "+Ha+", opacity "+Ha,drop:function(e){var n=e+"s "+XE.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Ha,placeholder:"height "+Ha+", width "+Ha+", margin "+Ha},QR=function(e){return ia(e,En)?null:"translate("+e.x+"px, "+e.y+"px)"},MS={moveTo:QR,drop:function(e,n){var r=QR(e);return r?n?r+" scale("+Hh.scale.drop+")":r:null}},OS=JE.minDropTime,qM=JE.maxDropTime,oX=qM-OS,XR=1500,aX=.6,lX=function(t){var e=t.current,n=t.destination,r=t.reason,i=Fh(e,n);if(i<=0)return OS;if(i>=XR)return qM;var s=i/XR,o=OS+oX*s,a=r==="CANCEL"?o*aX:o;return Number(a.toFixed(2))},cX=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,s=t.afterCritical,o=r.draggables,a=r.droppables,c=Lr(e),u=c?a[c]:null,f=a[n.descriptor.droppableId],g=HM({impact:e,draggable:n,draggables:o,afterCritical:s,droppable:u||f,viewport:i}),p=jr(g,n.client.borderBox.center);return p},uX=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,s=t.viewport,o=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=BM({draggables:e,impact:o,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var c=De({},r,{displaced:Uh});return{impact:c,didDropInsideDroppable:!0}},dX=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var s=e(),o=i.payload.reason;if(s.phase==="COLLECTING"){n(rX({reason:o}));return}if(s.phase!=="IDLE"){var a=s.phase==="DROP_PENDING"&&s.isWaiting;a&&ge(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||ge();var c=s.critical,u=s.dimensions,f=u.draggables[s.critical.draggable.id],g=uX({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=g.impact,m=g.didDropInsideDroppable,y=m?GE(p):null,x=m?qv(p):null,C={index:c.draggable.index,droppableId:c.droppable.id},b={draggableId:f.descriptor.id,type:f.descriptor.type,source:C,reason:o,mode:s.movementMode,destination:y,combine:x},E=cX({impact:p,draggable:f,dimensions:u,viewport:s.viewport,afterCritical:s.afterCritical}),S={critical:s.critical,afterCritical:s.afterCritical,result:b,impact:p},A=!ia(s.current.client.offset,E)||!!b.combine;if(!A){n(QE({completed:S}));return}var T=lX({current:s.current.client.offset,destination:E,reason:o}),k={newHomeClientOffset:E,dropDuration:T,completed:S};n(nX(k))}}}},KM=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function hX(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function fX(t){var e=t.onWindowScroll;function n(){e(KM())}var r=Lh(n),i=hX(r),s=ra;function o(){return s!==ra}function a(){o()&&ge(),s=ui(window,[i])}function c(){o()||ge(),r.cancel(),s(),s=ra}return{start:a,stop:c,isActive:o}}var gX=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},pX=function(t){var e=fX({onWindowScroll:function(r){t.dispatch(QQ({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&gX(r)&&e.stop(),n(r)}}},mX=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(o){e||n||(e=!0,t(o),clearTimeout(r))};return i.wasCalled=function(){return e},i},vX=function(){var t=[],e=function(s){var o=zE(t,function(u){return u.timerId===s});o===-1&&ge();var a=t.splice(o,1),c=a[0];c.callback()},n=function(s){var o=setTimeout(function(){return e(o)}),a={timerId:o,callback:s};t.push(a)},r=function(){if(t.length){var s=[].concat(t);t.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:r}},yX=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},xX=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},bX=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},gd=function(e,n){n()},cp=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},d1=function(e,n,r,i){if(!e){r(i(n));return}var s=mX(r),o={announce:s};e(n,o),s.wasCalled()||r(i(n))},wX=function(t,e){var n=vX(),r=null,i=function(p,m){r&&ge(),gd("onBeforeCapture",function(){var y=t().onBeforeCapture;if(y){var x={draggableId:p,mode:m};y(x)}})},s=function(p,m){r&&ge(),gd("onBeforeDragStart",function(){var y=t().onBeforeDragStart;y&&y(cp(p,m))})},o=function(p,m){r&&ge();var y=cp(p,m);r={mode:m,lastCritical:p,lastLocation:y.source,lastCombine:null},n.add(function(){gd("onDragStart",function(){return d1(t().onDragStart,y,e,Xp.onDragStart)})})},a=function(p,m){var y=GE(m),x=qv(m);r||ge();var C=!bX(p,r.lastCritical);C&&(r.lastCritical=p);var b=!yX(r.lastLocation,y);b&&(r.lastLocation=y);var E=!xX(r.lastCombine,x);if(E&&(r.lastCombine=x),!(!C&&!b&&!E)){var S=De({},cp(p,r.mode),{combine:x,destination:y});n.add(function(){gd("onDragUpdate",function(){return d1(t().onDragUpdate,S,e,Xp.onDragUpdate)})})}},c=function(){r||ge(),n.flush()},u=function(p){r||ge(),r=null,gd("onDragEnd",function(){return d1(t().onDragEnd,p,e,Xp.onDragEnd)})},f=function(){if(r){var p=De({},cp(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:c,drop:u,abort:f}},SX=function(t,e){var n=wX(t,e);return function(r){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;n.beforeStart(o,s.payload.movementMode),i(s),n.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),s.type==="FLUSH"){n.abort();return}var c=r.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},CX=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&ge(),t.dispatch(QE({completed:r.completed}))}}},EX=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&r(),i(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=t.getState();c.phase==="DROP_ANIMATING"&&t.dispatch(WM())}};n=requestAnimationFrame(function(){n=null,e=ui(window,[o])})}}}},_X=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},AX=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},NX=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},TX=function(t){return function(e){return function(n){return function(r){if(NX(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&ge(),t.start(i);return}n(r),t.scroll(e.getState())}}}},kX=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(VM({reason:r.reason})))}}}},RX=eM,IX=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,s=t.announce,o=t.autoScroller;return Z6(HQ,RX(vK(sX(r),_X(e),iX(e),dX,CX,EX,kX,TX(o),pX,AX(n),SX(i,s))))},h1=function(){return{additions:{},removals:{},modified:{}}};function DX(t){var e=t.registry,n=t.callbacks,r=h1(),i=null,s=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var f=r,g=f.additions,p=f.removals,m=f.modified,y=Object.keys(g).map(function(b){return e.draggable.getById(b).getDimension(En)}).sort(function(b,E){return b.descriptor.index-E.descriptor.index}),x=Object.keys(m).map(function(b){var E=e.droppable.getById(b),S=E.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:S}}),C={additions:y,removals:Object.keys(p),modified:x};r=h1(),n.publish(C)}))},o=function(f){var g=f.descriptor.id;r.additions[g]=f,r.modified[f.descriptor.droppableId]=!0,r.removals[g]&&delete r.removals[g],s()},a=function(f){var g=f.descriptor;r.removals[g.id]=!0,r.modified[g.droppableId]=!0,r.additions[g.id]&&delete r.additions[g.id],s()},c=function(){i&&(cancelAnimationFrame(i),i=null,r=h1())};return{add:o,remove:a,stop:c}}var YM=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,s=jr({x:n,y:e},{x:i,y:r}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},QM=function(){var t=document.documentElement;return t||ge(),t},XM=function(){var t=QM(),e=YM({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},PX=function(){var t=KM(),e=XM(),n=t.y,r=t.x,i=QM(),s=i.clientWidth,o=i.clientHeight,a=r+s,c=n+o,u=Pi({top:n,left:r,right:a,bottom:c}),f={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:En,displacement:En}}};return f},jX=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=PX(),s=i.scroll.current,o=e.droppable,a=r.droppable.getAllByType(o.type).map(function(g){return g.callbacks.getDimensionAndWatchScroll(s,n)}),c=r.draggable.getAllByType(e.draggable.type).map(function(g){return g.getDimension(s)}),u={draggables:AM(c),droppables:_M(a)},f={dimensions:u,critical:e,viewport:i};return f};function JR(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var MX=function(t,e){var n=null,r=DX({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(m,y){t.droppable.exists(m)||ge(),n&&e.updateDroppableIsEnabled({id:m,isEnabled:y})},s=function(m,y){n&&(t.droppable.exists(m)||ge(),e.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:y}))},o=function(m,y){n&&(t.droppable.exists(m)||ge(),e.updateDroppableScroll({id:m,newScroll:y}))},a=function(m,y){n&&t.droppable.getById(m).callbacks.scroll(y)},c=function(){if(n){r.stop();var m=n.critical.droppable;t.droppable.getAllByType(m.type).forEach(function(y){return y.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(m){n||ge();var y=n.critical.draggable;m.type==="ADDITION"&&JR(t,y,m.value)&&r.add(m.value),m.type==="REMOVAL"&&JR(t,y,m.value)&&r.remove(m.value)},f=function(m){n&&ge();var y=t.draggable.getById(m.draggableId),x=t.droppable.getById(y.descriptor.droppableId),C={draggable:y.descriptor,droppable:x.descriptor},b=t.subscribe(u);return n={critical:C,unsubscribe:b},jX({critical:C,registry:t,scrollOptions:m.scrollOptions})},g={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:f,stopPublishing:c};return g},JM=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},OX=function(t){window.scrollBy(t.x,t.y)},LX=Cn(function(t){return Wv(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),FX=function(e,n){var r=wa(LX(n),function(i){return i.frame||ge(),OM(i.frame.pageMarginBox)(e)});return r},UX=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var s=FX(e,r);return s},sa={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},BX=function(t,e){var n=t[e.size]*sa.startFromPercentage,r=t[e.size]*sa.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},ZM=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var s=r-e,o=s/i;return o},ZE=1,HX=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return sa.maxPixelScroll;if(t===e.startScrollingFrom)return ZE;var n=ZM({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=sa.maxPixelScroll*sa.ease(r);return Math.ceil(i)},ZR=sa.durationDampening.accelerateAt,e4=sa.durationDampening.stopDampeningAt,zX=function(t,e){var n=e,r=e4,i=Date.now(),s=i-n;if(s>=e4)return t;if(s<ZR)return ZE;var o=ZM({startOfRange:ZR,endOfRange:r,current:s}),a=t*sa.ease(o);return Math.ceil(a)},t4=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,s=HX(e,n);return s===0?0:i?Math.max(zX(s,r),ZE):s},n4=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,s=t.shouldUseTimeDampening,o=BX(e,i),a=n[i.end]<n[i.start];return a?t4({distanceToEdge:n[i.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s}):-1*t4({distanceToEdge:n[i.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s})},GX=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,s=n.width>e.width;return!s&&!i?r:s&&i?null:{x:s?0:r.x,y:i?0:r.y}},$X=CM(function(t){return t===0?0:t}),eO=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,s=t.shouldUseTimeDampening,o={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=n4({container:n,distanceToEdges:o,dragStartTime:e,axis:$E,shouldUseTimeDampening:s}),c=n4({container:n,distanceToEdges:o,dragStartTime:e,axis:kM,shouldUseTimeDampening:s}),u=$X({x:c,y:a});if(ia(u,En))return null;var f=GX({container:n,subject:r,proposedScroll:u});return f?ia(f,En)?null:f:null},VX=CM(function(t){return t===0?0:t>0?1:-1}),e_=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,s=Dn(n,i),o={x:t(s.x,r.x),y:t(s.y,r.y)};return ia(o,En)?null:o}}(),tO=function(e){var n=e.max,r=e.current,i=e.change,s={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},o=VX(i),a=e_({max:s,current:r,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},t_=function(e,n){return tO({current:e.scroll.current,max:e.scroll.max,change:n})},WX=function(e,n){if(!t_(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return e_({current:i,max:r,change:n})},n_=function(e,n){var r=e.frame;return r?tO({current:r.scroll.current,max:r.scroll.max,change:n}):!1},qX=function(e,n){var r=e.frame;return!r||!n_(e,n)?null:e_({current:r.scroll.current,max:r.scroll.max,change:n})},KX=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,o=eO({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:s});return o&&t_(e,o)?o:null},YX=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,o=e.frame;if(!o)return null;var a=eO({dragStartTime:i,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:s});return a&&n_(e,a)?a:null},r4=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,s=t.scrollDroppable,o=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],c=a.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,f=KX({dragStartTime:n,viewport:u,subject:c,center:o,shouldUseTimeDampening:r});if(f){i(f);return}}var g=UX({center:o,destination:Lr(e.impact),droppables:e.dimensions.droppables});if(g){var p=YX({dragStartTime:n,droppable:g,subject:c,center:o,shouldUseTimeDampening:r});p&&s(g.descriptor.id,p)}},QX=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Lh(e),i=Lh(n),s=null,o=function(f){s||ge();var g=s,p=g.shouldUseTimeDampening,m=g.dragStartTime;r4({state:f,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:p})},a=function(f){s&&ge();var g=Date.now(),p=!1,m=function(){p=!0};r4({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),s={dragStartTime:g,shouldUseTimeDampening:p},p&&o(f)},c=function(){s&&(r.cancel(),i.cancel(),s=null)};return{start:a,stop:c,scroll:o}},XX=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(u,f){var g=Dn(u.current.client.selection,f);e({client:g})},s=function(u,f){if(!n_(u,f))return f;var g=qX(u,f);if(!g)return n(u.descriptor.id,f),null;var p=jr(f,g);n(u.descriptor.id,p);var m=jr(f,p);return m},o=function(u,f,g){if(!u||!t_(f,g))return g;var p=WX(f,g);if(!p)return r(g),null;var m=jr(g,p);r(m);var y=jr(g,m);return y},a=function(u){var f=u.scrollJumpRequest;if(f){var g=Lr(u.impact);g||ge();var p=s(u.dimensions.droppables[g],f);if(p){var m=u.viewport,y=o(u.isWindowScrollAllowed,m,p);y&&i(u,y)}}};return a},JX=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=QX({scrollWindow:n,scrollDroppable:e}),s=XX({move:r,scrollWindow:n,scrollDroppable:e}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&s(u)}},a={scroll:o,start:i.start,stop:i.stop};return a},nu="data-rbd",ru=function(){var t=nu+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),LS=function(){var t=nu+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),ZX=function(){var t=nu+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),i4={contextId:nu+"-scroll-container-context-id"},eJ=function(e){return function(n){return"["+n+'="'+e+'"]'}},pd=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},tJ="pointer-events: none;",nJ=function(t){var e=eJ(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(ru.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:tJ,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+eh.outOfTheWay+`;
    `;return{selector:e(LS.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(ZX.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[r,n,i,s];return{always:pd(o,"always"),resting:pd(o,"resting"),dragging:pd(o,"dragging"),dropAnimating:pd(o,"dropAnimating"),userCancel:pd(o,"userCancel")}},Fr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?M.useLayoutEffect:M.useEffect,f1=function(){var e=document.querySelector("head");return e||ge(),e},s4=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function rJ(t,e){var n=nt(function(){return nJ(t)},[t]),r=M.useRef(null),i=M.useRef(null),s=Ne(Cn(function(g){var p=i.current;p||ge(),p.textContent=g}),[]),o=Ne(function(g){var p=r.current;p||ge(),p.textContent=g},[]);Fr(function(){!r.current&&!i.current||ge();var g=s4(e),p=s4(e);return r.current=g,i.current=p,g.setAttribute(nu+"-always",t),p.setAttribute(nu+"-dynamic",t),f1().appendChild(g),f1().appendChild(p),o(n.always),s(n.resting),function(){var m=function(x){var C=x.current;C||ge(),f1().removeChild(C),x.current=null};m(r),m(i)}},[e,o,s,n.always,n.resting,t]);var a=Ne(function(){return s(n.dragging)},[s,n.dragging]),c=Ne(function(g){if(g==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),u=Ne(function(){i.current&&s(n.resting)},[s,n.resting]),f=nt(function(){return{dragging:a,dropping:c,resting:u}},[a,c,u]);return f}var nO=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Qv(t){return t instanceof nO(t).HTMLElement}function iJ(t,e){var n="["+ru.contextId+'="'+t+'"]',r=EM(document.querySelectorAll(n));if(!r.length)return null;var i=wa(r,function(s){return s.getAttribute(ru.draggableId)===e});return!i||!Qv(i)?null:i}function sJ(t){var e=M.useRef({}),n=M.useRef(null),r=M.useRef(null),i=M.useRef(!1),s=Ne(function(p,m){var y={id:p,focus:m};return e.current[p]=y,function(){var C=e.current,b=C[p];b!==y&&delete C[p]}},[]),o=Ne(function(p){var m=iJ(t,p);m&&m!==document.activeElement&&m.focus()},[t]),a=Ne(function(p,m){n.current===p&&(n.current=m)},[]),c=Ne(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var p=n.current;p&&o(p)}))},[o]),u=Ne(function(p){n.current=null;var m=document.activeElement;m&&m.getAttribute(ru.draggableId)===p&&(n.current=p)},[]);Fr(function(){return i.current=!0,function(){i.current=!1;var p=r.current;p&&cancelAnimationFrame(p)}},[]);var f=nt(function(){return{register:s,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}},[s,u,c,a]);return f}function oJ(){var t={draggables:{},droppables:{}},e=[];function n(g){return e.push(g),function(){var m=e.indexOf(g);m!==-1&&e.splice(m,1)}}function r(g){e.length&&e.forEach(function(p){return p(g)})}function i(g){return t.draggables[g]||null}function s(g){var p=i(g);return p||ge(),p}var o={register:function(p){t.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:function(p,m){var y=t.draggables[m.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete t.draggables[m.descriptor.id],t.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,y=i(m);y&&p.uniqueId===y.uniqueId&&(delete t.draggables[m],r({type:"REMOVAL",value:p}))},getById:s,findById:i,exists:function(p){return!!i(p)},getAllByType:function(p){return u0(t.draggables).filter(function(m){return m.descriptor.type===p})}};function a(g){return t.droppables[g]||null}function c(g){var p=a(g);return p||ge(),p}var u={register:function(p){t.droppables[p.descriptor.id]=p},unregister:function(p){var m=a(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete t.droppables[p.descriptor.id]},getById:c,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return u0(t.droppables).filter(function(m){return m.descriptor.type===p})}};function f(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:u,subscribe:n,clean:f}}function aJ(){var t=nt(oJ,[]);return M.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var r_=q.createContext(null),h0=function(){var t=document.body;return t||ge(),t},lJ={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},cJ=function(e){return"rbd-announcement-"+e};function uJ(t){var e=nt(function(){return cJ(t)},[t]),n=M.useRef(null);M.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),De(s.style,lJ),h0().appendChild(s),function(){setTimeout(function(){var c=h0();c.contains(s)&&c.removeChild(s),s===n.current&&(n.current=null)})}},[e]);var r=Ne(function(i){var s=n.current;if(s){s.textContent=i;return}},[]);return r}var dJ=0,hJ={separator:"::"};function i_(t,e){return e===void 0&&(e=hJ),nt(function(){return""+t+e.separator+dJ++},[e.separator,t])}function fJ(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function gJ(t){var e=t.contextId,n=t.text,r=i_("hidden-text",{separator:"-"}),i=nt(function(){return fJ({contextId:e,uniqueId:r})},[r,e]);return M.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=n,o.style.display="none",h0().appendChild(o),function(){var c=h0();c.contains(o)&&c.removeChild(o)}},[i,n]),i}var Xv=q.createContext(null);function rO(t){var e=M.useRef(t);return M.useEffect(function(){e.current=t}),e}function pJ(){var t=null;function e(){return!!t}function n(o){return o===t}function r(o){t&&ge();var a={abandon:o};return t=a,a}function i(){t||ge(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:s}}var mJ=9,vJ=13,s_=27,iO=32,yJ=33,xJ=34,bJ=35,wJ=36,SJ=37,CJ=38,EJ=39,_J=40,up,AJ=(up={},up[vJ]=!0,up[mJ]=!0,up),sO=function(t){AJ[t.keyCode]&&t.preventDefault()},Jv=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=wa(e,function(r){return"on"+r in document});return n||t}(),oO=0,o4=5;function NJ(t,e){return Math.abs(e.x-t.x)>=o4||Math.abs(e.y-t.y)>=o4}var a4={type:"IDLE"};function TJ(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(o){var a=o.button,c=o.clientX,u=o.clientY;if(a===oO){var f={x:c,y:u},g=r();if(g.type==="DRAGGING"){o.preventDefault(),g.actions.move(f);return}g.type!=="PENDING"&&ge();var p=g.point;if(NJ(p,f)){o.preventDefault();var m=g.actions.fluidLift(f);i({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(o){var a=r();if(a.type!=="DRAGGING"){e();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:function(o){var a=r();if(a.type==="PENDING"){e();return}if(o.keyCode===s_){o.preventDefault(),e();return}sO(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(o){var a=r();if(a.type==="IDLE"&&ge(),a.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Jv,fn:e}]}function kJ(t){var e=M.useRef(a4),n=M.useRef(ra),r=nt(function(){return{eventName:"mousedown",fn:function(g){if(!g.defaultPrevented&&g.button===oO&&!(g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)){var p=t.findClosestDraggableId(g);if(p){var m=t.tryGetLock(p,o,{sourceEvent:g});if(m){g.preventDefault();var y={x:g.clientX,y:g.clientY};n.current(),u(m,y)}}}}}},[t]),i=nt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(g){if(!g.defaultPrevented){var p=t.findClosestDraggableId(g);if(p){var m=t.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||t.canGetLock(p)&&g.preventDefault())}}}}},[t]),s=Ne(function(){var g={passive:!1,capture:!0};n.current=ui(window,[i,r],g)},[i,r]),o=Ne(function(){var f=e.current;f.type!=="IDLE"&&(e.current=a4,n.current(),s())},[s]),a=Ne(function(){var f=e.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),c=Ne(function(){var g={capture:!0,passive:!1},p=TJ({cancel:a,completed:o,getPhase:function(){return e.current},setPhase:function(y){e.current=y}});n.current=ui(window,p,g)},[a,o]),u=Ne(function(g,p){e.current.type!=="IDLE"&&ge(),e.current={type:"PENDING",point:p,actions:g},c()},[c]);Fr(function(){return s(),function(){n.current()}},[s])}var sc;function RJ(){}var IJ=(sc={},sc[xJ]=!0,sc[yJ]=!0,sc[wJ]=!0,sc[bJ]=!0,sc);function DJ(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===s_){s.preventDefault(),n();return}if(s.keyCode===iO){s.preventDefault(),r();return}if(s.keyCode===_J){s.preventDefault(),t.moveDown();return}if(s.keyCode===CJ){s.preventDefault(),t.moveUp();return}if(s.keyCode===EJ){s.preventDefault(),t.moveRight();return}if(s.keyCode===SJ){s.preventDefault(),t.moveLeft();return}if(IJ[s.keyCode]){s.preventDefault();return}sO(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Jv,fn:n}]}function PJ(t){var e=M.useRef(RJ),n=nt(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==iO)return;var o=t.findClosestDraggableId(s);if(!o)return;var a=t.tryGetLock(o,f,{sourceEvent:s});if(!a)return;s.preventDefault();var c=!0,u=a.snapLift();e.current();function f(){c||ge(),c=!1,e.current(),r()}e.current=ui(window,DJ(u,f),{capture:!0,passive:!1})}}},[t]),r=Ne(function(){var s={passive:!1,capture:!0};e.current=ui(window,[n],s)},[n]);Fr(function(){return r(),function(){e.current()}},[r])}var g1={type:"IDLE"},jJ=120,MJ=.15;function OJ(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===s_&&i.preventDefault(),e()}},{eventName:Jv,fn:e}]}function LJ(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;var a=s.touches[0],c=a.clientX,u=a.clientY,f={x:c,y:u};s.preventDefault(),o.actions.move(f)}},{eventName:"touchend",fn:function(s){var o=r();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(s){var o=r();o.type==="IDLE"&&ge();var a=s.touches[0];if(a){var c=a.force>=MJ;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&e();return}if(u){if(o.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}}}},{eventName:Jv,fn:e}]}function FJ(t){var e=M.useRef(g1),n=M.useRef(ra),r=Ne(function(){return e.current},[]),i=Ne(function(m){e.current=m},[]),s=nt(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var y=t.findClosestDraggableId(m);if(y){var x=t.tryGetLock(y,a,{sourceEvent:m});if(x){var C=m.touches[0],b=C.clientX,E=C.clientY,S={x:b,y:E};n.current(),g(x,S)}}}}}},[t]),o=Ne(function(){var m={capture:!0,passive:!1};n.current=ui(window,[s],m)},[s]),a=Ne(function(){var p=e.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(g1),n.current(),o())},[o,i]),c=Ne(function(){var p=e.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=Ne(function(){var m={capture:!0,passive:!1},y={cancel:c,completed:a,getPhase:r},x=ui(window,LJ(y),m),C=ui(window,OJ(y),m);n.current=function(){x(),C()}},[c,r,a]),f=Ne(function(){var m=r();m.type!=="PENDING"&&ge();var y=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:y,hasMoved:!1})},[r,i]),g=Ne(function(m,y){r().type!=="IDLE"&&ge();var x=setTimeout(f,jJ);i({type:"PENDING",point:y,actions:m,longPressTimerId:x}),u()},[u,r,i,f]);Fr(function(){return o(),function(){n.current();var y=r();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),i(g1))}},[r,o,i]),Fr(function(){var m=ui(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var UJ={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function aO(t,e){if(e==null)return!1;var n=!!UJ[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:aO(t,e.parentElement)}function BJ(t,e){var n=e.target;return Qv(n)?aO(t,n):!1}var HJ=function(t){return Pi(t.getBoundingClientRect()).center};function zJ(t){return t instanceof nO(t).Element}var GJ=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=wa(e,function(r){return r in Element.prototype});return n||t}();function lO(t,e){return t==null?null:t[GJ](e)?t:lO(t.parentElement,e)}function $J(t,e){return t.closest?t.closest(e):lO(t,e)}function VJ(t){return"["+ru.contextId+'="'+t+'"]'}function WJ(t,e){var n=e.target;if(!zJ(n))return null;var r=VJ(t),i=$J(n,r);return!i||!Qv(i)?null:i}function qJ(t,e){var n=WJ(t,e);return n?n.getAttribute(ru.draggableId):null}function KJ(t,e){var n="["+LS.contextId+'="'+t+'"]',r=EM(document.querySelectorAll(n)),i=wa(r,function(s){return s.getAttribute(LS.id)===e});return!i||!Qv(i)?null:i}function YJ(t){t.preventDefault()}function dp(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function cO(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var s=r.draggable.findById(i);return!(!s||!s.options.isEnabled||!JM(n.getState(),i))}function QJ(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,s=t.draggableId,o=t.forceSensorStop,a=t.sourceEvent,c=cO({lockAPI:e,store:r,registry:i,draggableId:s});if(!c)return null;var u=i.draggable.getById(s),f=KJ(n,u.descriptor.id);if(!f||a&&!u.options.canDragInteractiveElements&&BJ(f,a))return null;var g=e.claim(o||ra),p="PRE_DRAG";function m(){return u.options.shouldRespectForcePress}function y(){return e.isActive(g)}function x(k,I){dp({expected:k,phase:p,isLockActive:y,shouldWarn:!0})&&r.dispatch(I())}var C=x.bind(null,"DRAGGING");function b(k){function I(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(I(),p!=="PRE_DRAG"&&ge()),r.dispatch(GQ(k.liftActionArgs)),p="DRAGGING";function D(P,R){if(R===void 0&&(R={shouldBlockNextClick:!1}),k.cleanup(),R.shouldBlockNextClick){var O=ui(window,[{eventName:"click",fn:YJ,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}I(),r.dispatch(VM({reason:P}))}return De({isActive:function(){return dp({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(R){return D("DROP",R)},cancel:function(R){return D("CANCEL",R)}},k.actions)}function E(k){var I=Lh(function(P){C(function(){return $M({client:P})})}),D=b({liftActionArgs:{id:s,clientSelection:k,movementMode:"FLUID"},cleanup:function(){return I.cancel()},actions:{move:I}});return De({},D,{move:I})}function S(){var k={moveUp:function(){return C(JQ)},moveRight:function(){return C(eX)},moveDown:function(){return C(ZQ)},moveLeft:function(){return C(tX)}};return b({liftActionArgs:{id:s,clientSelection:HJ(f),movementMode:"SNAP"},cleanup:ra,actions:k})}function A(){var k=dp({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0});k&&e.release()}var T={isActive:function(){return dp({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:E,snapLift:S,abort:A};return T}var XJ=[kJ,PJ,FJ];function JJ(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,s=t.enableDefaultSensors,o=[].concat(s?XJ:[],i||[]),a=M.useState(function(){return pJ()})[0],c=Ne(function(E,S){E.isDragging&&!S.isDragging&&a.tryAbandon()},[a]);Fr(function(){var E=n.getState(),S=n.subscribe(function(){var A=n.getState();c(E,A),E=A});return S},[a,n,c]),Fr(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=Ne(function(b){return cO({lockAPI:a,registry:r,store:n,draggableId:b})},[a,r,n]),f=Ne(function(b,E,S){return QJ({lockAPI:a,registry:r,contextId:e,store:n,draggableId:b,forceSensorStop:E,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null})},[e,a,r,n]),g=Ne(function(b){return qJ(e,b)},[e]),p=Ne(function(b){var E=r.draggable.findById(b);return E?E.options:null},[r.draggable]),m=Ne(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(YE()))},[a,n]),y=Ne(a.isClaimed,[a]),x=nt(function(){return{canGetLock:u,tryGetLock:f,findClosestDraggableId:g,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:y}},[u,f,g,p,m,y]),C=0;C<o.length;C++)o[C](x)}var ZJ=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function md(t){return t.current||ge(),t.current}function eZ(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,s=t.dragHandleUsageInstructions,o=M.useRef(null),a=rO(t),c=Ne(function(){return ZJ(a.current)},[a]),u=uJ(e),f=gJ({contextId:e,text:s}),g=rJ(e,i),p=Ne(function(P){md(o).dispatch(P)},[]),m=nt(function(){return RR({publishWhileDragging:VQ,updateDroppableScroll:qQ,updateDroppableIsEnabled:KQ,updateDroppableIsCombineEnabled:YQ,collectionStarting:WQ},p)},[p]),y=aJ(),x=nt(function(){return MX(y,m)},[y,m]),C=nt(function(){return JX(De({scrollWindow:OX,scrollDroppable:x.scrollDroppable},RR({move:$M},p)))},[x.scrollDroppable,p]),b=sJ(e),E=nt(function(){return IX({announce:u,autoScroller:C,dimensionMarshal:x,focusMarshal:b,getResponders:c,styleMarshal:g})},[u,C,x,b,c,g]);o.current=E;var S=Ne(function(){var P=md(o),R=P.getState();R.phase!=="IDLE"&&P.dispatch(YE())},[]),A=Ne(function(){var P=md(o).getState();return P.isDragging||P.phase==="DROP_ANIMATING"},[]),T=nt(function(){return{isDragging:A,tryAbort:S}},[A,S]);n(T);var k=Ne(function(P){return JM(md(o).getState(),P)},[]),I=Ne(function(){return qa(md(o).getState())},[]),D=nt(function(){return{marshal:x,focus:b,contextId:e,canLift:k,isMovementAllowed:I,dragHandleUsageInstructionsId:f,registry:y}},[e,x,f,b,k,I,y]);return JJ({contextId:e,store:E,registry:y,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),M.useEffect(function(){return S},[S]),q.createElement(Xv.Provider,{value:D},q.createElement(SK,{context:r_,store:E},t.children))}var tZ=0;function nZ(){return nt(function(){return""+tZ++},[])}function rZ(t){var e=nZ(),n=t.dragHandleUsageInstructions||Xp.dragHandleUsageInstructions;return q.createElement(PY,null,function(r){return q.createElement(eZ,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var uO=function(e){return function(n){return e===n}},iZ=uO("scroll"),sZ=uO("auto"),l4=function(e,n){return n(e.overflowX)||n(e.overflowY)},oZ=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return l4(r,iZ)||l4(r,sZ)},aZ=function(){return!1},lZ=function t(e){return e==null?null:e===document.body?aZ()?e:null:e===document.documentElement?null:oZ(e)?e:t(e.parentElement)},FS=function(t){return{x:t.scrollLeft,y:t.scrollTop}},cZ=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},uZ=function(t){var e=lZ(t),n=cZ(t);return{closestScrollable:e,isFixedOnPage:n}},dZ=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,s=t.direction,o=t.client,a=t.page,c=t.closest,u=function(){if(!c)return null;var m=c.scrollSize,y=c.client,x=YM({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:y,scrollSize:m,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:x,diff:{value:En,displacement:En}}}}(),f=s==="vertical"?$E:kM,g=tu({page:a,withPlaceholder:null,axis:f,frame:u}),p={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:f,isEnabled:n,client:o,page:a,frame:u,subject:g};return p},hZ=function(e,n){var r=xM(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,s=r.paddingBox.left-n.scrollLeft,o=i+n.scrollHeight,a=s+n.scrollWidth,c={top:i,right:a,bottom:o,left:s},u=UE(c,r.border),f=BE({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return f},fZ=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,s=t.direction,o=t.isDropDisabled,a=t.isCombineEnabled,c=t.shouldClipSubject,u=r.closestScrollable,f=hZ(e,u),g=a0(f,i),p=function(){if(!u)return null;var y=xM(u),x={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:a0(y,i),scroll:FS(u),scrollSize:x,shouldClipSubject:c}}(),m=dZ({descriptor:n,isEnabled:!o,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:s,client:f,page:g,closest:p});return m},gZ={passive:!1},pZ={passive:!0},c4=function(t){return t.shouldPublishImmediately?gZ:pZ};function f0(t){var e=M.useContext(t);return e||ge(),e}var hp=function(e){return e&&e.env.closestScrollable||null};function mZ(t){var e=M.useRef(null),n=f0(Xv),r=i_("droppable"),i=n.registry,s=n.marshal,o=rO(t),a=nt(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),c=M.useRef(a),u=nt(function(){return Cn(function(A,T){e.current||ge();var k={x:A,y:T};s.updateDroppableScroll(a.id,k)})},[a.id,s]),f=Ne(function(){var A=e.current;return!A||!A.env.closestScrollable?En:FS(A.env.closestScrollable)},[]),g=Ne(function(){var A=f();u(A.x,A.y)},[f,u]),p=nt(function(){return Lh(g)},[g]),m=Ne(function(){var A=e.current,T=hp(A);A&&T||ge();var k=A.scrollOptions;if(k.shouldPublishImmediately){g();return}p()},[p,g]),y=Ne(function(A,T){e.current&&ge();var k=o.current,I=k.getDroppableRef();I||ge();var D=uZ(I),P={ref:I,descriptor:a,env:D,scrollOptions:T};e.current=P;var R=fZ({ref:I,descriptor:a,env:D,windowScroll:A,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),O=D.closestScrollable;return O&&(O.setAttribute(i4.contextId,n.contextId),O.addEventListener("scroll",m,c4(P.scrollOptions))),R},[n.contextId,a,m,o]),x=Ne(function(){var A=e.current,T=hp(A);return A&&T||ge(),FS(T)},[]),C=Ne(function(){var A=e.current;A||ge();var T=hp(A);e.current=null,T&&(p.cancel(),T.removeAttribute(i4.contextId),T.removeEventListener("scroll",m,c4(A.scrollOptions)))},[m,p]),b=Ne(function(A){var T=e.current;T||ge();var k=hp(T);k||ge(),k.scrollTop+=A.y,k.scrollLeft+=A.x},[]),E=nt(function(){return{getDimensionAndWatchScroll:y,getScrollWhileDragging:x,dragStopped:C,scroll:b}},[C,y,x,b]),S=nt(function(){return{uniqueId:r,descriptor:a,callbacks:E}},[E,a,r]);Fr(function(){return c.current=S.descriptor,i.droppable.register(S),function(){e.current&&C(),i.droppable.unregister(S)}},[E,a,C,S,s,i.droppable]),Fr(function(){e.current&&s.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Fr(function(){e.current&&s.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function p1(){}var u4={width:0,height:0,margin:UY},vZ=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?u4:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},yZ=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,s=vZ({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?eh.placeholder:null}};function xZ(t){var e=M.useRef(null),n=Ne(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,s=t.onClose,o=t.contextId,a=M.useState(t.animate==="open"),c=a[0],u=a[1];M.useEffect(function(){return c?r!=="open"?(n(),u(!1),p1):e.current?p1:(e.current=setTimeout(function(){e.current=null,u(!1)}),n):p1},[r,c,n]);var f=Ne(function(p){p.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),g=yZ({isAnimatingOpenOnMount:c,animate:t.animate,placeholder:t.placeholder});return q.createElement(t.placeholder.tagName,{style:g,"data-rbd-placeholder-context-id":o,onTransitionEnd:f,ref:t.innerRef})}var bZ=q.memo(xZ),o_=q.createContext(null),wZ=function(t){J6(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(q.PureComponent),d4={dragging:5e3,dropAnimating:4500},SZ=function(e,n){return n?eh.drop(n.duration):e?eh.snap:eh.fluid},CZ=function(e,n){return e?n?Hh.opacity.drop:Hh.opacity.combining:null},EZ=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function _Z(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,s=t.dropping,o=!!i,a=EZ(t),c=!!s,u=c?MS.drop(r,o):MS.moveTo(r),f={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:SZ(a,s),transform:u,opacity:CZ(o,c),zIndex:c?d4.dropAnimating:d4.dragging,pointerEvents:"none"};return f}function AZ(t){return{transform:MS.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function NZ(t){return t.type==="DRAGGING"?_Z(t):AZ(t)}function TZ(t,e,n){n===void 0&&(n=En);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=yM(i,r),o=a0(s,n),a={client:s,tagName:e.tagName.toLowerCase(),display:r.display},c={x:s.marginBox.width,y:s.marginBox.height},u={descriptor:t,placeholder:a,displaceBy:c,client:s,page:o};return u}function kZ(t){var e=i_("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,s=t.canDragInteractiveElements,o=t.shouldRespectForcePress,a=t.isEnabled,c=nt(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}},[s,a,o]),u=Ne(function(m){var y=i();return y||ge(),TZ(n,y,m)},[n,i]),f=nt(function(){return{uniqueId:e,descriptor:n,options:c,getDimension:u}},[n,u,c,e]),g=M.useRef(f),p=M.useRef(!0);Fr(function(){return r.draggable.register(g.current),function(){return r.draggable.unregister(g.current)}},[r.draggable]),Fr(function(){if(p.current){p.current=!1;return}var m=g.current;g.current=f,r.draggable.update(f,m)},[f,r.draggable])}function RZ(t){t.preventDefault()}function IZ(t){var e=M.useRef(null),n=Ne(function(P){e.current=P},[]),r=Ne(function(){return e.current},[]),i=f0(Xv),s=i.contextId,o=i.dragHandleUsageInstructionsId,a=i.registry,c=f0(o_),u=c.type,f=c.droppableId,g=nt(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:f}},[t.draggableId,t.index,u,f]),p=t.children,m=t.draggableId,y=t.isEnabled,x=t.shouldRespectForcePress,C=t.canDragInteractiveElements,b=t.isClone,E=t.mapped,S=t.dropAnimationFinished;if(!b){var A=nt(function(){return{descriptor:g,registry:a,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:x,isEnabled:y}},[g,a,r,C,x,y]);kZ(A)}var T=nt(function(){return y?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:RZ}:null},[s,o,m,y]),k=Ne(function(P){E.type==="DRAGGING"&&E.dropping&&P.propertyName==="transform"&&S()},[S,E]),I=nt(function(){var P=NZ(E),R=E.type==="DRAGGING"&&E.dropping?k:null,O={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":m,style:P,onTransitionEnd:R},dragHandleProps:T};return O},[s,T,m,E,k,n]),D=nt(function(){return{draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}},[g.droppableId,g.id,g.index,g.type]);return p(I,E.snapshot,D)}var dO=function(t,e){return t===e},hO=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},DZ=function(e){return e.combine?e.combine.draggableId:null},PZ=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function jZ(){var t=Cn(function(i,s){return{x:i,y:s}}),e=Cn(function(i,s,o,a,c){return{isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null}}),n=Cn(function(i,s,o,a,c,u,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:s,offset:i,dimension:o,forceShouldAnimate:f,snapshot:e(s,a,c,u,null)}}}),r=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var a=s.current.client.offset,c=s.dimensions.draggables[o.draggableId],u=Lr(s.impact),f=PZ(s.impact),g=s.forceShouldAnimate;return n(t(a.x,a.y),s.movementMode,c,o.isClone,u,f,g)}if(s.phase==="DROP_ANIMATING"){var p=s.completed;if(p.result.draggableId!==o.draggableId)return null;var m=o.isClone,y=s.dimensions.draggables[o.draggableId],x=p.result,C=x.mode,b=hO(x),E=DZ(x),S=s.dropDuration,A={duration:S,curve:XE.drop,moveTo:s.newHomeClientOffset,opacity:E?Hh.opacity.drop:null,scale:E?Hh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:y,dropping:A,draggingOver:b,combineWith:E,mode:C,forceShouldAnimate:null,snapshot:e(C,m,b,E,A)}}}return null};return r}function fO(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var MZ={mapped:{type:"SECONDARY",offset:En,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:fO(null)}};function OZ(){var t=Cn(function(o,a){return{x:o,y:a}}),e=Cn(fO),n=Cn(function(o,a,c){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:e(a)}}}),r=function(a){return a?n(En,a,!0):null},i=function(a,c,u,f){var g=u.displaced.visible[a],p=!!(f.inVirtualList&&f.effected[a]),m=qv(u),y=m&&m.draggableId===a?c:null;if(!g){if(!p)return r(y);if(u.displaced.invisible[a])return null;var x=_u(f.displacedBy.point),C=t(x.x,x.y);return n(C,y,!0)}if(p)return r(y);var b=u.displacedBy.point,E=t(b.x,b.y);return n(E,y,g.shouldAnimate)},s=function(a,c){if(a.isDragging)return a.critical.draggable.id===c.draggableId?null:i(c.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===c.draggableId?null:i(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return s}var LZ=function(){var e=jZ(),n=OZ(),r=function(s,o){return e(s,o)||n(s,o)||MZ};return r},FZ={dropAnimationFinished:WM},UZ=mM(LZ,FZ,null,{context:r_,pure:!0,areStatePropsEqual:dO})(IZ);function gO(t){var e=f0(o_),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:q.createElement(UZ,t)}function a_(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return q.createElement(gO,De({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function BZ(t){var e=M.useContext(Xv);e||ge();var n=e.contextId,r=e.isMovementAllowed,i=M.useRef(null),s=M.useRef(null),o=t.children,a=t.droppableId,c=t.type,u=t.mode,f=t.direction,g=t.ignoreContainerClipping,p=t.isDropDisabled,m=t.isCombineEnabled,y=t.snapshot,x=t.useClone,C=t.updateViewportMaxScroll,b=t.getContainerForClone,E=Ne(function(){return i.current},[]),S=Ne(function(O){i.current=O},[]);Ne(function(){return s.current},[]);var A=Ne(function(O){s.current=O},[]),T=Ne(function(){r()&&C({maxScroll:XM()})},[r,C]);mZ({droppableId:a,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:g,getDroppableRef:E});var k=q.createElement(wZ,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(O){var z=O.onClose,ae=O.data,Z=O.animate;return q.createElement(bZ,{placeholder:ae,onClose:z,innerRef:A,animate:Z,contextId:n,onTransitionEnd:T})}),I=nt(function(){return{innerRef:S,placeholder:k,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,k,S]),D=x?x.dragging.draggableId:null,P=nt(function(){return{droppableId:a,type:c,isUsingCloneFor:D}},[a,D,c]);function R(){if(!x)return null;var O=x.dragging,z=x.render,ae=q.createElement(gO,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Z,G){return z(Z,G,O)});return fB.createPortal(ae,b())}return q.createElement(o_.Provider,{value:P},o(I,y),R())}var m1=function(e,n){return e===n.droppable.type},h4=function(e,n){return n.draggables[e.draggable.id]},HZ=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=De({},e,{shouldAnimatePlaceholder:!1}),r=Cn(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=Cn(function(o,a,c,u,f,g){var p=f.descriptor.id,m=f.descriptor.droppableId===o;if(m){var y=g?{render:g,dragging:r(f.descriptor)}:null,x={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:y}}if(!a)return n;if(!u)return e;var C={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:C,useClone:null}}),s=function(a,c){var u=c.droppableId,f=c.type,g=!c.isDropDisabled,p=c.renderClone;if(a.isDragging){var m=a.critical;if(!m1(f,m))return n;var y=h4(m,a.dimensions),x=Lr(a.impact)===u;return i(u,g,x,x,y,p)}if(a.phase==="DROP_ANIMATING"){var C=a.completed;if(!m1(f,C.critical))return n;var b=h4(C.critical,a.dimensions);return i(u,g,hO(C.result)===u,Lr(C.impact)===u,b,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var E=a.completed;if(!m1(f,E.critical))return n;var S=Lr(E.impact)===u,A=!!(E.impact.at&&E.impact.at.type==="COMBINE"),T=E.critical.droppable.id===u;return S?A?e:n:T?e:n}return n};return s},zZ={updateViewportMaxScroll:XQ};function GZ(){return document.body||ge(),document.body}var $Z={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:GZ},l_=mM(HZ,zZ,null,{context:r_,pure:!0,areStatePropsEqual:dO})(BZ);l_.defaultProps=$Z;function VZ({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const WZ=M.forwardRef(VZ);function qZ({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const KZ=M.forwardRef(qZ);function YZ({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const QZ=M.forwardRef(YZ);function XZ({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const JZ=M.forwardRef(XZ),ZZ=({data:t,onUpdate:e,readonly:n=!1})=>{var b,E,S,A,T,k,I,D,P,R,O,z,ae,Z,G,$,le,X,pe,te,ie,ue,Ce,W,se,ce,L,ne,me,Te,Ae,et,Je,Rt,tt,Qn,gn,Nr,Ki,Yr,jf,Mf,Of,co,Lf,Ff,Uf,Bf,Hf,zf,Gf,$f,Vf;const r=(V,He)=>{n||e({...t,contractor:{...t.contractor,[V]:He}})},i=(V,He)=>{n||e({...t,client:{...t.client,[V]:He}})},s=(V,He)=>{n||e({...t,summary:{...t.summary,[V]:He}})},o=V=>{n||e({...t,scopeDescription:V})},a=(V,He)=>{n||e({...t,introduction:{...t.introduction,[V]:He}})},c=(V,He)=>{n||e({...t,scopeOfServices:{...t.scopeOfServices,[V]:He}})},u=(V,He)=>{n||e({...t,milestones:{...t.milestones,[V]:He}})},f=(V,He)=>{n||e({...t,architecture:{...t.architecture,[V]:He}})},g=(V,He)=>{n||e({...t,activities:{...t.activities,[V]:He}})},p=(V,He)=>{n||e({...t,rolesAndResponsibilities:{...t.rolesAndResponsibilities,[V]:He}})},m=(V,He)=>{n||e({...t,deliverables:{...t.deliverables,[V]:He}})},y=(V,He)=>{n||e({...t,riskAssessment:{...t.riskAssessment,[V]:He}})},x=(V,He)=>{n||e({...t,masterServicesAgreement:{...t.masterServicesAgreement,[V]:He}})},C=(V,He)=>{n||e({...t,authorization:{...t.authorization,[V]:He}})};return l.jsxs("div",{className:"bg-white border border-gray-300 mb-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"1. CONTACT INFORMATION"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsxs("table",{className:"w-full border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"w-1/2 bg-gray-100 border border-gray-300 px-4 py-3 text-left font-bold text-gray-900",children:"CONTRACTOR INFORMATION"}),l.jsx("th",{className:"w-1/2 bg-gray-100 border border-gray-300 px-4 py-3 text-left font-bold text-gray-900",children:"CLIENT INFORMATION"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Company Name:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:t.contractor.companyName,onChange:V=>r("companyName",V.target.value),placeholder:"The Zig Group, Inc",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})}),l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Company Name:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:t.client.companyName,onChange:V=>i("companyName",V.target.value),placeholder:"Client Company Name",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Contact:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:t.contractor.contact,onChange:V=>r("contact",V.target.value),placeholder:"Christopher Chileshe",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})}),l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Contact:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:t.client.contact,onChange:V=>i("contact",V.target.value),placeholder:"Client Contact Name",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Title:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:t.contractor.title,onChange:V=>r("title",V.target.value),placeholder:"CEO",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})}),l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Title:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:t.client.title,onChange:V=>i("title",V.target.value),placeholder:"Client Title",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Address:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:t.contractor.address,onChange:V=>r("address",V.target.value),placeholder:`450 Alaskan Way South
Suite 200 - #9887
Seattle, Washington, USA
98104`,className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:3,readOnly:n})})]})}),l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Address:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:t.client.address,onChange:V=>i("address",V.target.value),placeholder:"Client Address",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:3,readOnly:n})})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Email:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"email",value:t.contractor.email,onChange:V=>r("email",V.target.value),placeholder:"chris@thezig.io",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})}),l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Email:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"email",value:t.client.email,onChange:V=>i("email",V.target.value),placeholder:"client@company.com",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Phone:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"tel",value:t.contractor.phone,onChange:V=>r("phone",V.target.value),placeholder:"206-822-3804",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})}),l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-24 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Phone:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"tel",value:t.client.phone,onChange:V=>i("phone",V.target.value),placeholder:"Client Phone",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})]})]})]})}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"2. SUMMARY"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Services:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:((b=t.summary)==null?void 0:b.services)||"",onChange:V=>s("services",V.target.value),placeholder:"Custom software engineering",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Effective Date:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:((E=t.summary)==null?void 0:E.effectiveDate)||"",onChange:V=>s("effectiveDate",V.target.value),placeholder:"TBC",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Termination:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:((S=t.summary)==null?void 0:S.termination)||"",onChange:V=>s("termination",V.target.value),placeholder:"Upon completion.",className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})})]})})})]}),l.jsx("div",{className:"my-6",children:l.jsx("textarea",{value:t.scopeDescription||"The scope of this SOW is limited to creating a fully functional solution with the features detailed further in the SOW. Any functionality listed beyond the scope of the work breakdown sheet is purely for documentation and completeness. This SOW will outline the phases involved in developing such a solution, capture high-level client requirements, and provide details necessary for the successful delivery of the solution.",onChange:V=>o(V.target.value),className:"w-full p-4 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",style:{height:"150px"},readOnly:n})}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"3. INTRODUCTION"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Introduction:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:((A=t.introduction)==null?void 0:A.introduction)||"Company bio & project overview",onChange:V=>a("introduction",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Background:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:((T=t.introduction)==null?void 0:T.background)||"Project information",onChange:V=>a("background",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})})]})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4. SCOPE OF SERVICES"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",colSpan:2,children:l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"4.1 Service"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded border mb-4",children:l.jsx("textarea",{value:((k=t.scopeOfServices)==null?void 0:k.introduction)||`The Zig is pleased to present this proposal to [Company name] to create the [product] that will enable [Company name] stakeholders to [project aim].

The core functionality will allow for the following:
 List functionality and purposes in bullet point form.`,onChange:V=>c("introduction",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:4,readOnly:n})}),l.jsx("textarea",{value:((I=t.scopeOfServices)==null?void 0:I.service)||"The scope of this SOW is limited to creating a fully functional solution with the features listed above and detailed further in the SOW. Any functionality listed beyond the scope of the work breakdown sheet is purely for documentation and completeness. This SOW will outline the phases involved in developing such a solution, capture high-level client requirements, and provide details necessary for the successful delivery of the solution.",onChange:V=>c("service",V.target.value),className:"w-full p-3 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",style:{height:"150px"},readOnly:n})]})})})})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4.2 Planning"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-40 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"4.2.1 Approach:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((D=t.scopeOfServices)==null?void 0:D.planningApproach)||"To decrease project risk and offer the Client better control and influence over the ongoing work, The Zig proposes the below approach to developing this platform. This will help provide predictable and well-understood solutions that support the Client's objectives.",onChange:V=>c("planningApproach",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:4,readOnly:n})})]})})})})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4.2.2 Service Phases"})}),l.jsx("div",{className:"p-4",children:l.jsx("textarea",{value:((P=t.scopeOfServices)==null?void 0:P.phasesDescription)||"Detailed planning, clear roles, responsibilities, and strong governance are essential to project success. The Zig will provide Audit, Analyze, Implement, and Validate services to support Client objectives.",onChange:V=>c("phasesDescription",V.target.value),className:"w-full p-3 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white mb-4",rows:2,readOnly:n})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Audit:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((R=t.scopeOfServices)==null?void 0:R.auditDescription)||`The outcome of the Audit process will be an architecture document that will map the current state to the desired state.

Add audit process details...`,onChange:V=>c("auditDescription",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:4,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Analyze:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((O=t.scopeOfServices)==null?void 0:O.analyzeDescription)||`The outcome of the Analyze phase will be an implementation document that maps specific tasks to the desired state.

Add analyze phase details...`,onChange:V=>c("analyzeDescription",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:4,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Implementation:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((z=t.scopeOfServices)==null?void 0:z.implementationDescription)||`The Implementation phase assigns tasks and aligns the work to a developer/team/stakeholder to achieve the desired state.

Add implementation phase details...`,onChange:V=>c("implementationDescription",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:4,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Validation:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((ae=t.scopeOfServices)==null?void 0:ae.validationDescription)||`The Validation phase ensures that work performed during the Implementation phase meets stated goals. Otherwise referred to as User Accepted Testing, end-users (in this case, all stakeholders) provide additional feedback. Only minor changes are permitted to address bugs or less than ideal implementation.

Add validation phase details...`,onChange:V=>c("validationDescription",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:5,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Feedback:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((Z=t.scopeOfServices)==null?void 0:Z.feedbackNote)||"The Zig will encourage feedback throughout all stages of the engagement to minimize the risk of significant changes taking place at the end of the project.",onChange:V=>c("feedbackNote",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:3,readOnly:n})})]})})})]})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4.3 Milestones"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Description:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((G=t.milestones)==null?void 0:G.description)||"The below milestones are an estimate of what the project will incorporate. Sections marked in red are yet to be scoped.",onChange:V=>u("description",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:3,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"WBS:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:(($=t.milestones)==null?void 0:$.wbsNote)||"Insert WBS.",onChange:V=>u("wbsNote",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:2,readOnly:n})})]})})})]})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4.4 Architecture"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-40 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"4.4.1 Diagram:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((le=t.architecture)==null?void 0:le.diagramNote)||"Add architectural diagram or description...",onChange:V=>f("diagramNote",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:3,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-40 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"4.4.2 Description:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((X=t.architecture)==null?void 0:X.descriptionNote)||"Describe the technical architecture...",onChange:V=>f("descriptionNote",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:4,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-40 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"4.4.3 Cost Note:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((pe=t.architecture)==null?void 0:pe.costEstimateNote)||"This is an example",onChange:V=>f("costEstimateNote",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:2,readOnly:n})})]})})})]})})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"mt-4 overflow-x-auto",children:l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cost estimation table will be added here."})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4.5 Activities"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-48 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"4.5.1 Execution Phases:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((te=t.activities)==null?void 0:te.executionNote)||"The project will accomplish the following items during execution:",onChange:V=>g("executionNote",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:2,readOnly:n})})]})})})})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-base font-bold text-gray-900 mb-3",children:"Stage Estimate Description (This is an example)"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsx("table",{className:"w-full border-collapse border border-gray-300",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-4 py-3 bg-gray-50 font-bold w-1/3",children:"DISCOVERY (Audit & Analyze)"}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:l.jsx("textarea",{value:((ie=t.activities)==null?void 0:ie.discoveryItems)||` Requirements gathering.
 Audit of current platform
 Validation of technical implementation`,onChange:V=>g("discoveryItems",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:3,readOnly:n})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-4 py-3 bg-gray-50 font-bold",children:"EXECUTE (Implementation)"}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:l.jsx("textarea",{value:((ue=t.activities)==null?void 0:ue.executeItems)||` Develop the functions and integration scripts
 Developer Testing`,onChange:V=>g("executeItems",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:2,readOnly:n})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-4 py-3 bg-gray-50 font-bold",children:"DEPLOY (Validation)"}),l.jsx("td",{className:"border border-gray-300 px-4 py-3",children:l.jsx("textarea",{value:((Ce=t.activities)==null?void 0:Ce.deployItems)||` User Acceptance Testing
 Minor Bug Fixes
 Prepare platform for public release and deploy`,onChange:V=>g("deployItems",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:3,readOnly:n})})]})]})})}),l.jsx("div",{className:"mt-4",children:l.jsx("textarea",{value:((W=t.activities)==null?void 0:W.breakdownNote)||"* This breakdown assumes the project takes the minimum amount of time allocated in the SOW based on the milestones breakdown in section 3.",onChange:V=>g("breakdownNote",V.target.value),className:"w-full p-3 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white italic",rows:2,readOnly:n})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4.5.2 Deliverables"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm italic",children:"Discovery:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((ce=(se=t.activities)==null?void 0:se.deliverables)==null?void 0:ce.discovery)||"Gather details for each milestone by interviewing stakeholders.",onChange:V=>{var He;return g("deliverables",{...(He=t.activities)==null?void 0:He.deliverables,discovery:V.target.value})},className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:2,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm italic",children:"Implement:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((ne=(L=t.activities)==null?void 0:L.deliverables)==null?void 0:ne.implement)||"Onsite/Offsite completion of all user stories identified and source code where applicable.",onChange:V=>{var He;return g("deliverables",{...(He=t.activities)==null?void 0:He.deliverables,implement:V.target.value})},className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:2,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm italic",children:"Validate:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((Te=(me=t.activities)==null?void 0:me.deliverables)==null?void 0:Te.validate)||"Build/Release pipelines, dashboards & alerting, and testing.",onChange:V=>{var He;return g("deliverables",{...(He=t.activities)==null?void 0:He.deliverables,validate:V.target.value})},className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:2,readOnly:n})})]})})})]})})})]})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"4.6 Roles & responsibilities"})}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-base font-bold text-gray-900 mb-3",children:"Assigned Resources"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-bold text-sm",children:"Staffing:"}),l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-bold text-sm",children:"Project Manager"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-3 py-2"}),l.jsx("td",{className:"border border-gray-300 px-3 py-2",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm mb-2",children:"Project Manager - Responsible for:"}),l.jsx("textarea",{value:((Ae=t.rolesAndResponsibilities)==null?void 0:Ae.projectManagerResponsibilities)||` Overall project plan
 Maintains schedule and delivery
 Manages dependencies and upstream requirements
 Provides regular status reports to clients (weekly project status updates)
 End of Sprint Demos
 Helps collect feedback from stakeholders (including pilot users)`,onChange:V=>p("projectManagerResponsibilities",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:4,readOnly:n})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm mb-2",children:"Software Engineers - Responsible for:"}),l.jsx("textarea",{value:((et=t.rolesAndResponsibilities)==null?void 0:et.softwareEngineersResponsibilities)||` Front/Back-end Development
 Integrations with 3rd party systems
 Testing`,onChange:V=>p("softwareEngineersResponsibilities",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:3,readOnly:n})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm mb-2",children:"Designer - Responsible for:"}),l.jsx("textarea",{value:((Je=t.rolesAndResponsibilities)==null?void 0:Je.designerResponsibilities)||` UI/UX design
 Digital assets
 Maintaining a cohesive user experience for all users
 Design Demos
 Helps collect feedback from stakeholders`,onChange:V=>p("designerResponsibilities",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:3,readOnly:n})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-sm mb-2",children:"Client Project Sponsor - Responsible for:"}),l.jsx("textarea",{value:((Rt=t.rolesAndResponsibilities)==null?void 0:Rt.clientResponsibilities)||` Point of contact for financials
 Approves project engagement documents
 Participates in key project meetings
 Actively participates in project communication
 Subject matter expert
 Reviews project status reports
 Reviews and approves project documents`,onChange:V=>p("clientResponsibilities",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:4,readOnly:n})]})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-3 py-2 bg-gray-50 font-bold text-sm",children:"Mutual Responsibilities"}),l.jsx("td",{className:"border border-gray-300 px-3 py-2",children:l.jsx("textarea",{value:((tt=t.rolesAndResponsibilities)==null?void 0:tt.mutualResponsibilities)||` Communication
 Involvement in all aspects of the services
 Timely and effective completion of responsibilities, as identified in this document.
 Timely decisions and approvals`,onChange:V=>p("mutualResponsibilities",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:3,readOnly:n})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-3 py-2 bg-gray-50 font-bold text-sm",children:"Changes:"}),l.jsx("td",{className:"border border-gray-300 px-3 py-2",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{value:((Qn=t.rolesAndResponsibilities)==null?void 0:Qn.changes)||"The Zig may remove or cancel assigned staff, subject to 30 days written notice. If any staff resigns or is required to be terminated without the ability to give 30 days' notice, The Zig will have a reasonable time to assign replacement staff. The client may request staff changes, which The Zig will use its reasonable efforts to accommodate",onChange:V=>p("changes",V.target.value),className:"w-full p-3 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:4,readOnly:n}),l.jsx("textarea",{value:((gn=t.rolesAndResponsibilities)==null?void 0:gn.additionalStaff)||"Should either party propose any changes that will directly affect the project scope covered in this Statement of Work (SOW), this shall be treated as a Change Request. This will have to be approved by both parties before any further implementation.",onChange:V=>p("additionalStaff",V.target.value),className:"w-full p-3 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:4,readOnly:n})]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-3 py-2 bg-gray-50 font-bold text-sm",children:"Additional Staff:"}),l.jsx("td",{className:"border border-gray-300 px-3 py-2",children:l.jsx("textarea",{value:((Nr=t.rolesAndResponsibilities)==null?void 0:Nr.additionalStaff)||"If the Services expand and The Zig or Client determines additional staffing is reasonably needed, additional staff may be assigned, and the Fees adjusted according per confirmed writing agreed upon by The Zig and Client.",onChange:V=>p("additionalStaff",V.target.value),className:"w-full p-3 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:3,readOnly:n})})]})]})]})})]})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"5. DELIVERABLES"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-48 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Agreed Deliverables:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((Ki=t.deliverables)==null?void 0:Ki.agreedDeliverables)||`Company is expected to deliver the following:

An example:

1. Android Mobile application
2. PowerApps App
3. PowerBI Dashboards
4. Architectural documentation`,onChange:V=>m("agreedDeliverables",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:6,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-48 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Review and Revision:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((Yr=t.deliverables)==null?void 0:Yr.reviewAndRevision)||"Client review of each end of sprint (based on cadence determined with the Client, typically 2-week cadence). The Zig and Client to coordinate on meetings to discuss revisions.",onChange:V=>m("reviewAndRevision",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:3,readOnly:n})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-48 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Native Files:"}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",value:((jf=t.deliverables)==null?void 0:jf.nativeFiles)||"Deployed to repository of the client's choosing",onChange:V=>m("nativeFiles",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent",readOnly:n})})]})})})]})})}),l.jsx("div",{className:"border-t border-gray-300",children:l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-48 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Expenses:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((Mf=t.deliverables)==null?void 0:Mf.expenses)||"The Zig may request pre-approval and reimbursement from the Client (but subject to pre-approval at the Client's sole discretion): travel at the request of the Client, software licenses required by Client, or specialty hardware.",onChange:V=>m("expenses",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:3,readOnly:n})})]})})})})})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"5. RISK ASSESSMENT"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsx("tbody",{children:l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Project score:"}),l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{value:((Of=t.riskAssessment)==null?void 0:Of.projectScore)||"This is a 1-10 score that helps both parties determine the overall level of risk associated with the project. Higher scoring projects contain a greater number of known risks that have been classified as high. Ultimately the score will help identify a need for providing clarity and solutions early on for the high-risk items. The project manager will be responsible for tackling the risks beginning with highest risk and working to adjust the score downwards.",onChange:V=>y("projectScore",V.target.value),className:"w-full p-2 text-sm border-0 focus:outline-none bg-transparent resize-none",rows:5,readOnly:n})})]})})})})})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-bold text-sm",children:"Risk"}),l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-bold text-sm",children:"Risk level"}),l.jsx("th",{className:"border border-gray-300 px-3 py-2 text-left font-bold text-sm",children:"Description"})]})}),l.jsx("tbody",{children:(((co=t.riskAssessment)==null?void 0:co.riskItems)||[{risk:"Availability of Stakeholder",riskLevel:"3",description:"The Zig's ability to deliver on the scope of this SOW largely depends on the availability of all stakeholders to answer questions and participate in interviews and meetings."},{risk:"Unforeseen Interruptions",riskLevel:"3",description:"Unexpected personal issues with either the Client or the staff responsible for delivery at The Zig."}]).map((V,He)=>l.jsxs("tr",{children:[l.jsx("td",{className:"border border-gray-300 px-3 py-2 text-sm",children:l.jsx("input",{type:"text",value:V.risk,onChange:Ra=>{var Yi;const yi=[...((Yi=t.riskAssessment)==null?void 0:Yi.riskItems)||[]];yi[He]={...V,risk:Ra.target.value},y("riskItems",yi)},className:"w-full p-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})}),l.jsx("td",{className:"border border-gray-300 px-3 py-2 text-sm text-center",children:l.jsx("input",{type:"text",value:V.riskLevel,onChange:Ra=>{var Yi;const yi=[...((Yi=t.riskAssessment)==null?void 0:Yi.riskItems)||[]];yi[He]={...V,riskLevel:Ra.target.value},y("riskItems",yi)},className:"w-full p-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-center",readOnly:n})}),l.jsx("td",{className:"border border-gray-300 px-3 py-2 text-sm",children:l.jsx("textarea",{value:V.description,onChange:Ra=>{var Yi;const yi=[...((Yi=t.riskAssessment)==null?void 0:Yi.riskItems)||[]];yi[He]={...V,description:Ra.target.value},y("riskItems",yi)},className:"w-full p-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none",rows:2,readOnly:n})})]},He))})]})})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"6. MASTER SERVICES AGREEMENT"})}),l.jsx("div",{className:"p-4",children:l.jsx("textarea",{value:((Lf=t.masterServicesAgreement)==null?void 0:Lf.agreementText)||`This Statement of Work ("SOW") is made under and pursuant to that Master Services Agreement entered into between The ZIG and Client, dated 12/07/2023 (the "MSA"). In the event of any conflict with this SOW and the Agreement, the Agreement will govern.

The parties may modify the terms of this SOW by submitting a written proposed change order, which will become part of the applicable SOW when executed by both parties, and the services described therein will become part of the Services. All terms not defined in this SOW have the meaning in the MSA.`,onChange:V=>x("agreementText",V.target.value),className:"w-full p-3 text-sm border border-gray-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",rows:6,readOnly:n})})]}),l.jsxs("div",{className:"bg-white border border-gray-300 mt-6",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-300",children:l.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"7. AUTHORIZATION"})}),l.jsx("div",{className:"overflow-hidden",children:l.jsx("table",{className:"w-full border-collapse",children:l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"Client:"}),l.jsx("div",{className:"flex-1 p-3",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Signature:"}),l.jsx("input",{type:"text",value:((Ff=t.authorization)==null?void 0:Ff.clientSignature)||"________________________",onChange:V=>C("clientSignature",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date:"}),l.jsx("input",{type:"text",value:((Uf=t.authorization)==null?void 0:Uf.clientDate)||"______________",onChange:V=>C("clientDate",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name (Print):"}),l.jsx("input",{type:"text",value:((Bf=t.authorization)==null?void 0:Bf.clientName)||"",onChange:V=>C("clientName",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title:"}),l.jsx("input",{type:"text",value:((Hf=t.authorization)==null?void 0:Hf.clientTitle)||"CEO",onChange:V=>C("clientTitle",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]})]})]})})]})})}),l.jsx("tr",{children:l.jsx("td",{className:"border border-gray-300 p-0",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-32 bg-gray-50 border-r border-gray-300 px-3 py-2 font-medium text-sm",children:"The Zig Group, Inc:"}),l.jsx("div",{className:"flex-1 p-3",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Signature:"}),l.jsx("input",{type:"text",value:((zf=t.authorization)==null?void 0:zf.contractorSignature)||"________________________",onChange:V=>C("contractorSignature",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Date:"}),l.jsx("input",{type:"text",value:((Gf=t.authorization)==null?void 0:Gf.contractorDate)||"______________",onChange:V=>C("contractorDate",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name (Print):"}),l.jsx("input",{type:"text",value:(($f=t.authorization)==null?void 0:$f.contractorName)||"Christopher Chileshe",onChange:V=>C("contractorName",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Title:"}),l.jsx("input",{type:"text",value:((Vf=t.authorization)==null?void 0:Vf.contractorTitle)||"CEO",onChange:V=>C("contractorTitle",V.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",readOnly:n})]})]})]})})]})})})]})})})]})]})},eee=({section:t,index:e,onEdit:n,onDelete:r})=>{const[i,s]=M.useState(!1),[o,a]=M.useState(t.content),c=()=>{n(t.id,o),s(!1)},u=()=>{a(t.content),s(!1)};return l.jsx(a_,{draggableId:t.id,index:e,children:(f,g)=>l.jsxs("div",{ref:f.innerRef,...f.draggableProps,className:`
            space-y-4 mb-6 p-4 rounded-lg transition-all duration-200
            ${g.isDragging?"shadow-lg bg-blue-50 border-2 border-blue-300":"hover:bg-gray-50"}
            ${t.required?"border-l-4 border-l-orange-400":""}
          `,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{...f.dragHandleProps,className:"cursor-grab active:cursor-grabbing text-gray-400 hover:text-gray-600",children:l.jsx(WZ,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.title}),t.required&&l.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded",children:"Required"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>s(!i),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:l.jsx(KZ,{className:"w-4 h-4"})}),!t.required&&l.jsx("button",{onClick:()=>r(t.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:l.jsx(QZ,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"prose prose-gray max-w-none",children:i?l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{value:o,onChange:p=>a(p.target.value),className:"w-full h-32 p-3 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter section content..."}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:u,className:"px-3 py-1 text-sm text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:c,className:"px-3 py-1 text-sm text-white bg-blue-600 rounded hover:bg-blue-700",children:"Save"})]})]}):l.jsx("div",{className:"cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:()=>s(!0),children:t.content||l.jsx("span",{className:"text-gray-400 italic",children:"Click to add content..."})})})]})})};function tee({template:t,sections:e,onSectionsChange:n,onContactInformationChange:r}){const i=(a,c)=>{const u=e.map(f=>f.id===a?{...f,content:c}:f);n(u)},s=a=>{const c=e.filter(u=>u.id!==a);n(c)},o={contractor:{companyName:"The Zig Group, Inc",contact:"Christopher Chileshe",title:"CEO",address:`450 Alaskan Way South
Suite 200 - #9887
Seattle, Washington, USA
98104`,email:"chris@thezig.io",phone:"206-822-3804"},client:{companyName:"",contact:"",title:"",address:"",email:"",phone:""},summary:{services:"Custom software engineering",effectiveDate:"TBC",termination:"Upon completion."},scopeDescription:"The scope of this SOW is limited to creating a fully functional solution with the features detailed further in the SOW. Any functionality listed beyond the scope of the work breakdown sheet is purely for documentation and completeness. This SOW will outline the phases involved in developing such a solution, capture high-level client requirements, and provide details necessary for the successful delivery of the solution.",introduction:{introduction:"Company bio & project overview",background:"Project information"},scopeOfServices:{service:"",planningApproach:"To decrease project risk and offer the Client better control and influence over the ongoing work, The Zig proposes the below approach to developing this platform. This will help provide predictable and well-understood solutions that support the Client's objectives.",auditDescription:"",analyzeDescription:"",implementationDescription:"",validationDescription:"",feedbackNote:"The Zig will encourage feedback throughout all stages of the engagement to minimize the risk of significant changes taking place at the end of the project."},milestones:{description:"The below milestones are an estimate of what the project will incorporate. Sections marked in red are yet to be scoped.",wbsNote:"Insert WBS."},architecture:{diagramNote:"",descriptionNote:"",costEstimateNote:"This is an example",costItems:[{serviceCategory:"Databases",serviceType:"Azure Database for PostgreSQL",region:"South Africa North",description:"Single Server Deployment, General Purpose Tier, 1 Gen 5 (2 vCore), 1 year reserved",estimatedMonthlyCost:"$132.50"},{serviceCategory:"Analytics",serviceType:"Azure Data Factory",region:"East US",description:"Azure Data Factory V2 Type",estimatedMonthlyCost:"$26.00"},{serviceCategory:"Developer tools",serviceType:"Azure DevOps",region:"",description:"2 Basic Plan license users, 1 Free tier - Hosted Pipeline",estimatedMonthlyCost:"$0.00"},{serviceCategory:"Mobile",serviceType:"App Center",region:"",description:"1 Build concurrencies,",estimatedMonthlyCost:"$40.00"},{serviceCategory:"Analytics",serviceType:"PowerBI Power User",region:"",description:"1 PowerBI license for Developing Dashboards",estimatedMonthlyCost:"$20.00"}]},activities:{executionNote:"The project will accomplish the following items during execution:",stageDescription:"Stage Estimate Description (This is an example)",discoveryItems:["Requirements gathering.","Audit of current platform","Validation of technical implementation"],executeItems:["Develop the functions and integration scripts","Developer Testing"],deployItems:["User Acceptance Testing","Minor Bug Fixes","Prepare platform for public release and deploy"],breakdownNote:"* This breakdown assumes the project takes the minimum amount of time allocated in the SOW based on the milestones breakdown in section 3.",deliverables:{discovery:"Gather details for each milestone by interviewing stakeholders.",implement:"Onsite/Offsite completion of all user stories identified and source code where applicable.",validate:"Build/Release pipelines, dashboards & alerting, and testing."}},rolesAndResponsibilities:{projectManager:{responsibilities:["Overall project plan","Maintains schedule and delivery","Manages dependencies and upstream requirements","Provides regular status reports to clients (weekly project status updates)","End of Sprint Demos","Helps collect feedback from stakeholders (including pilot users)"]},softwareEngineers:{responsibilities:["Front/Back-end Development","Integrations with 3rd -party systems","Testing"]},designer:{responsibilities:["UI/UX design","Digital assets","Maintaining a cohesive user experience for all users","Design Demos","Helps collect feedback from stakeholders"]},clientProjectSponsor:{responsibilities:["Point of contact for financials","Approves project engagement documents","Participates in key project meetings","Actively participates in project communication","Subject matter expert","Reviews project status reports","Actively participates in project communication","Reviews and approves project documents"],additionalResponsibilities:[]},mutualResponsibilities:["Communication","Involvement in all aspects of the services","Timely and effective completion of responsibilities, as identified in this document.","Timely decisions and approvals"],changes:"The Zig may remove or cancel assigned staff, subject to 30 days written notice. If any staff resigns or is required to be terminated without the ability to give 30 days' notice, The Zig will have a reasonable time to assign replacement staff. The client may request staff changes, which The Zig will use its reasonable efforts to accommodate",additionalStaff:"If the Services expand and The Zig or Client determines additional staffing is reasonably needed, additional staff may be assigned, and the Fees adjusted according per confirmed writing agreed upon by The Zig and Client."}};return l.jsx("div",{className:"p-8 max-w-[816px] mx-auto bg-white min-h-full shadow-sm",children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"text-center border-b pb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.title??t.name??"Untitled SOW"}),l.jsx("p",{className:"text-gray-500",children:"Statement of Work"})]}),l.jsx(ZZ,{data:t.contactInformation||o,onUpdate:a=>{r&&r(a)}}),l.jsx(l_,{droppableId:"document-sections",children:(a,c)=>l.jsxs("div",{ref:a.innerRef,...a.droppableProps,className:`
                min-h-[400px] transition-colors duration-200 rounded-lg overflow-auto
                ${c.isDraggingOver?"bg-blue-50 border-2 border-dashed border-blue-300":""}
                group
              `,children:[e.length===0?l.jsx("div",{className:"flex items-center justify-center h-64 border-2 border-dashed border-gray-300 rounded-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-400 mb-2",children:l.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("p",{className:"text-gray-600",children:"Drop SOW components here"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Drag components from the Builder tab to start building your SOW"})]})}):e.map((u,f)=>l.jsx(eee,{section:u,index:f,onEdit:i,onDelete:s},u.id)),a.placeholder]})})]})})}const pO=[{title:"Project Overview",description:"High-level description of the project scope and objectives",defaultContent:"Describe the overall project goals and objectives...",required:!0},{title:"Scope of Work",description:"Detailed breakdown of project deliverables and requirements",defaultContent:"List the specific deliverables and requirements...",required:!0},{title:"Timeline",description:"Project schedule with key milestones and deadlines",defaultContent:"Outline the project timeline and major milestones...",required:!1},{title:"Pricing & Payment Terms",description:"Cost breakdown and payment schedule",defaultContent:"Detail the project costs and payment terms...",required:!0},{title:"Technical Requirements",description:"Technical specifications and requirements",defaultContent:"Specify the technical requirements and standards...",required:!1},{title:"Team Structure",description:"Project team composition and roles",defaultContent:"Define the project team structure and responsibilities...",required:!1},{title:"Acceptance Criteria",description:"Criteria for deliverable acceptance",defaultContent:"List the acceptance criteria for project deliverables...",required:!1},{title:"Terms & Conditions",description:"Legal terms and conditions",defaultContent:"Standard terms and conditions...",required:!0}];function nee({isOpen:t,onClose:e,onSave:n}){const[r,i]=M.useState({title:"",description:"",defaultContent:"",required:!1}),[s,o]=M.useState({}),a=(g,p)=>{i(m=>({...m,[g]:p})),s[g]&&o(m=>({...m,[g]:void 0}))},c=()=>{const g={};return r.title.trim()||(g.title="Title is required"),r.description.trim()||(g.description="Description is required"),r.defaultContent.trim()||(g.defaultContent="Default content is required"),o(g),Object.keys(g).length===0},u=g=>{g.preventDefault(),c()&&(n(r),f())},f=()=>{i({title:"",description:"",defaultContent:"",required:!1}),o({}),e()};return t?l.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:l.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:f}),l.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[l.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New SOW Component"}),l.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(JZ,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Component Title *"}),l.jsx("input",{type:"text",id:"title",value:r.title,onChange:g=>a("title",g.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${s.title?"border-red-300":"border-gray-300"}`,placeholder:"e.g., Project Risks"}),s.title&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.title})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),l.jsx("input",{type:"text",id:"description",value:r.description,onChange:g=>a("description",g.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${s.description?"border-red-300":"border-gray-300"}`,placeholder:"Brief description of what this component covers"}),s.description&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.description})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"defaultContent",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Content *"}),l.jsx("textarea",{id:"defaultContent",rows:4,value:r.defaultContent,onChange:g=>a("defaultContent",g.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${s.defaultContent?"border-red-300":"border-gray-300"}`,placeholder:"Default content that will appear when this component is added to a SOW..."}),s.defaultContent&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.defaultContent})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"required",checked:r.required,onChange:g=>a("required",g.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"required",className:"ml-2 block text-sm text-gray-700",children:"Mark as required component"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[l.jsx("button",{onClick:u,type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:"Add Component"}),l.jsx("button",{onClick:f,type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})]})}):null}const f4="zigos-custom-components";function ree(){const[t,e]=M.useState([]);return M.useEffect(()=>{try{const a=localStorage.getItem(f4);if(a){const c=JSON.parse(a);e(c)}}catch(a){console.error("Error loading custom components:",a)}},[]),M.useEffect(()=>{try{localStorage.setItem(f4,JSON.stringify(t))}catch(a){console.error("Error saving custom components:",a)}},[t]),{customComponents:t,addComponent:a=>{const c={id:rr(),...a,isCustom:!0,createdAt:new Date().toISOString()};return e(u=>[...u,c]),c},updateComponent:(a,c)=>{e(u=>u.map(f=>f.id===a?{...f,...c}:f))},deleteComponent:a=>{e(c=>c.filter(u=>u.id!==a))},getComponentById:a=>t.find(c=>c.id===a),isComponentTitleTaken:(a,c)=>t.some(u=>u.title.toLowerCase()===a.toLowerCase()&&u.id!==c)}}const iee=({component:t,index:e})=>l.jsx(a_,{draggableId:`component-${t.title}`,index:e,children:(n,r)=>l.jsx("div",{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,className:`
            p-4 mb-3 bg-white border-2 border-gray-200 rounded-lg cursor-grab active:cursor-grabbing
            hover:border-blue-300 hover:shadow-md transition-all duration-200
            ${r.isDragging?"shadow-lg border-blue-400 rotate-2":""}
            ${t.required?"border-l-4 border-l-orange-400":""}
          `,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:[t.title,t.required&&l.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"Required"})]}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:t.description})]}),l.jsx("div",{className:"ml-3 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]})})});function see(){const{customComponents:t,addComponent:e}=ree(),[n,r]=q.useState(!1);return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"SOW Components"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Drag components from here to build your Statement of Work"})]}),l.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center space-x-1 px-3 py-1.5 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"New"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Default"}),l.jsx("div",{className:"space-y-2",children:pO.map((i,s)=>l.jsx(iee,{component:i,index:s},i.title))})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Custom"}),t.length===0?l.jsx("div",{className:"text-sm text-gray-500 border border-dashed rounded p-3",children:"No custom components yet. Click New to create one."}):l.jsx("div",{className:"space-y-2",children:t.map((i,s)=>l.jsx(a_,{draggableId:`custom-${i.id}`,index:s,children:(o,a)=>l.jsx("div",{ref:o.innerRef,...o.draggableProps,...o.dragHandleProps,className:`p-4 mb-3 bg-white border-2 border-gray-200 rounded-lg cursor-grab active:cursor-grabbing hover:border-blue-300 hover:shadow-md transition-all duration-200 ${a.isDragging?"shadow-lg border-blue-400 rotate-2":""} ${i.required?"border-l-4 border-l-orange-400":""}`,children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:[i.title,i.required&&l.jsx("span",{className:"ml-2 text-xs text-orange-600 font-normal",children:"Required"})]}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i.description})]})})})},i.id))})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How to use:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Drag components to the right panel"}),l.jsx("li",{children:" Click on dropped components to edit"}),l.jsx("li",{children:" Reorder sections by dragging"}),l.jsx("li",{children:" Required components are marked in orange"})]})]})]}),l.jsx(nee,{isOpen:n,onClose:()=>r(!1),onSave:i=>{e(i),r(!1)}})]})}const Sf=bu(t=>({documents:[{id:"1",title:"Sample SOW",client:"Test Client",status:"draft",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1,createdBy:"user-1",approvals:[],content:{title:"Sample SOW",sections:[{title:"Project Overview",content:"This is a sample project overview.",required:!0}]},history:[{timestamp:new Date().toISOString(),userId:"user-1",action:"created"}]}],approvalSteps:[{id:"1",role:"approver",department:"Technical",minApprovers:1,order:1},{id:"2",role:"approver",department:"Finance",minApprovers:1,threshold:5e4,order:2},{id:"3",role:"approver",department:"Legal",minApprovers:1,threshold:1e5,order:3}],currentUser:{id:"user-1",name:"John Doe",email:"john@example.com",role:"creator",department:"Sales"},notifications:[],createDocument:e=>t(pt(n=>{var i,s;const r={id:rr(),title:e.title||"Untitled SOW",client:e.client||"",status:"draft",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1,createdBy:((i=n.currentUser)==null?void 0:i.id)||"",approvals:[],content:e.content||{title:"",sections:[]},history:[{timestamp:new Date().toISOString(),userId:((s=n.currentUser)==null?void 0:s.id)||"",action:"created"}]};n.documents.push(r)})),updateDocument:(e,n)=>t(pt(r=>{var s;const i=r.documents.find(o=>o.id===e);i&&Object.assign(i,{...n,updatedAt:new Date().toISOString(),history:[...i.history,{timestamp:new Date().toISOString(),userId:((s=r.currentUser)==null?void 0:s.id)||"",action:"updated",details:JSON.stringify(n)}]})})),submitForApproval:e=>t(pt(n=>{var i;const r=n.documents.find(s=>s.id===e);r&&(r.status="pending_review",r.currentApprovalStep=0,r.history.push({timestamp:new Date().toISOString(),userId:((i=n.currentUser)==null?void 0:i.id)||"",action:"submitted_for_approval"}))})),approveDocument:(e,n)=>t(pt(r=>{var s;const i=r.documents.find(o=>o.id===e);if(i){i.approvals.push({...n,id:rr(),timestamp:new Date().toISOString()});const o=r.approvalSteps[i.currentApprovalStep||0];i.approvals.filter(c=>c.status==="approved"&&r.approvalSteps[i.currentApprovalStep||0].id===o.id).length>=o.minApprovers&&(i.currentApprovalStep===r.approvalSteps.length-1?i.status="approved":i.currentApprovalStep=(i.currentApprovalStep||0)+1),i.history.push({timestamp:new Date().toISOString(),userId:((s=r.currentUser)==null?void 0:s.id)||"",action:"approved",details:n.comment})}})),rejectDocument:(e,n)=>t(pt(r=>{var s;const i=r.documents.find(o=>o.id===e);i&&(i.status="rejected",i.approvals.push({...n,id:rr(),timestamp:new Date().toISOString()}),i.history.push({timestamp:new Date().toISOString(),userId:((s=r.currentUser)==null?void 0:s.id)||"",action:"rejected",details:n.comment}))})),setApprovalSteps:e=>t({approvalSteps:e}),updateApprovalStep:(e,n)=>t(pt(r=>{const i=r.approvalSteps.find(s=>s.id===e);i&&Object.assign(i,n)})),setCurrentUser:e=>t({currentUser:e}),addNotification:(e,n)=>t(pt(r=>{r.notifications.push({id:rr(),message:e,type:n,timestamp:new Date().toISOString()})})),removeNotification:e=>t(pt(n=>{const r=n.notifications.findIndex(i=>i.id===e);r!==-1&&n.notifications.splice(r,1)}))}));function Wi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function El(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const mO=6048e5,oee=864e5;let aee={};function Zv(){return aee}function zh(t,e){var a,c,u,f;const n=Zv(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Wi(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function g0(t){return zh(t,{weekStartsOn:1})}function vO(t){const e=Wi(t),n=e.getFullYear(),r=El(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=g0(r),s=El(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=g0(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function g4(t){const e=Wi(t);return e.setHours(0,0,0,0),e}function p4(t){const e=Wi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function lee(t,e){const n=g4(t),r=g4(e),i=+n-p4(n),s=+r-p4(r);return Math.round((i-s)/oee)}function cee(t){const e=vO(t),n=El(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),g0(n)}function uee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dee(t){if(!uee(t)&&typeof t!="number")return!1;const e=Wi(t);return!isNaN(Number(e))}function hee(t){const e=Wi(t),n=El(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const fee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gee=(t,e,n)=>{let r;const i=fee[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function v1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const pee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yee={date:v1({formats:pee,defaultWidth:"full"}),time:v1({formats:mee,defaultWidth:"full"}),dateTime:v1({formats:vee,defaultWidth:"full"})},xee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bee=(t,e,n,r)=>xee[t];function vd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const wee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},See={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Eee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_ee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nee=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Tee={ordinalNumber:Nee,era:vd({values:wee,defaultWidth:"wide"}),quarter:vd({values:See,defaultWidth:"wide",argumentCallback:t=>t-1}),month:vd({values:Cee,defaultWidth:"wide"}),day:vd({values:Eee,defaultWidth:"wide"}),dayPeriod:vd({values:_ee,defaultWidth:"wide",formattingValues:Aee,defaultFormattingWidth:"wide"})};function yd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?Ree(a,g=>g.test(o)):kee(a,g=>g.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function kee(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Ree(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Iee(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Dee=/^(\d+)(th|st|nd|rd)?/i,Pee=/\d+/i,jee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mee={any:[/^b/i,/^(a|c)/i]},Oee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lee={any:[/1/i,/2/i,/3/i,/4/i]},Fee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$ee={ordinalNumber:Iee({matchPattern:Dee,parsePattern:Pee,valueCallback:t=>parseInt(t,10)}),era:yd({matchPatterns:jee,defaultMatchWidth:"wide",parsePatterns:Mee,defaultParseWidth:"any"}),quarter:yd({matchPatterns:Oee,defaultMatchWidth:"wide",parsePatterns:Lee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:yd({matchPatterns:Fee,defaultMatchWidth:"wide",parsePatterns:Uee,defaultParseWidth:"any"}),day:yd({matchPatterns:Bee,defaultMatchWidth:"wide",parsePatterns:Hee,defaultParseWidth:"any"}),dayPeriod:yd({matchPatterns:zee,defaultMatchWidth:"any",parsePatterns:Gee,defaultParseWidth:"any"})},Vee={code:"en-US",formatDistance:gee,formatLong:yee,formatRelative:bee,localize:Tee,match:$ee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wee(t){const e=Wi(t);return lee(e,hee(e))+1}function qee(t){const e=Wi(t),n=+g0(e)-+cee(e);return Math.round(n/mO)+1}function yO(t,e){var f,g,p,m;const n=Wi(t),r=n.getFullYear(),i=Zv(),s=(e==null?void 0:e.firstWeekContainsDate)??((g=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=El(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=zh(o,e),c=El(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=zh(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Kee(t,e){var a,c,u,f;const n=Zv(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=yO(t,e),s=El(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),zh(s,e)}function Yee(t,e){const n=Wi(t),r=+zh(n,e)-+Kee(n,e);return Math.round(r/mO)+1}function ut(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Eo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ut(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ut(n+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ut(i,e.length)}},oc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},m4={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Eo.y(t,e)},Y:function(t,e,n,r){const i=yO(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ut(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ut(s,e.length)},R:function(t,e){const n=vO(t);return ut(n,e.length)},u:function(t,e){const n=t.getFullYear();return ut(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ut(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ut(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Eo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ut(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Yee(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ut(i,e.length)},I:function(t,e,n){const r=qee(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ut(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Eo.d(t,e)},D:function(t,e,n){const r=Wee(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ut(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ut(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ut(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ut(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=oc.noon:r===0?i=oc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=oc.evening:r>=12?i=oc.afternoon:r>=4?i=oc.morning:i=oc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Eo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Eo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ut(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Eo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Eo.s(t,e)},S:function(t,e){return Eo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return y4(r);case"XXXX":case"XX":return Ka(r);case"XXXXX":case"XXX":default:return Ka(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return y4(r);case"xxxx":case"xx":return Ka(r);case"xxxxx":case"xxx":default:return Ka(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+v4(r,":");case"OOOO":default:return"GMT"+Ka(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+v4(r,":");case"zzzz":default:return"GMT"+Ka(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ut(r,e.length)},T:function(t,e,n){const r=t.getTime();return ut(r,e.length)}};function v4(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ut(s,2)}function y4(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):Ka(t,e)}function Ka(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ut(Math.trunc(r/60),2),s=ut(r%60,2);return n+i+e+s}const x4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xO=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Qee=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return x4(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",x4(r,e)).replace("{{time}}",xO(i,e))},Xee={p:xO,P:Qee},Jee=/^D+$/,Zee=/^Y+$/,ete=["D","DD","YY","YYYY"];function tte(t){return Jee.test(t)}function nte(t){return Zee.test(t)}function rte(t,e,n){const r=ite(t,e,n);if(console.warn(r),ete.includes(t))throw new RangeError(r)}function ite(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ste=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ote=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ate=/^'([^]*?)'?$/,lte=/''/g,cte=/[a-zA-Z]/;function dn(t,e,n){var f,g,p,m;const r=Zv(),i=r.locale??Vee,s=r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=Wi(t);if(!dee(a))throw new RangeError("Invalid time value");let c=e.match(ote).map(y=>{const x=y[0];if(x==="p"||x==="P"){const C=Xee[x];return C(y,i.formatLong)}return y}).join("").match(ste).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:ute(y)};if(m4[x])return{isToken:!0,value:y};if(x.match(cte))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(nte(x)||tte(x))&&rte(x,e,String(t));const C=m4[x[0]];return C(a,x,i.localize,u)}).join("")}function ute(t){const e=t.match(ate);return e?e[1].replace(lte,"'"):t}function dte({sowId:t,onClose:e}){const{documents:n}=Sf(),r=n.find(o=>o.id===t),[i,s]=q.useState(null);return r?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center space-x-4",children:i?l.jsxs("button",{onClick:()=>s(null),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[l.jsx(O6,{className:"w-4 h-4"}),l.jsx("span",{children:"Back to History"})]}):l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Document History"})}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:l.jsx(Eu,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4",children:i?l.jsx("div",{className:"prose max-w-none",children:l.jsx("div",{dangerouslySetInnerHTML:{__html:i.content}})}):l.jsx("div",{className:"space-y-4",children:r.history.map((o,a)=>l.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",onClick:()=>s({timestamp:o.timestamp,content:"Historical content would be loaded here"}),children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(xs,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.action.split("_").join(" ").charAt(0).toUpperCase()+o.action.split("_").join(" ").slice(1)}),l.jsx("span",{className:"text-sm text-gray-500",children:dn(new Date(o.timestamp),"MMM d, yyyy h:mm a")})]}),o.details&&l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:o.details})]})]},a))})}),i&&l.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:["Version from ",dn(new Date(i.timestamp),"MMM d, yyyy h:mm a")]}),l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Restore This Version"})]})})]})}):null}function hte({sowId:t,onClose:e}){const[n,r]=q.useState(""),[i,s]=q.useState(""),o=`${window.location.origin}/sow/${t}`,a=()=>{navigator.clipboard.writeText(o)},c=()=>{console.log("Sending email to:",n),e()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Share Document"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:l.jsx(Eu,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Share Link"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:o,className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsxs("button",{onClick:a,className:"flex items-center space-x-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[l.jsx(_E,{className:"w-4 h-4"}),l.jsx("span",{children:"Copy"})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or send via email"})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),l.jsx("input",{type:"email",value:n,onChange:u=>r(u.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter recipient's email"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (optional)"}),l.jsx("textarea",{value:i,onChange:u=>s(u.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Add a personal message..."})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(B6,{className:"w-4 h-4"}),l.jsx("span",{children:"Send"})]})]})]})})}async function fte(t){const e=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>${t.title}</title>
        <style>
          body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 40px;
          }
          h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
          }
          .section {
            margin-bottom: 20px;
          }
          .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2563eb;
          }
        </style>
      </head>
      <body>
        <h1>${t.title}</h1>
        ${t.sections.map(s=>`
          <div class="section">
            <div class="section-title">${s.title}</div>
            <div>${s.content}</div>
          </div>
        `).join("")}
      </body>
    </html>
  `,n=new Blob([e],{type:"text/html"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`${t.title.toLowerCase().replace(/\s+/g,"-")}.html`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}function gte({sowId:t,template:e}){var m;const{submitForApproval:n,documents:r}=Pv(),[i,s]=q.useState(!1),[o,a]=q.useState(!1),[c,u]=q.useState(!1),f=r.find(y=>y.id===t);if(!f)return null;const g=()=>{n(t),s(!1)},p=async()=>{await fte(e)};return l.jsxs("div",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:e.title}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsx("span",{className:`px-2 py-1 rounded ${f.status==="draft"?"bg-blue-100 text-blue-700":f.status==="pending_review"?"bg-yellow-100 text-yellow-700":f.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.status.replace("_"," ").charAt(0).toUpperCase()+f.status.slice(1)}),l.jsx("span",{children:""}),l.jsx("span",{children:"Auto-saved"}),((m=f.origin)==null?void 0:m.source)==="template"&&l.jsxs("span",{className:"ml-2 px-2 py-1 rounded bg-gray-100 text-gray-700",children:["Template origin: ",f.origin.name]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-1 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:[l.jsx(Rq,{className:"w-4 h-4"}),l.jsx("span",{children:"History"})]}),l.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-1 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:[l.jsx(Bq,{className:"w-4 h-4"}),l.jsx("span",{children:"Share"})]}),l.jsxs("button",{onClick:()=>s(!0),disabled:f.status!=="draft",className:`flex items-center space-x-1 px-3 py-2 ${f.status==="draft"?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"} rounded-md`,children:[l.jsx(TE,{className:"w-4 h-4"}),l.jsx("span",{children:"Submit"})]}),l.jsxs("button",{onClick:p,className:"flex items-center space-x-1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(e0,{className:"w-4 h-4"}),l.jsx("span",{children:"Export"})]})]}),o&&l.jsx(dte,{sowId:t,onClose:()=>a(!1)}),c&&l.jsx(hte,{sowId:t,onClose:()=>u(!1)}),i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Submit for Approval"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to submit this SOW for approval? Once submitted, you won't be able to make changes until it's approved or rejected."}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Submit"})]})]})})]})}function pte(t,e){const{updateDocument:n}=Sf(),r=M.useRef();M.useEffect(()=>(r.current&&clearTimeout(r.current),r.current=window.setTimeout(()=>{n(e,{content:t,updatedAt:new Date().toISOString()})},18e4),()=>{r.current&&clearTimeout(r.current)}),[t,e,n])}const Dd={id:"default",name:"Professional Services Agreement",content:"",contactInformation:{contractor:{companyName:"The Zig Group, Inc",contact:"Christopher Chileshe",title:"CEO",address:`450 Alaskan Way South
Suite 200 - #9887
Seattle, Washington, USA
98104`,email:"chris@thezig.io",phone:"206-822-3804"},client:{companyName:"",contact:"",title:"",address:"",email:"",phone:""},summary:{services:"Custom software engineering",effectiveDate:"TBC",termination:"Upon completion."},scopeDescription:"The scope of this SOW is limited to creating a fully functional solution with the features detailed further in the SOW. Any functionality listed beyond the scope of the work breakdown sheet is purely for documentation and completeness. This SOW will outline the phases involved in developing such a solution, capture high-level client requirements, and provide details necessary for the successful delivery of the solution.",introduction:{introduction:"Company bio & project overview",background:"Project information"},scopeOfServices:{introduction:`The Zig is pleased to present this proposal to [Company name] to create the [product] that will enable [Company name] stakeholders to [project aim].

The core functionality will allow for the following:
 List functionality and purposes in bullet point form.`,service:"",planningApproach:"To decrease project risk and offer the Client better control and influence over the ongoing work, The Zig proposes the below approach to developing this platform. This will help provide predictable and well-understood solutions that support the Client's objectives.",phasesDescription:"Detailed planning, clear roles, responsibilities, and strong governance are essential to project success. The Zig will provide Audit, Analyze, Implement, and Validate services to support Client objectives.",auditDescription:`The outcome of the Audit process will be an architecture document that will map the current state to the desired state.

Add audit process details...`,analyzeDescription:`The outcome of the Analyze phase will be an implementation document that maps specific tasks to the desired state.

Add analyze phase details...`,implementationDescription:`The Implementation phase assigns tasks and aligns the work to a developer/team/stakeholder to achieve the desired state.

Add implementation phase details...`,validationDescription:`The Validation phase ensures that work performed during the Implementation phase meets stated goals. Otherwise referred to as User Accepted Testing, end-users (in this case, all stakeholders) provide additional feedback. Only minor changes are permitted to address bugs or less than ideal implementation.

Add validation phase details...`,feedbackNote:"The Zig will encourage feedback throughout all stages of the engagement to minimize the risk of significant changes taking place at the end of the project."},milestones:{description:"The below milestones are an estimate of what the project will incorporate. Sections marked in red are yet to be scoped.",wbsNote:"Insert WBS."},architecture:{diagramNote:"",descriptionNote:"",costEstimateNote:"This is an example",costItems:[{serviceCategory:"Databases",serviceType:"Azure Database for PostgreSQL",region:"South Africa North",description:"Single Server Deployment, General Purpose Tier, 1 Gen 5 (2 vCore), 1 year reserved",estimatedMonthlyCost:"$132.50"},{serviceCategory:"Analytics",serviceType:"Azure Data Factory",region:"East US",description:"Azure Data Factory V2 Type",estimatedMonthlyCost:"$26.00"},{serviceCategory:"Developer tools",serviceType:"Azure DevOps",region:"",description:"2 Basic Plan license users, 1 Free tier - Hosted Pipeline",estimatedMonthlyCost:"$0.00"},{serviceCategory:"Mobile",serviceType:"App Center",region:"",description:"1 Build concurrencies,",estimatedMonthlyCost:"$40.00"},{serviceCategory:"Analytics",serviceType:"PowerBI Power User",region:"",description:"1 PowerBI license for Developing Dashboards",estimatedMonthlyCost:"$20.00"}]},activities:{executionNote:"The project will accomplish the following items during execution:",stageDescription:"Stage Estimate Description (This is an example)",discoveryItems:` Requirements gathering.
 Audit of current platform
 Validation of technical implementation`,executeItems:` Develop the functions and integration scripts
 Developer Testing`,deployItems:` User Acceptance Testing
 Minor Bug Fixes
 Prepare platform for public release and deploy`,breakdownNote:"* This breakdown assumes the project takes the minimum amount of time allocated in the SOW based on the milestones breakdown in section 3.",deliverables:{discovery:"Gather details for each milestone by interviewing stakeholders.",implement:"Onsite/Offsite completion of all user stories identified and source code where applicable.",validate:"Build/Release pipelines, dashboards & alerting, and testing."}},rolesAndResponsibilities:{projectManager:{responsibilities:["Overall project plan","Maintains schedule and delivery","Manages dependencies and upstream requirements","Provides regular status reports to clients (weekly project status updates)","End of Sprint Demos","Helps collect feedback from stakeholders (including pilot users)"]},softwareEngineers:{responsibilities:["Front/Back-end Development","Integrations with 3rd -party systems","Testing"]},designer:{responsibilities:["UI/UX design","Digital assets","Maintaining a cohesive user experience for all users","Design Demos","Helps collect feedback from stakeholders"]},clientProjectSponsor:{responsibilities:["Point of contact for financials","Approves project engagement documents","Participates in key project meetings","Actively participates in project communication","Subject matter expert","Reviews project status reports","Actively participates in project communication","Reviews and approves project documents"],additionalResponsibilities:[]},projectManagerResponsibilities:` Overall project plan
 Maintains schedule and delivery
 Manages dependencies and upstream requirements
 Provides regular status reports to clients (weekly project status updates)
 End of Sprint Demos
 Helps collect feedback from stakeholders (including pilot users)`,softwareEngineersResponsibilities:` Front/Back-end Development
 Integrations with 3rd party systems
 Testing`,designerResponsibilities:` UI/UX design
 Digital assets
 Maintaining a cohesive user experience for all users
 Design Demos
 Helps collect feedback from stakeholders`,clientResponsibilities:` Point of contact for financials
 Approves project engagement documents
 Participates in key project meetings
 Actively participates in project communication
 Subject matter expert
 Reviews project status reports
 Reviews and approves project documents`,mutualResponsibilities:` Communication
 Involvement in all aspects of the services
 Timely and effective completion of responsibilities, as identified in this document.
 Timely decisions and approvals`,changes:"The Zig may remove or cancel assigned staff, subject to 30 days written notice. If any staff resigns or is required to be terminated without the ability to give 30 days' notice, The Zig will have a reasonable time to assign replacement staff. The client may request staff changes, which The Zig will use its reasonable efforts to accommodate",additionalStaff:"If the Services expand and The Zig or Client determines additional staffing is reasonably needed, additional staff may be assigned, and the Fees adjusted according per confirmed writing agreed upon by The Zig and Client."},deliverables:{agreedDeliverables:`Company is expected to deliver the following:

An example:

1. Android Mobile application
2. PowerApps App
3. PowerBI Dashboards
4. Architectural documentation`,reviewAndRevision:"Client review of each end of sprint (based on cadence determined with the Client, typically 2-week cadence). The Zig and Client to coordinate on meetings to discuss revisions.",nativeFiles:"Deployed to repository of the client's choosing",expenses:"The Zig may request pre-approval and reimbursement from the Client (but subject to pre-approval at the Client's sole discretion): travel at the request of the Client, software licenses required by Client, or specialty hardware."},riskAssessment:{projectScore:"This is a 1-10 score that helps both parties determine the overall level of risk associated with the project. Higher scoring projects contain a greater number of known risks that have been classified as high. Ultimately the score will help identify a need for providing clarity and solutions early on for the high-risk items. The project manager will be responsible for tackling the risks beginning with highest risk and working to adjust the score downwards.",riskItems:[{risk:"Availability of Stakeholder",riskLevel:"3",description:"The Zig's ability to deliver on the scope of this SOW largely depends on the availability of all stakeholders to answer questions and participate in interviews and meetings."},{risk:"Unforeseen Interruptions",riskLevel:"3",description:"Unexpected personal issues with either the Client or the staff responsible for delivery at The Zig."}]},masterServicesAgreement:{agreementText:`This Statement of Work ("SOW") is made under and pursuant to that Master Services Agreement entered into between The ZIG and Client, dated 12/07/2023 (the "MSA"). In the event of any conflict with this SOW and the Agreement, the Agreement will govern.

The parties may modify the terms of this SOW by submitting a written proposed change order, which will become part of the applicable SOW when executed by both parties, and the services described therein will become part of the Services. All terms not defined in this SOW have the meaning in the MSA.`},authorization:{clientSignature:"",clientDate:"",clientName:"",clientTitle:"CEO",contractorSignature:"",contractorDate:"",contractorName:"Christopher Chileshe",contractorTitle:"CEO"}},sections:[{title:"Project Overview",required:!0,allowedComponents:["project-overview"],validationRules:["required"]},{title:"Scope of Work",required:!0,allowedComponents:["scope-of-work"],validationRules:["required"]},{title:"Timeline and Milestones",required:!1,allowedComponents:["timeline"],validationRules:[]},{title:"Terms",required:!0,allowedComponents:["terms-conditions"],validationRules:["required"]}]},c_=q.createContext({value:"",onChange:()=>{}});function mte({defaultValue:t,children:e,className:n=""}){const[r,i]=q.useState(t);return l.jsx(c_.Provider,{value:{value:r,onChange:i},children:l.jsx("div",{className:n,children:e})})}function vte({children:t,className:e=""}){return l.jsx("div",{className:`flex space-x-4 ${e}`,children:t})}function y1({value:t,children:e,className:n=""}){const{value:r,onChange:i}=q.useContext(c_),s=t===r;return l.jsx("button",{onClick:()=>i(t),className:`px-4 py-2 text-sm font-medium ${s?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"} ${n}`,children:e})}function x1({value:t,children:e,className:n=""}){const{value:r}=q.useContext(c_);return t!==r?null:l.jsx("div",{className:n,children:e})}function yte(){const{id:t}=d2(),e=Gi(),n=pu(),{documents:r}=Pv(),[i,s]=q.useState(50),[o,a]=q.useState(!1),c=q.useRef(null);if(!t)return e("/sow"),null;const u=r.find(A=>A.id===t);if(!u)return l.jsx("div",{className:"h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading SOW..."})]})});const[f,g]=q.useState(()=>u.content||Dd),[p,m]=q.useState(()=>{var A;return(A=u.content)!=null&&A.sections?u.content.sections.map((T,k)=>({id:`section-${k}`,title:T.title,content:T.content||"",required:T.required||!1})):[]});pte(f,t);const y=q.useCallback(A=>{m(A);const T=A.map(k=>({title:k.title,required:k.required,allowedComponents:[],validationRules:[],content:k.content}));g({...f,sections:T})},[f]),x=q.useCallback(A=>{g({...f,contactInformation:A})},[f]),C=q.useCallback(A=>{A.preventDefault(),a(!0)},[]),b=q.useCallback(A=>{if(!o||!c.current)return;const T=c.current.getBoundingClientRect(),k=(A.clientX-T.left)/T.width*100,I=Math.min(Math.max(k,20),80);s(I)},[o]),E=q.useCallback(()=>{a(!1)},[]);q.useEffect(()=>(o?(document.addEventListener("mousemove",b),document.addEventListener("mouseup",E),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E),document.body.style.cursor="",document.body.style.userSelect=""),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",E),document.body.style.cursor="",document.body.style.userSelect=""}),[o,b,E]),q.useEffect(()=>{const A=n.state;if(!A)return;const{company:T,contact:k}=A;if(T||k){const I=f.contactInformation||{contractor:{companyName:"ZigOS",contact:"The Zig",title:"CEO",address:"",email:"zig@zigos.com",phone:"206-822-3804"},client:{companyName:"",contact:"",title:"",address:"",email:"",phone:""}},D=[k==null?void 0:k.firstName,k==null?void 0:k.lastName].filter(Boolean).join(" ").trim(),P={...I,client:{companyName:T||I.client.companyName,contact:D||I.client.contact,title:(k==null?void 0:k.jobTitle)||I.client.title,address:(k==null?void 0:k.address)||I.client.address,email:(k==null?void 0:k.email)||I.client.email,phone:(k==null?void 0:k.phone)||I.client.phone}};g({...f,contactInformation:P})}},[n==null?void 0:n.state]);const S=q.useCallback(A=>{const{destination:T,source:k,draggableId:I}=A;if(T&&!(T.droppableId===k.droppableId&&T.index===k.index)){if(k.droppableId==="component-library"&&T.droppableId==="document-sections"){if(I.startsWith("component-")){const D=I.replace("component-",""),P=pO.find(R=>R.title===D);if(P){const R={id:rr(),title:P.title,content:P.defaultContent,required:P.required},O=[...p];O.splice(T.index,0,R),y(O)}}else if(I.startsWith("custom-"))try{const D=localStorage.getItem("zigos-custom-components");if(D){const R=JSON.parse(D).find(O=>`custom-${O.id}`===I);if(R){const O={id:rr(),title:R.title,content:R.defaultContent,required:R.required},z=[...p];z.splice(T.index,0,O),y(z)}}}catch{}return}if(k.droppableId==="document-sections"&&T.droppableId==="document-sections"){const D=Array.from(p),[P]=D.splice(k.index,1);D.splice(T.index,0,P),y(D);return}}},[p,y]);return l.jsx(rZ,{onDragEnd:S,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx(gte,{sowId:t,template:f}),l.jsxs("div",{ref:c,className:"flex-1 flex overflow-hidden relative",children:[l.jsx("div",{className:"bg-white overflow-auto",style:{width:`${i}%`},children:l.jsx(tee,{template:f,sections:p,onSectionsChange:y,onContactInformationChange:x})}),l.jsx("div",{className:`
              w-1 bg-gray-200 hover:bg-blue-400 cursor-col-resize 
              relative flex items-center justify-center
              transition-colors duration-150
              ${o?"bg-blue-500":""}
            `,onMouseDown:C,children:l.jsx("div",{className:"absolute w-3 h-12 bg-gray-300 hover:bg-blue-400 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-0.5 h-6 bg-white"})})}),l.jsx("div",{className:"bg-gray-50 overflow-auto flex flex-col min-h-0",style:{width:`${100-i}%`},children:l.jsxs(mte,{defaultValue:"builder",className:"h-full flex flex-col min-h-0",children:[l.jsxs(vte,{className:"border-b border-gray-200 px-4 flex-shrink-0",children:[l.jsx(y1,{value:"builder",children:"Builder"}),l.jsx(y1,{value:"wbs",children:"Work Breakdown"}),l.jsx(y1,{value:"assistant",children:"Assistant"})]}),l.jsx(x1,{value:"builder",className:"flex-1 overflow-auto min-h-0",children:l.jsx(l_,{droppableId:"component-library",isDropDisabled:!0,children:A=>l.jsxs("div",{ref:A.innerRef,...A.droppableProps,className:"h-full",children:[l.jsx(see,{}),A.placeholder]})})}),l.jsx(x1,{value:"wbs",className:"flex-1 overflow-auto",children:l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Work Breakdown Structure"}),u.milestones.length>0?l.jsx("div",{className:"space-y-2",children:u.milestones.map((A,T)=>l.jsxs("div",{className:"bg-white p-3 rounded border",children:[l.jsx("h4",{className:"font-medium",children:A.title}),l.jsx("p",{className:"text-sm text-gray-600",children:A.description}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A.estimatedHours," hours  ",A.deliverables.length," deliverables"]})]},T))}):l.jsx("p",{className:"text-gray-600",children:"No milestones defined yet. Use the Builder tab to add project milestones."})]})}),l.jsx(x1,{value:"assistant",className:"flex-1 overflow-auto",children:l.jsx("div",{className:"p-4",children:l.jsx("p",{className:"text-gray-600",children:"AI Assistant coming soon..."})})})]})})]})]})})}const b1=[{id:"1",userId:"1",status:"approved",comment:"Technical requirements look good",timestamp:"2024-03-10T14:30:00Z"},{id:"2",userId:"2",status:"approved",comment:"Budget and financials approved",timestamp:"2024-03-11T09:15:00Z"},{id:"3",userId:"3",status:"pending",timestamp:"2024-03-11T10:00:00Z"}],Ro=[{id:"1",title:"E-commerce Platform Development",client:"TechRetail Inc.",status:"completed",createdAt:"2024-02-15T10:00:00Z",updatedAt:"2024-02-20T15:30:00Z",value:75e3,version:1,createdBy:"5",currentApprovalStep:2,approvals:b1,content:Dd,history:[{timestamp:"2024-02-15T10:00:00Z",userId:"5",action:"created"},{timestamp:"2024-02-16T14:20:00Z",userId:"1",action:"approved",details:"Technical review completed"},{timestamp:"2024-02-17T09:45:00Z",userId:"2",action:"approved",details:"Financial review completed"}]},{id:"2",title:"Mobile App Development Project",client:"HealthTech Solutions",status:"approved",createdAt:"2024-02-25T09:00:00Z",updatedAt:"2024-02-28T16:45:00Z",value:12e4,version:1,createdBy:"5",currentApprovalStep:3,approvals:[b1[0],b1[1]],content:Dd,history:[{timestamp:"2024-02-25T09:00:00Z",userId:"5",action:"created"},{timestamp:"2024-02-26T11:30:00Z",userId:"1",action:"approved",details:"Technical requirements verified"}]},{id:"3",title:"Cloud Migration Services",client:"FinServ Corp",status:"pending_review",createdAt:"2024-03-01T08:30:00Z",updatedAt:"2024-03-01T14:20:00Z",value:95e3,version:1,createdBy:"5",currentApprovalStep:1,approvals:[],content:Dd,history:[{timestamp:"2024-03-01T08:30:00Z",userId:"5",action:"created"},{timestamp:"2024-03-01T14:20:00Z",userId:"5",action:"submitted_for_approval"}]},{id:"4",title:"AI Implementation Project",client:"DataInsights Ltd",status:"draft",createdAt:"2024-03-05T11:15:00Z",updatedAt:"2024-03-05T16:30:00Z",version:1,createdBy:"5",approvals:[],content:Dd,history:[{timestamp:"2024-03-05T11:15:00Z",userId:"5",action:"created"}]}],bs=bu(t=>({projects:[],createFromSOW:e=>{const n=rr();return t(pt(r=>{const i=e.milestones.map(s=>({id:rr(),title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,status:"not_started",deliverables:s.deliverables,assignedTeam:[],estimatedHours:s.estimatedHours,actualHours:0,dependencies:[]}));r.projects.push({id:n,sowId:e.id,title:e.title,status:"planning",startDate:new Date().toISOString(),endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString(),budget:{total:e.value,allocated:0,remaining:e.value},milestones:i,team:[],risks:[],dependencies:[],technicalSpecs:{stack:e.technicalRequirements.stack,infrastructure:{hosting:"",deployment:"",monitoring:""},security:{requirements:[],compliance:[]},performance:{slas:[],metrics:[]}}})})),n},updateProject:(e,n)=>t(pt(r=>{const i=r.projects.find(s=>s.id===e);i&&Object.assign(i,n)})),assignTeamMember:(e,n)=>t(pt(r=>{const i=r.projects.find(s=>s.id===e);i&&i.team.push(n)})),updateTeamMember:(e,n,r)=>t(pt(i=>{const s=i.projects.find(o=>o.id===e);if(s){const o=s.team.find(a=>a.id===n);o&&Object.assign(o,r)}})),updateMilestone:(e,n,r)=>t(pt(i=>{const s=i.projects.find(o=>o.id===e);if(s){const o=s.milestones.find(a=>a.id===n);o&&Object.assign(o,r)}})),addRisk:(e,n)=>t(pt(r=>{const i=r.projects.find(s=>s.id===e);i&&i.risks.push({...n,id:rr()})})),updateRisk:(e,n,r)=>t(pt(i=>{const s=i.projects.find(o=>o.id===e);if(s){const o=s.risks.find(a=>a.id===n);o&&Object.assign(o,r)}})),addDependency:(e,n)=>t(pt(r=>{const i=r.projects.find(s=>s.id===e);i&&i.dependencies.push({...n,id:rr()})})),updateDependency:(e,n,r)=>t(pt(i=>{const s=i.projects.find(o=>o.id===e);if(s){const o=s.dependencies.find(a=>a.id===n);o&&Object.assign(o,r)}}))}));function xte(){const t=Gi(),[e,n]=q.useState(""),[r,i]=q.useState("updatedAt"),[s,o]=q.useState("desc"),{projects:a}=bs(),c=Ro.filter(p=>p.title.toLowerCase().includes(e.toLowerCase())||p.client.toLowerCase().includes(e.toLowerCase())).sort((p,m)=>{const y=p[r],x=m[r];return s==="asc"?y<x?-1:1:y>x?-1:1}),u=p=>{p===r?o(s==="asc"?"desc":"asc"):(i(p),o("desc"))},f=p=>{const m=a.find(y=>y.sowId===p.id);t(m?`/project/${p.id}/manage`:`/project/${p.id}`)},g=p=>{const m={draft:"bg-gray-100 text-gray-800",pending_review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800"};return m[p]||m.draft};return l.jsxs("div",{className:"h-full flex flex-col bg-white",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"SOW Repository"}),l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"New SOW"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search by title or client...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:e,onChange:p=>n(p.target.value)})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(Nv,{className:"w-4 h-4"}),l.jsx("span",{children:"Filter"})]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>u("title"),children:[l.jsx("span",{children:"Title"}),l.jsx(vr,{className:"w-4 h-4"})]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>u("client"),children:[l.jsx("span",{children:"Client"}),l.jsx(vr,{className:"w-4 h-4"})]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>u("value"),children:[l.jsx("span",{children:"Value"}),l.jsx(vr,{className:"w-4 h-4"})]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>u("updatedAt"),children:[l.jsx("span",{children:"Last Updated"}),l.jsx(vr,{className:"w-4 h-4"})]})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(p=>l.jsxs("tr",{onClick:()=>f(p),className:"hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.title})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:p.client})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(p.status)}`,children:p.status.replace("_"," ").charAt(0).toUpperCase()+p.status.slice(1)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:p.value?`$${p.value.toLocaleString()}`:"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:new Date(p.updatedAt).toLocaleDateString()})})]},p.id))})]})})]})}function bte({document:t}){const e=Sf(i=>i.approvalSteps),n=i=>!t.currentApprovalStep&&t.currentApprovalStep!==0?"pending":i<t.currentApprovalStep?"completed":i===t.currentApprovalStep?"current":"upcoming",r=i=>{switch(i){case"completed":return l.jsx(Av,{className:"w-6 h-6 text-green-500"});case"current":return l.jsx(xs,{className:"w-6 h-6 text-blue-500 animate-pulse"});case"rejected":return l.jsx(Cq,{className:"w-6 h-6 text-red-500"});default:return l.jsx(G6,{className:"w-6 h-6 text-gray-300"})}};return l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Approval Status"}),l.jsxs("div",{className:"space-y-4",children:[e.map((i,s)=>{const o=n(s),a=t.approvals.filter(c=>c.status==="approved"&&e[t.currentApprovalStep||0].id===i.id);return l.jsxs("div",{className:`flex items-center space-x-4 p-4 rounded-lg ${o==="current"?"bg-blue-50 border border-blue-200":""}`,children:[r(o),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h4",{className:"font-medium text-gray-900",children:[i.role.charAt(0).toUpperCase()+i.role.slice(1)," Approval",i.department&&` - ${i.department}`]}),o==="current"&&l.jsxs("span",{className:"text-sm text-blue-600",children:[a.length,"/",i.minApprovers," approvals"]})]}),i.threshold&&l.jsxs("p",{className:"text-sm text-gray-500",children:["Required for SOWs over $",i.threshold.toLocaleString()]})]})]},i.id)}),t.status==="approved"&&l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 rounded-lg",children:[l.jsx(Tq,{className:"w-6 h-6 text-green-500"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-green-800",children:"Final Approval Complete"}),l.jsx("p",{className:"text-sm text-green-600",children:"Ready for client signature"})]})]})]})]})}function wte({document:t}){const[e,n]=q.useState(""),{currentUser:r,approveDocument:i,rejectDocument:s}=Sf(),o=q.useMemo(()=>!r||t.status!=="in_review"?!1:(t.currentApprovalStep,r.role==="approver"||r.role==="admin"),[r,t]),a=()=>{r&&i(t.id,{userId:r.id,status:"approved",comment:e})},c=()=>{r&&s(t.id,{userId:r.id,status:"rejected",comment:e})};return o?l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Approval Actions"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments (optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx(H6,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("textarea",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Add your comments here...",value:e,onChange:u=>n(u.target.value)})]})]}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[l.jsx(Av,{className:"w-5 h-5"}),l.jsx("span",{children:"Approve"})]}),l.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[l.jsx(Jc,{className:"w-5 h-5"}),l.jsx("span",{children:"Reject"})]})]})]})]}):null}function Ste({document:t}){return l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Audit Trail"}),l.jsx("div",{className:"space-y-4",children:t.history.map((e,n)=>l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm text-gray-600",children:e.action.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.action.split("_").join(" ").charAt(0).toUpperCase()+e.action.split("_").join(" ").slice(1)}),e.details&&l.jsx("p",{className:"text-sm text-gray-500",children:e.details}),l.jsx("p",{className:"text-xs text-gray-400",children:dn(new Date(e.timestamp),"MMM d, yyyy h:mm a")})]})]},n))})]})}function Cte(){const{documents:t}=Sf(),[e,n]=q.useState(t[0]);return l.jsxs("div",{className:"h-full flex",children:[l.jsxs("div",{className:"w-80 border-r border-gray-200 bg-white overflow-auto",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Pending Approvals"})}),l.jsx("div",{className:"divide-y divide-gray-200",children:t.map(r=>l.jsx("button",{onClick:()=>n(r),className:`w-full p-4 text-left hover:bg-gray-50 ${(e==null?void 0:e.id)===r.id?"bg-blue-50":""}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:r.title}),l.jsx("p",{className:"text-sm text-gray-500",children:r.client})]}),r.status==="pending_review"&&l.jsx(xs,{className:"w-5 h-5 text-yellow-500"}),r.status==="approved"&&l.jsx(Av,{className:"w-5 h-5 text-green-500"}),r.status==="rejected"&&l.jsx(Jc,{className:"w-5 h-5 text-red-500"})]})},r.id))})]}),e?l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsx("div",{className:"max-w-4xl mx-auto py-6 px-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-4",children:e.title}),l.jsxs("dl",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Client"}),l.jsx("dd",{className:"text-sm text-gray-900",children:e.client})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Value"}),l.jsx("dd",{className:"text-sm text-gray-900",children:e.value?`$${e.value.toLocaleString()}`:"-"})]})]})]}),l.jsx(bte,{document:e}),l.jsx(wte,{document:e}),l.jsx(Ste,{document:e})]})})}):l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsx("p",{className:"text-gray-500",children:"Select a document to view details"})})]})}function Ete(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _te(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ate(t,e){if(t==null)return{};var n=_te(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nte(t,e){return Tte(t)||kte(t,e)||Rte(t,e)||Ite()}function Tte(t){if(Array.isArray(t))return t}function kte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Rte(t,e){if(t){if(typeof t=="string")return S4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S4(t,e)}}function S4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ite(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){Dte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pte(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function Pd(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function p0(t){return{}.toString.call(t).includes("Object")}function jte(t){return!Object.keys(t).length}function Gh(t){return typeof t=="function"}function Mte(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ote(t,e){return p0(e)||oa("changeType"),Object.keys(e).some(function(n){return!Mte(t,n)})&&oa("changeField"),e}function Lte(t){Gh(t)||oa("selectorType")}function Fte(t){Gh(t)||p0(t)||oa("handlerType"),p0(t)&&Object.values(t).some(function(e){return!Gh(e)})&&oa("handlersType")}function Ute(t){t||oa("initialIsRequired"),p0(t)||oa("initialType"),jte(t)&&oa("initialContent")}function Bte(t,e){throw new Error(t[e]||t.default)}var Hte={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},oa=Pd(Bte)(Hte),fp={changes:Ote,selector:Lte,handler:Fte,initial:Ute};function zte(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};fp.initial(t),fp.handler(e);var n={current:t},r=Pd(Vte)(n,e),i=Pd($te)(n),s=Pd(fp.changes)(t),o=Pd(Gte)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return fp.selector(u),u(n.current)}function c(u){Pte(r,i,s,o)(u)}return[a,c]}function Gte(t,e){return Gh(e)?e(t.current):e}function $te(t,e){return t.current=E4(E4({},t.current),e),e}function Vte(t,e,n){return Gh(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var Wte={create:zte},qte={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Kte(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e.apply(n,[].concat(i,a))}}}function Yte(t){return{}.toString.call(t).includes("Object")}function Qte(t){return t||_4("configIsRequired"),Yte(t)||_4("configType"),t.urls?(Xte(),{paths:{vs:t.urls.monacoBase}}):t}function Xte(){console.warn(bO.deprecation)}function Jte(t,e){throw new Error(t[e]||t.default)}var bO={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},_4=Kte(Jte)(bO),Zte={config:Qte},ene=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,o){return o(s)},i)}};function wO(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],wO(t[n],e[n]))}),w4(w4({},t),e)}var tne={type:"cancelation",msg:"operation is manually canceled"};function w1(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(tne):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var nne=Wte.create({config:qte,isInitialized:!1,resolve:null,reject:null,monaco:null}),SO=Nte(nne,2),Cf=SO[0],ey=SO[1];function rne(t){var e=Zte.config(t),n=e.monaco,r=Ate(e,["monaco"]);ey(function(i){return{config:wO(i.config,r),monaco:n}})}function ine(){var t=Cf(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(ey({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),w1(S1);if(window.monaco&&window.monaco.editor)return CO(window.monaco),t.resolve(window.monaco),w1(S1);ene(sne,ane)(lne)}return w1(S1)}function sne(t){return document.body.appendChild(t)}function one(t){var e=document.createElement("script");return t&&(e.src=t),e}function ane(t){var e=Cf(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=one("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function lne(){var t=Cf(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){CO(n),t.resolve(n)},function(n){t.reject(n)})}function CO(t){Cf().monaco||ey({monaco:t})}function cne(){return Cf(function(t){var e=t.monaco;return e})}var S1=new Promise(function(t,e){return ey({resolve:t,reject:e})}),EO={config:rne,init:ine,__getMonacoInstance:cne},une={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},C1=une,dne={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},hne=dne;function fne({children:t}){return q.createElement("div",{style:hne.container},t)}var gne=fne,pne=gne;function mne({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:o}){return q.createElement("section",{style:{...C1.wrapper,width:t,height:e},...o},!n&&q.createElement(pne,null,r),q.createElement("div",{ref:i,style:{...C1.fullWidth,...!n&&C1.hide},className:s}))}var vne=mne,_O=M.memo(vne);function yne(t){M.useEffect(t,[])}var AO=yne;function xne(t,e,n=!0){let r=M.useRef(!0);M.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var Dr=xne;function th(){}function Ac(t,e,n,r){return bne(t,r)||wne(t,e,n,r)}function bne(t,e){return t.editor.getModel(NO(t,e))}function wne(t,e,n,r){return t.editor.createModel(e,n,r?NO(t,r):void 0)}function NO(t,e){return t.Uri.parse(e)}function Sne({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:o,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:f="Loading...",options:g={},height:p="100%",width:m="100%",className:y,wrapperProps:x={},beforeMount:C=th,onMount:b=th}){let[E,S]=M.useState(!1),[A,T]=M.useState(!0),k=M.useRef(null),I=M.useRef(null),D=M.useRef(null),P=M.useRef(b),R=M.useRef(C),O=M.useRef(!1);AO(()=>{let G=EO.init();return G.then($=>(I.current=$)&&T(!1)).catch($=>($==null?void 0:$.type)!=="cancelation"&&console.error("Monaco initialization: error:",$)),()=>k.current?Z():G.cancel()}),Dr(()=>{if(k.current&&I.current){let G=k.current.getOriginalEditor(),$=Ac(I.current,t||"",r||n||"text",s||"");$!==G.getModel()&&G.setModel($)}},[s],E),Dr(()=>{if(k.current&&I.current){let G=k.current.getModifiedEditor(),$=Ac(I.current,e||"",i||n||"text",o||"");$!==G.getModel()&&G.setModel($)}},[o],E),Dr(()=>{let G=k.current.getModifiedEditor();G.getOption(I.current.editor.EditorOption.readOnly)?G.setValue(e||""):e!==G.getValue()&&(G.executeEdits("",[{range:G.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),G.pushUndoStop())},[e],E),Dr(()=>{var G,$;($=(G=k.current)==null?void 0:G.getModel())==null||$.original.setValue(t||"")},[t],E),Dr(()=>{let{original:G,modified:$}=k.current.getModel();I.current.editor.setModelLanguage(G,r||n||"text"),I.current.editor.setModelLanguage($,i||n||"text")},[n,r,i],E),Dr(()=>{var G;(G=I.current)==null||G.editor.setTheme(u)},[u],E),Dr(()=>{var G;(G=k.current)==null||G.updateOptions(g)},[g],E);let z=M.useCallback(()=>{var le;if(!I.current)return;R.current(I.current);let G=Ac(I.current,t||"",r||n||"text",s||""),$=Ac(I.current,e||"",i||n||"text",o||"");(le=k.current)==null||le.setModel({original:G,modified:$})},[n,e,i,t,r,s,o]),ae=M.useCallback(()=>{var G;!O.current&&D.current&&(k.current=I.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...g}),z(),(G=I.current)==null||G.editor.setTheme(u),S(!0),O.current=!0)},[g,u,z]);M.useEffect(()=>{E&&P.current(k.current,I.current)},[E]),M.useEffect(()=>{!A&&!E&&ae()},[A,E,ae]);function Z(){var $,le,X,pe;let G=($=k.current)==null?void 0:$.getModel();a||((le=G==null?void 0:G.original)==null||le.dispose()),c||((X=G==null?void 0:G.modified)==null||X.dispose()),(pe=k.current)==null||pe.dispose()}return q.createElement(_O,{width:m,height:p,isEditorReady:E,loading:f,_ref:D,className:y,wrapperProps:x})}var Cne=Sne;M.memo(Cne);function Ene(t){let e=M.useRef();return M.useEffect(()=>{e.current=t},[t]),e.current}var _ne=Ene,gp=new Map;function Ane({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:o="light",line:a,loading:c="Loading...",options:u={},overrideServices:f={},saveViewState:g=!0,keepCurrentModel:p=!1,width:m="100%",height:y="100%",className:x,wrapperProps:C={},beforeMount:b=th,onMount:E=th,onChange:S,onValidate:A=th}){let[T,k]=M.useState(!1),[I,D]=M.useState(!0),P=M.useRef(null),R=M.useRef(null),O=M.useRef(null),z=M.useRef(E),ae=M.useRef(b),Z=M.useRef(),G=M.useRef(r),$=_ne(s),le=M.useRef(!1),X=M.useRef(!1);AO(()=>{let ie=EO.init();return ie.then(ue=>(P.current=ue)&&D(!1)).catch(ue=>(ue==null?void 0:ue.type)!=="cancelation"&&console.error("Monaco initialization: error:",ue)),()=>R.current?te():ie.cancel()}),Dr(()=>{var ue,Ce,W,se;let ie=Ac(P.current,t||r||"",e||i||"",s||n||"");ie!==((ue=R.current)==null?void 0:ue.getModel())&&(g&&gp.set($,(Ce=R.current)==null?void 0:Ce.saveViewState()),(W=R.current)==null||W.setModel(ie),g&&((se=R.current)==null||se.restoreViewState(gp.get(s))))},[s],T),Dr(()=>{var ie;(ie=R.current)==null||ie.updateOptions(u)},[u],T),Dr(()=>{!R.current||r===void 0||(R.current.getOption(P.current.editor.EditorOption.readOnly)?R.current.setValue(r):r!==R.current.getValue()&&(X.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),R.current.pushUndoStop(),X.current=!1))},[r],T),Dr(()=>{var ue,Ce;let ie=(ue=R.current)==null?void 0:ue.getModel();ie&&i&&((Ce=P.current)==null||Ce.editor.setModelLanguage(ie,i))},[i],T),Dr(()=>{var ie;a!==void 0&&((ie=R.current)==null||ie.revealLine(a))},[a],T),Dr(()=>{var ie;(ie=P.current)==null||ie.editor.setTheme(o)},[o],T);let pe=M.useCallback(()=>{var ie;if(!(!O.current||!P.current)&&!le.current){ae.current(P.current);let ue=s||n,Ce=Ac(P.current,r||t||"",e||i||"",ue||"");R.current=(ie=P.current)==null?void 0:ie.editor.create(O.current,{model:Ce,automaticLayout:!0,...u},f),g&&R.current.restoreViewState(gp.get(ue)),P.current.editor.setTheme(o),a!==void 0&&R.current.revealLine(a),k(!0),le.current=!0}},[t,e,n,r,i,s,u,f,g,o,a]);M.useEffect(()=>{T&&z.current(R.current,P.current)},[T]),M.useEffect(()=>{!I&&!T&&pe()},[I,T,pe]),G.current=r,M.useEffect(()=>{var ie,ue;T&&S&&((ie=Z.current)==null||ie.dispose(),Z.current=(ue=R.current)==null?void 0:ue.onDidChangeModelContent(Ce=>{X.current||S(R.current.getValue(),Ce)}))},[T,S]),M.useEffect(()=>{if(T){let ie=P.current.editor.onDidChangeMarkers(ue=>{var W;let Ce=(W=R.current.getModel())==null?void 0:W.uri;if(Ce&&ue.find(se=>se.path===Ce.path)){let se=P.current.editor.getModelMarkers({resource:Ce});A==null||A(se)}});return()=>{ie==null||ie.dispose()}}return()=>{}},[T,A]);function te(){var ie,ue;(ie=Z.current)==null||ie.dispose(),p?g&&gp.set(s,R.current.saveViewState()):(ue=R.current.getModel())==null||ue.dispose(),R.current.dispose()}return q.createElement(_O,{width:m,height:y,isEditorReady:T,loading:c,_ref:O,className:x,wrapperProps:C})}var Nne=Ane,Tne=M.memo(Nne),kne=Tne;class Rne{constructor(){Rs(this,"baseURL");this.baseURL=this.getBaseURL()}getBaseURL(){return"http://localhost:7071/api/fireflies"}getApiKey(){return localStorage.getItem("fireflies_api_key")||void 0||""}getHeaders(){const e=this.getApiKey();if(!e)throw new Error("Fireflies API key not found. Please configure it in Settings or set VITE_FIREFLIES_API_KEY environment variable.");return{"X-Fireflies-API-Key":e,"Content-Type":"application/json"}}async transcribeAudio(e){return this.getExistingTranscription(e)}async getExistingTranscription(e){try{const r=`${this.baseURL}/get-transcription`,i={MeetingUrl:e.meeting_url,Title:e.title||"Fireflies Meeting"},s=await qe.post(r,i,{headers:this.getHeaders()});return console.log(" Fireflies overview:",s.data.summary.overview),console.log(" Fireflies action items:",s.data.summary.action_items),console.log(" Fireflies topics discussed:",s.data.summary.topics_discussed),console.log(" Fireflies bullet gist:",s.data.summary.bullet_gist),console.log(" Fireflies gist:",s.data.summary.gist),console.log(" Fireflies short summary:",s.data.summary.short_summary),console.log(" Fireflies short overview:",s.data.summary.short_overview),console.log(" Fireflies meeting type:",s.data.summary.meeting_type),console.log(" Fireflies transcript chapters:",s.data.summary.transcript_chapters),console.log(" Fireflies keywords:",s.data.summary.keywords),console.log(" Fireflies outline:",s.data.summary.outline),console.log(" Fireflies shorthand bullet:",s.data.summary.shorthand_bullet),s.data}catch(n){throw console.error("Failed to get Fireflies transcription:",n),this.handleError(n)}}async getJobStatus(e){try{const r=`${this.baseURL}/jobs/${e}`,i=await qe.get(r,{headers:this.getHeaders()});return console.log(" Fireflies job status:",i.data),i.data}catch(n){throw console.error(" Failed to get Fireflies job status:",n),this.handleError(n)}}async getTranscription(e){try{const r=`${this.baseURL}/jobs/${e}/result`,i=await qe.get(r,{headers:this.getHeaders()});return console.log(" Fireflies transcription result:",i.data),i.data}catch(n){throw console.error(" Failed to get Fireflies transcription:",n),this.handleError(n)}}async waitForCompletion(e,n=1,r=0){return console.log(" Transcription already available from Fireflies URL"),e}extractMeetingOverview(e){var r,i,s,o,a,c,u;const n=[];if((r=e.summary)!=null&&r.short_summary?n.push(`## Meeting Summary
${e.summary.short_summary}`):(i=e.summary)!=null&&i.overview&&n.push(`## Meeting Overview
${e.summary.overview}`),((o=(s=e.summary)==null?void 0:s.topics_discussed)==null?void 0:o.length)>0&&n.push(`## Topics Discussed
${e.summary.topics_discussed.map(f=>`- ${f}`).join(`
`)}`),(a=e.summary)!=null&&a.action_items&&n.push(`## Action Items
${e.summary.action_items}`),((u=(c=e.analytics)==null?void 0:c.speakers)==null?void 0:u.length)>0){const f=e.analytics.speakers.map(g=>`${g.name} (${Math.round(g.duration_pct)}% participation)`).join(", ");n.push(`## Participants
${f}`)}return n.join(`

`)||"No meeting overview available."}extractMeetingInsights(e){var r,i;const n={sentiment:"neutral",keyMetrics:{},recommendedFocus:[]};if((r=e.analytics)!=null&&r.sentiments){const{positive_pct:s,negative_pct:o,neutral_pct:a}=e.analytics.sentiments;s>50?n.sentiment="positive":o>30&&(n.sentiment="negative"),n.keyMetrics={positive_sentiment:s,negative_sentiment:o,neutral_sentiment:a}}if((i=e.analytics)!=null&&i.categories&&Object.assign(n.keyMetrics,{questions_count:e.analytics.categories.questions,tasks_mentioned:e.analytics.categories.tasks,metrics_discussed:e.analytics.categories.metrics,dates_mentioned:e.analytics.categories.date_times}),e.sentences){const s=e.sentences.filter(c=>{var u;return(u=c.ai_filters)==null?void 0:u.task}),o=e.sentences.filter(c=>{var u;return(u=c.ai_filters)==null?void 0:u.pricing}),a=e.sentences.filter(c=>{var u;return(u=c.ai_filters)==null?void 0:u.question});s.length>0&&n.recommendedFocus.push("Task Definition"),o.length>0&&n.recommendedFocus.push("Pricing Discussion"),a.length>0&&n.recommendedFocus.push("Requirements Clarification")}return n}formatForSOW(e){var a,c,u,f,g,p,m,y,x;const n=this.extractMeetingOverview(e),r=this.parseActionItems(((a=e.summary)==null?void 0:a.action_items)||""),i=((f=(u=(c=e.sentences)==null?void 0:c.filter(C=>{var b,E,S;return((b=C.ai_filters)==null?void 0:b.task)||((E=C.ai_filters)==null?void 0:E.pricing)||((S=C.ai_filters)==null?void 0:S.metric)}))==null?void 0:u.slice(0,5))==null?void 0:f.map(C=>`"${C.text}" - ${C.speaker_name}`))||[],s=((p=(g=e.analytics)==null?void 0:g.speakers)==null?void 0:p.map(C=>{var A;const b=C.duration_pct>30?"High":C.duration_pct>15?"Medium":"Low",S=(((A=e.sentences)==null?void 0:A.filter(T=>T.speaker_id===C.speaker_id))||[]).filter(T=>{var k,I;return((k=T.ai_filters)==null?void 0:k.task)||((I=T.ai_filters)==null?void 0:I.question)}).slice(0,3).map(T=>T.text);return{name:C.name,participationLevel:b,keyContributions:S}}))||[],o={date:e.date||e.dateString||new Date().toISOString(),duration:`${Math.round((e.duration||0)/60)} minutes`,type:((m=e.summary)==null?void 0:m.meeting_type)||"Meeting",attendeeCount:((y=e.meeting_attendees)==null?void 0:y.length)||((x=e.participants)==null?void 0:x.length)||0};return{overview:n,actionItems:r,keyQuotes:i,participantInsights:s,meetingMetadata:o}}extractSimplifiedMeetingData(e){var o,a,c,u,f,g,p,m,y;const n=((o=e.meeting_attendees)==null?void 0:o.map(x=>({name:x.displayName||x.name||"Unknown",email:x.email||"",role:x.location||void 0})))||[],r=((a=e.speakers)==null?void 0:a.map(x=>({name:x.name,id:x.id})))||[],i={overview:((c=e.summary)==null?void 0:c.short_summary)||((u=e.summary)==null?void 0:u.overview)||"",actionItems:this.parseActionItems(((f=e.summary)==null?void 0:f.action_items)||""),keywords:((g=e.summary)==null?void 0:g.keywords)||[],keyPoints:((p=e.summary)==null?void 0:p.bullet_gist)||((m=e.summary)==null?void 0:m.gist)||""},s={title:e.title||"Meeting",date:e.dateString||((y=e.date)==null?void 0:y.toString())||"",duration:e.duration?`${Math.round(e.duration)} minutes`:"Unknown"};return{attendees:n,speakers:r,summary:i,meetingInfo:s}}parseActionItems(e){if(!e)return[];const n=[],r=e.split(`
`).filter(i=>i.trim());for(const i of r){if(i.startsWith("**"))continue;const s=i.trim();s&&!s.startsWith("**")&&n.push(s)}return n}handleError(e){var n,r,i;if(qe.isAxiosError(e)){const s=((r=(n=e.response)==null?void 0:n.data)==null?void 0:r.message)||e.message,o=(i=e.response)==null?void 0:i.status;return new Error(`Fireflies API Error ${o}: ${s}`)}return e instanceof Error?e:new Error("Unknown error occurred")}}const u_=new Rne;function Ine(){const[t,e]=q.useState("templates"),[n,r]=q.useState(""),[i,s]=q.useState(null),[o,a]=q.useState(""),[c,u]=q.useState(!1),[f,g]=q.useState(!1),[p,m]=q.useState(""),[y,x]=q.useState("idle"),[C,b]=q.useState(""),[E,S]=q.useState(!1),{templates:A,addTemplate:T,updateTemplate:k,deleteTemplate:I}=Jd(),D=()=>{if(!n.trim())return;const Z={id:Date.now().toString(),name:n,content:"",sections:[]};T(Z),r("")},P=async()=>{if(!p.trim()){b("Please enter your Fireflies API key");return}x("testing"),console.log("xxxx",x),b("");try{console.log("Testing Fireflies connection...");const Z={meeting_url:"https://httpbin.org/status/404",title:"Connection Test"};try{await u_.transcribeAudio(Z)}catch(G){if(G.message.includes("401")||G.message.includes("403")||G.message.includes("Unauthorized"))throw new Error("Invalid API key. Please check your Fireflies API key.");console.log("API key appears to be valid (non-auth error occurred)")}x("connected"),console.log("Fireflies connection successful!"),localStorage.setItem("fireflies_api_key",p)}catch(Z){console.error("Fireflies connection failed:",Z),x("failed"),b(Z.message||"Connection failed. Please check your API key.")}};q.useEffect(()=>{const Z=localStorage.getItem("fireflies_api_key");Z&&(m(Z),x("connected"));const G=!!localStorage.getItem("hubspot_access_token");S(G)},[]);const R=()=>{i&&(k(i.id,{content:o}),u(!1))},O=Z=>{I(Z),(i==null?void 0:i.id)===Z&&(s(null),a(""))},z=Z=>{const G={...Z,id:Date.now().toString(),name:`${Z.name} (Copy)`};T(G)},ae=()=>{const Z="110008e7-4d30-4552-8585-b325ca1871fa",G="http://localhost:3000/oauth/hubspot/callback",$=["crm.objects.companies.read","crm.objects.contacts.read","crm.objects.deals.read"].join(" "),X=`https://app.hubspot.com/oauth/authorize?client_id=${encodeURIComponent(Z)}&redirect_uri=${encodeURIComponent(G)}&scope=${encodeURIComponent($)}&response_type=code`;window.location.href=X};return l.jsx("div",{className:"h-full bg-gray-50 overflow-auto",children:l.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[l.jsx("div",{className:"mb-8",children:l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Settings"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"flex -mb-px",children:[l.jsx("button",{onClick:()=>e("templates"),className:`px-6 py-3 text-sm font-medium ${t==="templates"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Templates"}),l.jsx("button",{onClick:()=>e("integrations"),className:`px-6 py-3 text-sm font-medium ${t==="integrations"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Integrations"}),l.jsx("button",{onClick:()=>e("workflow"),className:`px-6 py-3 text-sm font-medium ${t==="workflow"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Workflow"})]})}),l.jsxs("div",{className:"p-6",children:[t==="templates"&&l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("div",{className:"w-1/3 border-r border-gray-200 pr-4",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"text",placeholder:"New template name",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:n,onChange:Z=>r(Z.target.value)}),l.jsxs("button",{onClick:D,className:"flex items-center space-x-1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"Add"})]})]})}),l.jsx("div",{className:"space-y-2",children:A.map(Z=>l.jsxs("div",{className:`w-full flex items-center justify-between p-2 rounded-md ${(i==null?void 0:i.id)===Z.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"} cursor-pointer`,onClick:()=>{s(Z),a(Z.content),u(!1)},children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Zs,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-sm",children:Z.name})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:G=>{G.stopPropagation(),z(Z)},className:"p-1 text-gray-400 hover:text-gray-500",children:l.jsx(_E,{className:"w-4 h-4"})}),l.jsx("button",{onClick:G=>{G.stopPropagation(),O(Z.id)},className:"p-1 text-gray-400 hover:text-red-500",children:l.jsx(Xc,{className:"w-4 h-4"})})]})]},Z.id))})]}),l.jsx("div",{className:"flex-1",children:i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i.name}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>g(!f),className:`flex items-center space-x-1 px-3 py-2 rounded-md ${f?"bg-gray-100 text-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx(NE,{className:"w-4 h-4"}),l.jsx("span",{children:"Preview"})]}),l.jsxs("button",{onClick:()=>{c?R():u(!0)},className:`flex items-center space-x-1 px-3 py-2 rounded-md ${c?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[l.jsx(Tv,{className:"w-4 h-4"}),l.jsx("span",{children:c?"Save":"Edit"})]})]})]}),f?l.jsx("div",{className:"prose prose-sm max-w-none border rounded-md p-4",children:o}):l.jsx(kne,{height:"400px",defaultLanguage:"html",value:o,onChange:Z=>a(Z||""),options:{minimap:{enabled:!1},fontSize:14,readOnly:!c}})]}):l.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:"Select a template to view or edit"})})]}),t==="integrations"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"CRM Integration"}),l.jsxs("div",{className:"space-y-4",children:[E&&l.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[l.jsx(na,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:"Connected to HubSpot"})]}),l.jsx("button",{onClick:ae,disabled:E,className:`px-4 py-2 rounded-md ${E?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:E?"Connected":"Connect HubSpot"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"AI Note Taker Integration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fireflies.ai API Key"}),l.jsx("input",{type:"password",value:p,onChange:Z=>m(Z.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter your Fireflies.ai API key",disabled:y==="testing"})]}),y==="connected"&&l.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[l.jsx(na,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:"Connected to Fireflies.ai"})]}),y==="failed"&&C&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[l.jsx(Jc,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:C})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:P,disabled:y==="testing",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y==="testing"?l.jsxs(l.Fragment,{children:[l.jsx(gs,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Testing Connection..."})]}):y==="connected"?l.jsxs(l.Fragment,{children:[l.jsx(na,{className:"w-4 h-4"}),l.jsx("span",{children:"Reconnect"})]}):l.jsx("span",{children:"Connect Fireflies.ai"})}),y==="connected"&&l.jsx("button",{onClick:()=>window.open("/fireflies","_blank"),className:"px-4 py-2 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50",children:"Open Transcription Tool"})]}),l.jsx("div",{className:"text-sm text-gray-500",children:l.jsxs("p",{children:["Get your API key from ",l.jsx("a",{href:"https://fireflies.ai/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Fireflies.ai API Keys page"})]})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Digital Signature Integration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"DocuSign API Key"}),l.jsx("input",{type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter your DocuSign API key"})]}),l.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Connect DocuSign"})]})]})]}),t==="workflow"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Approval Chain Configuration"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number of Required Approvers"}),l.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{children:"1"}),l.jsx("option",{children:"2"}),l.jsx("option",{children:"3"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Value Threshold for Additional Approval"}),l.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter amount"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"email-notifications",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"email-notifications",className:"ml-2 text-sm text-gray-700",children:"Enable email notifications"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"slack-notifications",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),l.jsx("label",{htmlFor:"slack-notifications",className:"ml-2 text-sm text-gray-700",children:"Enable Slack notifications"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Escalation Rules"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Escalation Timeout (hours)"}),l.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter hours"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Escalation Path"}),l.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{children:"Team Lead"}),l.jsx("option",{children:"Department Head"}),l.jsx("option",{children:"Executive"})]})]})]})]})]})]})]})]})})}function Dne(){const t=Gi(),{projects:e}=bs(),[n,r]=q.useState("list"),[i,s]=q.useState(""),[o,a]=q.useState("all"),[c,u]=q.useState(!1),f=Ro.reduce((k,I)=>k+(I.value||0),0),g=1e6,p=Math.min(f/g*100,100),m=new Set(Ro.map(k=>k.client)).size,y=15,x=Ro.filter(k=>k.status==="pending_review").length,C=2,b=Ro.filter(k=>k.status==="pending_review"||k.status==="draft").slice(0,3),E=[...Ro].sort((k,I)=>new Date(I.updatedAt).getTime()-new Date(k.updatedAt).getTime()).slice(0,3),S=Ro.filter(k=>{const I=k.title.toLowerCase().includes(i.toLowerCase())||k.client.toLowerCase().includes(i.toLowerCase()),D=o==="all"||k.status===o;return I&&D}),A=k=>{const I=e.find(D=>D.sowId===k.id);t(I?`/project/${k.id}/manage`:`/project/${k.id}`)},T=k=>{const I={draft:"bg-gray-100 text-gray-800",pending_review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800"};return I[k]||I.draft};return l.jsx("div",{className:"h-full bg-gray-50 overflow-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),l.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-5 h-5"}),l.jsx("span",{children:"New SOW"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total SOW Value"}),l.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["$",f.toLocaleString()]})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(F6,{className:"w-6 h-6 text-blue-600"})})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 rounded-full h-2",style:{width:`${p}%`}})}),l.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[p.toFixed(1),"% of $",g.toLocaleString()," target"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Clients"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:m})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx(ba,{className:"w-6 h-6 text-green-600"})})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(z6,{className:"w-4 h-4 text-green-500"}),l.jsxs("span",{className:"text-sm text-green-600",children:[y,"% from last month"]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approvals"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x})]}),l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(xs,{className:"w-6 h-6 text-yellow-600"})})]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[x," SOWs awaiting review"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Contract Alerts"}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:C})]}),l.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:l.jsx(Eq,{className:"w-6 h-6 text-red-600"})})]}),l.jsxs("p",{className:"text-sm text-red-500",children:[C," contracts expiring soon"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Urgent Items"})}),l.jsx("div",{className:"p-6 space-y-4",children:b.map(k=>l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded-lg",onClick:()=>A(k),children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.title}),l.jsx("p",{className:"text-sm text-gray-500",children:k.client})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k.status==="pending_review"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:k.status.replace("_"," ").charAt(0).toUpperCase()+k.status.slice(1)})]},k.id))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Updates"})}),l.jsx("div",{className:"p-6 space-y-4",children:E.map(k=>l.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-4 px-4 py-2 rounded-lg",onClick:()=>A(k),children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.title}),l.jsx("p",{className:"text-sm text-gray-500",children:k.client})]}),l.jsx("div",{className:"text-right",children:l.jsx("span",{className:"text-sm text-gray-500",children:dn(new Date(k.updatedAt),"MMM d, yyyy")})})]},k.id))})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search SOWs...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:i,onChange:k=>s(k.target.value)})]}),l.jsxs("select",{className:"pl-3 pr-10 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:o,onChange:k=>a(k.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"draft",children:"Draft"}),l.jsx("option",{value:"pending_review",children:"Pending Review"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"completed",children:"Completed"})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[l.jsx(Nv,{className:"w-4 h-4"}),l.jsx("span",{children:"Advanced Filters"})]})]}),l.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>r("list"),className:`p-2 rounded-md ${n==="list"?"bg-gray-100":"hover:bg-gray-50"}`,children:l.jsx(jq,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>r("grid"),className:`p-2 rounded-md ${n==="grid"?"bg-gray-100":"hover:bg-gray-50"}`,children:l.jsx(kq,{className:"w-5 h-5"})})]})]})}),n==="list"?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Title"}),l.jsx(vr,{className:"w-4 h-4"})]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Client"}),l.jsx(vr,{className:"w-4 h-4"})]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Value"}),l.jsx(vr,{className:"w-4 h-4"})]})}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:l.jsxs("button",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Last Updated"}),l.jsx(vr,{className:"w-4 h-4"})]})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(k=>l.jsxs("tr",{onClick:()=>A(k),className:"hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.title})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:k.client})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T(k.status)}`,children:k.status.replace("_"," ").charAt(0).toUpperCase()+k.status.slice(1)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:k.value?`$${k.value.toLocaleString()}`:"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500",children:dn(new Date(k.updatedAt),"MMM d, yyyy")})})]},k.id))})]})}):l.jsx("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(k=>{var I;return l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md cursor-pointer",onClick:()=>A(k),children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:k.title}),l.jsx("p",{className:"text-sm text-gray-500",children:k.client})]}),l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T(k.status)}`,children:k.status.replace("_"," ").charAt(0).toUpperCase()+k.status.slice(1)})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-gray-500",children:["$",((I=k.value)==null?void 0:I.toLocaleString())||"-"]}),l.jsx("span",{className:"text-gray-500",children:dn(new Date(k.updatedAt),"MMM d, yyyy")})]})]},k.id)})})]}),c&&l.jsx(X6,{onClose:()=>u(!1)})]})})}const E1=[{id:"1",role:"approver",department:"Technical",minApprovers:1,order:1},{id:"2",role:"approver",department:"Finance",minApprovers:1,threshold:5e4,order:2},{id:"3",role:"approver",department:"Legal",minApprovers:1,threshold:1e5,order:3},{id:"4",role:"admin",department:"Executive",minApprovers:1,threshold:25e4,order:4}],xd=[{id:"1",name:"John Smith",email:"john.smith@company.com",role:"approver",department:"Technical"},{id:"2",name:"Sarah Johnson",email:"sarah.johnson@company.com",role:"approver",department:"Finance"},{id:"3",name:"Michael Chen",email:"michael.chen@company.com",role:"approver",department:"Legal"},{id:"4",name:"Emily Davis",email:"emily.davis@company.com",role:"admin",department:"Executive"},{id:"5",name:"David Wilson",email:"david.wilson@company.com",role:"creator",department:"Sales"}];function Pne({requirements:t}){const e=t.reduce((n,r)=>n+r.hours*r.rate,0);return l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(n=>l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:n.title}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:n.description}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx(xs,{className:"w-4 h-4 mr-1"}),l.jsxs("span",{children:[n.hours,"h"]})]}),l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx(U6,{className:"w-4 h-4 mr-1"}),l.jsxs("span",{children:["$",n.rate,"/h"]})]})]})]},n.title))}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Total Estimated Cost:"}),l.jsxs("span",{className:"ml-2 text-lg font-medium text-gray-900",children:["$",e.toLocaleString()]})]})})]})}const A4=[{id:"tm1",name:"Alice Johnson",role:"Project Manager",hourlyRate:150,availability:40,skills:["Project Management","Agile","Risk Management","Stakeholder Management"]},{id:"tm2",name:"Bob Smith",role:"Senior Developer",hourlyRate:125,availability:40,skills:["Architecture","Technical Leadership","Full Stack Development","Cloud Infrastructure"]},{id:"tm3",name:"Carol White",role:"Senior Developer",hourlyRate:125,availability:40,skills:["Technical Leadership","Backend Development","Database Design","System Architecture"]},{id:"tm4",name:"David Brown",role:"Developer",hourlyRate:100,availability:40,skills:["Frontend Development","React","TypeScript","UI/UX"]},{id:"tm5",name:"Eve Martinez",role:"Developer",hourlyRate:100,availability:40,skills:["Backend Development","Node.js","Python","API Design"]}];function jne({role:t,onAssign:e,currentAssignment:n}){const[r,i]=q.useState((n==null?void 0:n.memberId)||""),[s,o]=q.useState((n==null?void 0:n.hours)||t.hours),[a,c]=q.useState(!1),u=A4.filter(m=>m.hourlyRate<=t.rate*1.2&&m.skills.some(y=>y.toLowerCase().includes(t.title.toLowerCase()))),f=m=>{i(m),c(!1),e(m||null,s)},g=m=>{o(m),r&&e(r,m)},p=()=>{c(!0),i(""),e(null,0)};return l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:t.title}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:["Required: ",t.hours,"h"]}),l.jsx("button",{onClick:p,className:`text-sm ${a?"text-blue-600 font-medium":"text-gray-500 hover:text-gray-700"}`,children:"Skip for now"})]})]}),a?l.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-md p-3 flex items-center space-x-2",children:[l.jsx(_v,{className:"w-5 h-5 text-yellow-500"}),l.jsx("span",{className:"text-sm text-yellow-700",children:"Assignment skipped - you can come back to assign this role later"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Team Member"}),l.jsxs("select",{value:r,onChange:m=>f(m.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"Select a team member..."}),u.map(m=>l.jsxs("option",{value:m.id,children:[m.name," - $",m.hourlyRate,"/h"]},m.id))]})]}),r&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allocated Hours"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"number",value:s,onChange:m=>g(Number(m.target.value)),className:"w-24 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-500",children:"hours"})]})]}),r&&l.jsxs("div",{className:"mt-2",children:[l.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Member Details"}),l.jsx("div",{className:"bg-gray-50 rounded-md p-3",children:(()=>{const m=A4.find(y=>y.id===r);return m?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx($6,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-900",children:m.name})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(xs,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Available: ",m.availability,"h/week"]})]}),l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Skills:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.skills.map((y,x)=>l.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 text-gray-700 rounded",children:y},x))})]})]}):null})()})]})]})]})}function Mne(t){return[{title:"Project Manager",description:"Oversees project execution and client communication",hours:120,rate:150},{title:"Senior Developer",description:"Technical leadership and architecture",hours:240,rate:125},{title:"Developer",description:"Implementation and testing",hours:480,rate:100}]}function One({sow:t,onClose:e,onAssign:n}){const[r,i]=q.useState([]),[s,o]=q.useState([]),a=q.useMemo(()=>Mne(),[t]),c=(p,m,y)=>{i(x=>{const C=x.findIndex(b=>b.role===p);if(C!==-1){const b=[...x];return b[C]={role:p,memberId:m,hours:y},b}return[...x,{role:p,memberId:m,hours:y}]})},u=()=>{const p=[];return a.forEach(m=>{r.find(x=>x.role===m.title)||p.push(`${m.title} role must be assigned or skipped`)}),r.forEach(m=>{if(m.memberId){const y=a.find(x=>x.title===m.role);y&&m.hours!==y.hours&&p.push(`${m.role} hours must match the required ${y.hours} hours`)}}),o(p),p.length===0},f=()=>{u()&&n(r)},g=()=>r.filter(p=>p.memberId===null).length;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Assign Project Team"}),g()>0&&l.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:[g()," role(s) skipped"]})]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:l.jsx(Eu,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Role Requirements"}),l.jsx(Pne,{requirements:a})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Assign Team Members"}),a.map(p=>l.jsx("div",{className:"mb-6",children:l.jsx(jne,{role:p,onAssign:(m,y)=>c(p.title,m,y),currentAssignment:r.find(m=>m.role===p.title&&m.memberId)})},p.title))]}),s.length>0&&l.jsxs("div",{className:"mt-4 p-4 bg-red-50 rounded-md",children:[l.jsxs("div",{className:"flex items-center mb-2",children:[l.jsx(_v,{className:"w-5 h-5 text-red-400 mr-2"}),l.jsx("span",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"})]}),l.jsx("ul",{className:"list-disc list-inside text-sm text-red-700",children:s.map((p,m)=>l.jsx("li",{children:p},m))})]})]}),l.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-4",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:g()>0?"Continue with Partial Team":"Assign Team"})]})]})})}function Lne(){var f;const{id:t}=d2(),e=Gi(),[n,r]=q.useState(!1),{createProject:i}=bs(),s=Ro.find(g=>g.id===t);if(!s)return l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("p",{className:"text-gray-500",children:"Project not found"})});const o=g=>{i({sowId:s.id,title:s.title,status:"planning",startDate:new Date().toISOString(),endDate:new Date(Date.now()+90*24*60*60*1e3).toISOString(),budget:s.value||0,team:g.map(p=>({id:p.memberId,role:p.role,hours:p.hours}))}),r(!1),e(`/project/${s.id}/manage`)},a=g=>{const p={draft:"bg-gray-100 text-gray-800",pending_review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800"};return p[g]||p.draft},u=(()=>{if(!s.currentApprovalStep&&s.currentApprovalStep!==0)return null;const g=E1[s.currentApprovalStep];return xd.find(p=>p.role===g.role&&p.department===g.department)})();return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:s.title}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a(s.status)}`,children:s.status.replace("_"," ").charAt(0).toUpperCase()+s.status.slice(1)}),s.value&&l.jsxs("span",{className:"text-gray-600",children:["$",s.value.toLocaleString()]})]})]}),l.jsx("p",{className:"mt-2 text-gray-600",children:s.client})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Project Overview"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Created"}),l.jsx("p",{className:"text-sm font-medium text-gray-900",children:dn(new Date(s.createdAt),"MMM d, yyyy")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),l.jsx("p",{className:"text-sm font-medium text-gray-900",children:dn(new Date(s.updatedAt),"MMM d, yyyy")})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Version"}),l.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.version})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Created By"}),l.jsx("p",{className:"text-sm font-medium text-gray-900",children:((f=xd.find(g=>g.id===s.createdBy))==null?void 0:f.name)||"Unknown"})]})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"space-y-3",children:[s.status==="draft"&&l.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(TE,{className:"w-4 h-4"}),l.jsx("span",{children:"Submit for Approval"})]}),s.status==="pending_review"&&u&&l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("p",{children:"Waiting for approval from:"}),l.jsx("p",{className:"font-medium",children:u.name}),l.jsx("p",{className:"text-gray-500",children:u.department})]}),s.status==="approved"&&l.jsxs("button",{onClick:()=>r(!0),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[l.jsx(ba,{className:"w-4 h-4"}),l.jsx("span",{children:"Assign Team"})]})]})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Approval Timeline"}),l.jsx("div",{className:"relative",children:E1.map((g,p)=>{const m=s.currentApprovalStep>p,y=s.currentApprovalStep===p,x=s.approvals.filter(C=>{var b;return C.status==="approved"&&((b=xd.find(E=>E.id===C.userId))==null?void 0:b.department)===g.department});return l.jsxs("div",{className:"mb-8 relative",children:[p<E1.length-1&&l.jsx("div",{className:`absolute left-6 top-6 bottom-0 w-0.5 ${m?"bg-green-500":"bg-gray-200"}`}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${m?"bg-green-100":y?"bg-blue-100":"bg-gray-100"}`,children:m?l.jsx(G6,{className:`w-6 h-6 ${m?"text-green-600":y?"text-blue-600":"text-gray-400"}`}):l.jsx(xs,{className:`w-6 h-6 ${y?"text-blue-600":"text-gray-400"}`})}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"font-medium text-gray-900",children:[g.department," Approval"]}),g.threshold&&l.jsxs("span",{className:"text-sm text-gray-500",children:["Required for SOWs over $",g.threshold.toLocaleString()]})]}),x.length>0&&l.jsx("div",{className:"mt-2 space-y-2",children:x.map(C=>{const b=xd.find(E=>E.id===C.userId);return l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"text-gray-900",children:b==null?void 0:b.name}),C.comment&&l.jsx("p",{className:"text-gray-500",children:C.comment}),l.jsx("p",{className:"text-xs text-gray-400",children:dn(new Date(C.timestamp),"MMM d, yyyy h:mm a")})]},C.id)})})]})})]})]},g.id)})})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Action History"}),l.jsx("div",{className:"space-y-4",children:s.history.map((g,p)=>{const m=xd.find(y=>y.id===g.userId);return l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm text-gray-600",children:m==null?void 0:m.name.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.action.split("_").join(" ").charAt(0).toUpperCase()+g.action.split("_").join(" ").slice(1)}),g.details&&l.jsx("p",{className:"text-sm text-gray-500",children:g.details}),l.jsx("p",{className:"text-xs text-gray-400",children:dn(new Date(g.timestamp),"MMM d, yyyy h:mm a")})]})]},p)})})]})}),n&&l.jsx(One,{sow:s,onClose:()=>r(!1),onAssign:o})]})})}function Fne({project:t}){const{addMilestone:e,updateMilestone:n}=bs(),[r,i]=q.useState(!1),[s,o]=q.useState(null),a=u=>{e(t.id,u),i(!1)},c=u=>{n(t.id,u.id,u),o(null)};return l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Project Timeline"}),l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Milestone"})]})]})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"relative",children:t.milestones.map((u,f)=>l.jsxs("div",{className:"mb-8 relative",children:[f<t.milestones.length-1&&l.jsx("div",{className:"absolute left-6 top-6 bottom-0 w-0.5 bg-gray-200"}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u.status==="completed"?"bg-green-100":u.status==="in_progress"?"bg-blue-100":"bg-gray-100"}`,children:l.jsx(ta,{className:`w-6 h-6 ${u.status==="completed"?"text-green-600":u.status==="in_progress"?"text-blue-600":"text-gray-600"}`})}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.description})]}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.status==="completed"?"bg-green-100 text-green-800":u.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:u.status.replace("_"," ").charAt(0).toUpperCase()+u.status.slice(1)})]}),l.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ta,{className:"w-4 h-4"}),l.jsxs("span",{children:[dn(new Date(u.startDate),"MMM d")," -",dn(new Date(u.endDate),"MMM d, yyyy")]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(xs,{className:"w-4 h-4"}),l.jsxs("span",{children:[u.hoursLogged,"/",u.hoursAllocated,"h"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ba,{className:"w-4 h-4"}),l.jsxs("span",{children:[u.assignees.length," assignees"]})]})]})]})})]})]},u.id))})}),(r||s)&&l.jsx(Une,{milestone:s,onSave:s?c:a,onClose:()=>{i(!1),o(null)},team:t.team})]})}function Une({milestone:t,onSave:e,onClose:n,team:r}){const[i,s]=q.useState({id:(t==null?void 0:t.id)||Date.now().toString(),title:(t==null?void 0:t.title)||"",description:(t==null?void 0:t.description)||"",startDate:(t==null?void 0:t.startDate)||new Date().toISOString().split("T")[0],endDate:(t==null?void 0:t.endDate)||new Date().toISOString().split("T")[0],status:(t==null?void 0:t.status)||"not_started",assignees:(t==null?void 0:t.assignees)||[],hoursAllocated:(t==null?void 0:t.hoursAllocated)||0,hoursLogged:(t==null?void 0:t.hoursLogged)||0,dependencies:(t==null?void 0:t.dependencies)||[]});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:t?"Edit Milestone":"Add Milestone"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),l.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.title,onChange:o=>s({...i,title:o.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3,value:i.description,onChange:o=>s({...i,description:o.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),l.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.startDate.split("T")[0],onChange:o=>s({...i,startDate:o.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),l.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.endDate.split("T")[0],onChange:o=>s({...i,endDate:o.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),l.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.status,onChange:o=>s({...i,status:o.target.value}),children:[l.jsx("option",{value:"not_started",children:"Not Started"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assignees"}),l.jsx("div",{className:"mt-2 space-y-2",children:r.map(o=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:i.assignees.includes(o.id),onChange:a=>{const c=a.target.checked?[...i.assignees,o.id]:i.assignees.filter(u=>u!==o.id);s({...i,assignees:c})}}),l.jsxs("span",{className:"text-sm text-gray-700",children:[o.name," (",o.role,")"]})]},o.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hours Allocated"}),l.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.hoursAllocated,onChange:o=>s({...i,hoursAllocated:Number(o.target.value)})})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsxs("button",{onClick:()=>e(i),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[t?"Update":"Add"," Milestone"]})]})]})})}function Bne({project:t}){const{addRisk:e,updateRisk:n,removeRisk:r}=bs(),[i,s]=q.useState(!1),[o,a]=q.useState(null),c=g=>g.impact*g.probability,u=g=>g>=20?"bg-red-100 text-red-800":g>=12?"bg-orange-100 text-orange-800":g>=8?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",f=[...t.risks].sort((g,p)=>c(p)-c(g));return l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Risk Matrix"}),l.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Risk"})]})]})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"space-y-4",children:f.map(g=>{const p=c(g);return l.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(_v,{className:`w-5 h-5 ${p>=20?"text-red-500":p>=12?"text-orange-500":p>=8?"text-yellow-500":"text-green-500"}`}),l.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${u(p)}`,children:["Risk Score: ",p]}),l.jsx("span",{className:"text-sm text-gray-500",children:g.category.charAt(0).toUpperCase()+g.category.slice(1)})]}),l.jsx("p",{className:"mt-2 text-sm text-gray-900",children:g.description}),l.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[l.jsxs("p",{children:["Impact: ",g.impact,"/5 | Probability: ",g.probability,"/5"]}),l.jsxs("p",{className:"mt-1",children:["Mitigation: ",g.mitigation]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsx("button",{onClick:()=>a(g),className:"p-2 text-gray-400 hover:text-blue-600",children:l.jsx(Tv,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>r(t.id,g.id),className:"p-2 text-gray-400 hover:text-red-600",children:l.jsx(Xc,{className:"w-4 h-4"})})]})]})},g.id)})})}),(i||o)&&l.jsx(Hne,{risk:o,onSave:g=>{o?n(t.id,g.id,g):e(t.id,g),s(!1),a(null)},onClose:()=>{s(!1),a(null)},team:t.team})]})}function Hne({risk:t,onSave:e,onClose:n,team:r}){var o;const[i,s]=q.useState({id:(t==null?void 0:t.id)||Date.now().toString(),category:(t==null?void 0:t.category)||"personnel",description:(t==null?void 0:t.description)||"",impact:(t==null?void 0:t.impact)||3,probability:(t==null?void 0:t.probability)||3,mitigation:(t==null?void 0:t.mitigation)||"",owner:(t==null?void 0:t.owner)||((o=r[0])==null?void 0:o.id)||"",status:(t==null?void 0:t.status)||"identified"});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:t?"Edit Risk":"Add Risk"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),l.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.category,onChange:a=>s({...i,category:a.target.value}),children:[l.jsx("option",{value:"personnel",children:"Personnel Dependency"}),l.jsx("option",{value:"requirements",children:"Requirements Uncertainty"}),l.jsx("option",{value:"technical",children:"Technical Dependencies"}),l.jsx("option",{value:"stakeholder",children:"Stakeholder Availability"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3,value:i.description,onChange:a=>s({...i,description:a.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Impact (1-5)"}),l.jsx("input",{type:"number",min:"1",max:"5",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.impact,onChange:a=>s({...i,impact:Number(a.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Probability (1-5)"}),l.jsx("input",{type:"number",min:"1",max:"5",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.probability,onChange:a=>s({...i,probability:Number(a.target.value)})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mitigation Strategy"}),l.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3,value:i.mitigation,onChange:a=>s({...i,mitigation:a.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Risk Owner"}),l.jsx("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.owner,onChange:a=>s({...i,owner:a.target.value}),children:r.map(a=>l.jsxs("option",{value:a.id,children:[a.name," (",a.role,")"]},a.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),l.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:i.status,onChange:a=>s({...i,status:a.target.value}),children:[l.jsx("option",{value:"identified",children:"Identified"}),l.jsx("option",{value:"mitigated",children:"Mitigated"}),l.jsx("option",{value:"accepted",children:"Accepted"})]})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsxs("button",{onClick:()=>e(i),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[t?"Update":"Add"," Risk"]})]})]})})}function zne({project:t}){const{submitChangeRequest:e,approveChangeRequest:n,rejectChangeRequest:r}=bs(),[i,s]=q.useState(!1),[o,a]=q.useState(null),c=u=>{e(t.id,u),s(!1)};return l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Change Requests"}),l.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"New Request"})]})]})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"space-y-4",children:t.changeRequests.map(u=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",onClick:()=>a(u),children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u.description})]}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${u.status==="approved"?"bg-green-100 text-green-800":u.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(U6,{className:"w-4 h-4"}),l.jsxs("span",{children:["Impact: $",u.impact.cost.toLocaleString()]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ta,{className:"w-4 h-4"}),l.jsx("span",{children:dn(new Date(u.requestDate),"MMM d, yyyy")})]})]})]},u.id))})}),i&&l.jsx(Gne,{onSubmit:c,onClose:()=>s(!1)}),o&&l.jsx($ne,{request:o,onApprove:u=>{n(t.id,u,"current-user-id"),a(null)},onReject:u=>{r(t.id,u,"Rejected by approver"),a(null)},onClose:()=>a(null)})]})}function Gne({onSubmit:t,onClose:e}){const[n,r]=q.useState({title:"",description:"",requestedBy:"current-user-id",requestDate:new Date().toISOString(),impact:{scope:"",schedule:"",resources:"",cost:0}});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"New Change Request"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),l.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:n.title,onChange:i=>r({...n,title:i.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3,value:n.description,onChange:i=>r({...n,description:i.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Impact Analysis"}),l.jsxs("div",{className:"space-y-4 mt-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600",children:"Scope Impact"}),l.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:2,value:n.impact.scope,onChange:i=>r({...n,impact:{...n.impact,scope:i.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600",children:"Schedule Impact"}),l.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:2,value:n.impact.schedule,onChange:i=>r({...n,impact:{...n.impact,schedule:i.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600",children:"Resource Impact"}),l.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:2,value:n.impact.resources,onChange:i=>r({...n,impact:{...n.impact,resources:i.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-600",children:"Cost Impact ($)"}),l.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:n.impact.cost,onChange:i=>r({...n,impact:{...n.impact,cost:Number(i.target.value)}})})]})]})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsx("button",{onClick:()=>t({...n,id:Date.now().toString(),status:"pending"}),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit Request"})]})]})})}function $ne({request:t,onApprove:e,onReject:n,onClose:r}){return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.title}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.status==="approved"?"bg-green-100 text-green-800":t.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Description"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.description})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Impact Analysis"}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Scope Impact:"}),l.jsx("p",{className:"text-sm text-gray-600",children:t.impact.scope})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Schedule Impact:"}),l.jsx("p",{className:"text-sm text-gray-600",children:t.impact.schedule})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resource Impact:"}),l.jsx("p",{className:"text-sm text-gray-600",children:t.impact.resources})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Cost Impact:"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["$",t.impact.cost.toLocaleString()]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[l.jsxs("span",{children:["Requested by: ",t.requestedBy]}),l.jsxs("span",{children:["Date: ",dn(new Date(t.requestDate),"MMM d, yyyy")]})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Close"}),t.status==="pending"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>n(t.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Reject"}),l.jsx("button",{onClick:()=>e(t.id),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Approve"})]})]})]})})}var ty,Ie,TO,kO,iu,Xa,N4,RO,IO,m0={},DO=[],Vne=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Fo(t,e){for(var n in e)t[n]=e[n];return t}function PO(t){var e=t.parentNode;e&&e.removeChild(t)}function F(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ty.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Jp(t,o,r,i,null)}function Jp(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++TO};return i==null&&Ie.vnode!=null&&Ie.vnode(s),s}function sr(){return{current:null}}function Tt(t){return t.children}function Wne(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||v0(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||v0(t,s,e[s],n[s],r)}function T4(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Vne.test(e)?n:n+"px"}function v0(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||T4(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||T4(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?R4:k4,s):t.removeEventListener(e,s?R4:k4,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function k4(t){iu=!0;try{return this.l[t.type+!1](Ie.event?Ie.event(t):t)}finally{iu=!1}}function R4(t){iu=!0;try{return this.l[t.type+!0](Ie.event?Ie.event(t):t)}finally{iu=!1}}function Ur(t,e){this.props=t,this.context=e}function $h(t,e){if(e==null)return t.__?$h(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?$h(t):null}function jO(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return jO(t)}}function qne(t){iu?setTimeout(t):RO(t)}function US(t){(!t.__d&&(t.__d=!0)&&Xa.push(t)&&!y0.__r++||N4!==Ie.debounceRendering)&&((N4=Ie.debounceRendering)||qne)(y0)}function y0(){var t,e,n,r,i,s,o,a;for(Xa.sort(function(c,u){return c.__v.__b-u.__v.__b});t=Xa.shift();)t.__d&&(e=Xa.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=Fo({},s)).__v=s.__v+1,d_(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??$h(s),s.__h),UO(r,s),s.__e!=o&&jO(s)),Xa.length>e&&Xa.sort(function(c,u){return c.__v.__b-u.__v.__b}));y0.__r=0}function MO(t,e,n,r,i,s,o,a,c,u){var f,g,p,m,y,x,C,b=r&&r.__k||DO,E=b.length;for(n.__k=[],f=0;f<e.length;f++)if((m=n.__k[f]=(m=e[f])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?Jp(null,m,null,null,m):Array.isArray(m)?Jp(Tt,{children:m},null,null,null):m.__b>0?Jp(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(p=b[f])===null||p&&m.key==p.key&&m.type===p.type)b[f]=void 0;else for(g=0;g<E;g++){if((p=b[g])&&m.key==p.key&&m.type===p.type){b[g]=void 0;break}p=null}d_(t,m,p=p||m0,i,s,o,a,c,u),y=m.__e,(g=m.ref)&&p.ref!=g&&(C||(C=[]),p.ref&&C.push(p.ref,null,m),C.push(g,m.__c||y,m)),y!=null?(x==null&&(x=y),typeof m.type=="function"&&m.__k===p.__k?m.__d=c=OO(m,c,t):c=LO(t,m,p,b,y,c),typeof n.type=="function"&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=t&&(c=$h(p))}for(n.__e=x,f=E;f--;)b[f]!=null&&(typeof n.type=="function"&&b[f].__e!=null&&b[f].__e==n.__d&&(n.__d=FO(r).nextSibling),HO(b[f],b[f]));if(C)for(f=0;f<C.length;f++)BO(C[f],C[++f],C[++f])}function OO(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?OO(r,e,n):LO(n,r,r,i,r.__e,e));return e}function x0(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){x0(n,e)}):e.push(t)),e}function LO(t,e,n,r,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<r.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function FO(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=FO(n)))return r}return null}function d_(t,e,n,r,i,s,o,a,c){var u,f,g,p,m,y,x,C,b,E,S,A,T,k,I,D=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(u=Ie.__b)&&u(e);try{e:if(typeof D=="function"){if(C=e.props,b=(u=D.contextType)&&r[u.__c],E=u?b?b.props.value:u.__:r,n.__c?x=(f=e.__c=n.__c).__=f.__E:("prototype"in D&&D.prototype.render?e.__c=f=new D(C,E):(e.__c=f=new Ur(C,E),f.constructor=D,f.render=Yne),b&&b.sub(f),f.props=C,f.state||(f.state={}),f.context=E,f.__n=r,g=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),D.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Fo({},f.__s)),Fo(f.__s,D.getDerivedStateFromProps(C,f.__s))),p=f.props,m=f.state,f.__v=e,g)D.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(D.getDerivedStateFromProps==null&&C!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(C,E),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(C,f.__s,E)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(f.props=C,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(C,f.__s,E),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,m,y)})}if(f.context=E,f.props=C,f.__P=t,A=Ie.__r,T=0,"prototype"in D&&D.prototype.render){for(f.state=f.__s,f.__d=!1,A&&A(e),u=f.render(f.props,f.state,f.context),k=0;k<f._sb.length;k++)f.__h.push(f._sb[k]);f._sb=[]}else do f.__d=!1,A&&A(e),u=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++T<25);f.state=f.__s,f.getChildContext!=null&&(r=Fo(Fo({},r),f.getChildContext())),g||f.getSnapshotBeforeUpdate==null||(y=f.getSnapshotBeforeUpdate(p,m)),I=u!=null&&u.type===Tt&&u.key==null?u.props.children:u,MO(t,Array.isArray(I)?I:[I],e,n,r,i,s,o,a,c),f.base=e.__e,e.__h=null,f.__h.length&&o.push(f),x&&(f.__E=f.__=null),f.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Kne(n.__e,e,n,r,i,s,o,c);(u=Ie.diffed)&&u(e)}catch(P){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),Ie.__e(P,e,n)}}function UO(t,e){Ie.__c&&Ie.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Ie.__e(r,n.__v)}})}function Kne(t,e,n,r,i,s,o,a){var c,u,f,g=n.props,p=e.props,m=e.type,y=0;if(m==="svg"&&(i=!0),s!=null){for(;y<s.length;y++)if((c=s[y])&&"setAttribute"in c==!!m&&(m?c.localName===m:c.nodeType===3)){t=c,s[y]=null;break}}if(t==null){if(m===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,p.is&&p),s=null,a=!1}if(m===null)g===p||a&&t.data===p||(t.data=p);else{if(s=s&&ty.call(t.childNodes),u=(g=n.props||m0).dangerouslySetInnerHTML,f=p.dangerouslySetInnerHTML,!a){if(s!=null)for(g={},y=0;y<t.attributes.length;y++)g[t.attributes[y].name]=t.attributes[y].value;(f||u)&&(f&&(u&&f.__html==u.__html||f.__html===t.innerHTML)||(t.innerHTML=f&&f.__html||""))}if(Wne(t,p,g,i,a),f)e.__k=[];else if(y=e.props.children,MO(t,Array.isArray(y)?y:[y],e,n,r,i&&m!=="foreignObject",s,o,s?s[0]:n.__k&&$h(n,0),a),s!=null)for(y=s.length;y--;)s[y]!=null&&PO(s[y]);a||("value"in p&&(y=p.value)!==void 0&&(y!==t.value||m==="progress"&&!y||m==="option"&&y!==g.value)&&v0(t,"value",y,g.value,!1),"checked"in p&&(y=p.checked)!==void 0&&y!==t.checked&&v0(t,"checked",y,g.checked,!1))}return t}function BO(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Ie.__e(r,n)}}function HO(t,e,n){var r,i;if(Ie.unmount&&Ie.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||BO(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Ie.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&HO(r[i],e,n||typeof t.type!="function");n||t.__e==null||PO(t.__e),t.__=t.__e=t.__d=void 0}function Yne(t,e,n){return this.constructor(t,n)}function Vh(t,e,n){var r,i,s;Ie.__&&Ie.__(t,e),i=(r=typeof n=="function")?null:e.__k,s=[],d_(e,t=(!r&&n||e).__k=F(Tt,null,[t]),i||m0,m0,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?ty.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),UO(s,t)}function Qne(t,e){var n={__c:e="__cC"+IO++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,US(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ty=DO.slice,Ie={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},TO=0,kO=function(t){return t!=null&&t.constructor===void 0},iu=!1,Ur.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Fo({},this.state),typeof t=="function"&&(t=t(Fo({},n),this.props)),t&&Fo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),US(this))},Ur.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),US(this))},Ur.prototype.render=Tt,Xa=[],RO=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y0.__r=0,IO=0;var cs,_1,I4,zO=[],A1=[],D4=Ie.__b,P4=Ie.__r,j4=Ie.diffed,M4=Ie.__c,O4=Ie.unmount;function Xne(){for(var t;t=zO.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Zp),t.__H.__h.forEach(BS),t.__H.__h=[]}catch(e){t.__H.__h=[],Ie.__e(e,t.__v)}}Ie.__b=function(t){cs=null,D4&&D4(t)},Ie.__r=function(t){P4&&P4(t);var e=(cs=t.__c).__H;e&&(_1===cs?(e.__h=[],cs.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=A1,n.__N=n.i=void 0})):(e.__h.forEach(Zp),e.__h.forEach(BS),e.__h=[])),_1=cs},Ie.diffed=function(t){j4&&j4(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(zO.push(e)!==1&&I4===Ie.requestAnimationFrame||((I4=Ie.requestAnimationFrame)||Jne)(Xne)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==A1&&(n.__=n.__V),n.i=void 0,n.__V=A1})),_1=cs=null},Ie.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Zp),n.__h=n.__h.filter(function(r){return!r.__||BS(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ie.__e(r,n.__v)}}),M4&&M4(t,e)},Ie.unmount=function(t){O4&&O4(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Zp(r)}catch(i){e=i}}),n.__H=void 0,e&&Ie.__e(e,n.__v))};var L4=typeof requestAnimationFrame=="function";function Jne(t){var e,n=function(){clearTimeout(r),L4&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);L4&&(e=requestAnimationFrame(n))}function Zp(t){var e=cs,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),cs=e}function BS(t){var e=cs;t.__c=t.__(),cs=e}function Zne(t,e){for(var n in e)t[n]=e[n];return t}function F4(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function U4(t){this.props=t}(U4.prototype=new Ur).isPureReactComponent=!0,U4.prototype.shouldComponentUpdate=function(t,e){return F4(this.props,t)||F4(this.state,e)};var B4=Ie.__b;Ie.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),B4&&B4(t)};var ere=Ie.__e;Ie.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}ere(t,e,n,r)};var H4=Ie.unmount;function GO(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Zne({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return GO(r,e,n)})),t}function $O(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return $O(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function N1(){this.__u=0,this.t=null,this.__b=null}function VO(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function pp(){this.u=null,this.o=null}Ie.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),H4&&H4(t)},(N1.prototype=new Ur).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=VO(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=$O(u,u.__c.__P,u.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.t.pop();)f.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},N1.prototype.componentWillUnmount=function(){this.t=[]},N1.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=GO(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&F(Tt,null,t.fallback);return i&&(i.__h=null),[F(Tt,null,e.__a?null:t.children),i]};var z4=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function tre(t){return this.getChildContext=function(){return t.context},t.children}function nre(t){var e=this,n=t.i;e.componentWillUnmount=function(){Vh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Vh(F(tre,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function rre(t,e){var n=F(nre,{__v:t,i:e});return n.containerInfo=e,n}(pp.prototype=new Ur).__a=function(t){var e=this,n=VO(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),z4(e,t,r)):i()};n?n(s):s()}},pp.prototype.render=function(t){this.u=null,this.o=new Map;var e=x0(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},pp.prototype.componentDidUpdate=pp.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){z4(t,n,e)})};var ire=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,sre=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ore=typeof document<"u",are=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Ur.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ur.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var G4=Ie.event;function lre(){}function cre(){return this.cancelBubble}function ure(){return this.defaultPrevented}Ie.event=function(t){return G4&&(t=G4(t)),t.persist=lre,t.isPropagationStopped=cre,t.isDefaultPrevented=ure,t.nativeEvent=t};var $4={configurable:!0,get:function(){return this.class}},V4=Ie.vnode;Ie.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];ore&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!are(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&sre.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=x0(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=x0(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&($4.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",$4))}t.$$typeof=ire,V4&&V4(t)};var W4=Ie.__r;Ie.__r=function(t){W4&&W4(t),t.__c};const WO=[],HS=new Map;function h_(t){WO.push(t),HS.forEach(e=>{KO(e,t)})}function dre(t){t.isConnected&&t.getRootNode&&qO(t.getRootNode())}function qO(t){let e=HS.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=fre();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}HS.set(t,e),hre(e)}}function hre(t){for(const e of WO)KO(t,e)}function KO(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let T1;function fre(){return T1===void 0&&(T1=gre()),T1}function gre(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&qO(document);var pre=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';h_(pre);class f_{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function g_(t){t.parentNode&&t.parentNode.removeChild(t)}function Wn(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(mre(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function mre(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function vre(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const yre=/(top|left|right|bottom|width|height)$/i;function nh(t,e){for(let n in e)YO(t,n,e[n])}function YO(t,e,n){n==null?t.style[e]="":typeof n=="number"&&yre.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function QO(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let q4=0;function ny(){return q4+=1,"fc-dom-"+q4}function ry(t){t.preventDefault()}function xre(t,e){return n=>{let r=Wn(n.target,t);r&&e.call(r,n,r)}}function XO(t,e,n,r){let i=xre(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function bre(t,e,n,r){let i;return XO(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=c=>{i=null,r(c,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const K4=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function wre(t,e){let n=r=>{e(r),K4.forEach(i=>{t.removeEventListener(i,n)})};K4.forEach(r=>{t.addEventListener(r,n)})}function JO(t){return Object.assign({onClick:t},ZO(t))}function ZO(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let Y4=0;function Il(){return Y4+=1,String(Y4)}function p_(){document.body.classList.add("fc-not-allowed")}function m_(){document.body.classList.remove("fc-not-allowed")}function Sre(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",ry)}function Cre(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",ry)}function Ere(t){t.addEventListener("contextmenu",ry)}function _re(t){t.removeEventListener("contextmenu",ry)}function Are(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Nre(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=Tre(t,e,n[r]),i)return i;return 0}function Tre(t,e,n){return n.func?n.func(t,e):kre(t[n.field],e[n.field])*(n.order||1)}function kre(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Lc(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function rh(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function Rre(t,e){return t-e}function em(t){return t%1===0}function Ire(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const Q4=["years","months","days","milliseconds"],Dre=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Qe(t,e){return typeof t=="string"?Pre(t):typeof t=="object"&&t?X4(t):typeof t=="number"?X4({[e||"milliseconds"]:t}):null}function Pre(t){let e=Dre.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function X4(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function jre(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function zS(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function Mre(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function Ore(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function Lre(t){return Fc(t)/365}function Fre(t){return Fc(t)/30}function Fc(t){return ji(t)/864e5}function ji(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function v_(t,e){let n=null;for(let r=0;r<Q4.length;r+=1){let i=Q4[r];if(e[i]){let s=t[i]/e[i];if(!em(s)||n!==null&&n!==s)return null;n=s}else if(t[i])return null}return n}function GS(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ha(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const Ure=["sun","mon","tue","wed","thu","fri","sat"];function J4(t,e){let n=Uo(t);return n[2]+=e*7,xr(n)}function qn(t,e){let n=Uo(t);return n[2]+=e,xr(n)}function fa(t,e){let n=Uo(t);return n[6]+=e,xr(n)}function Bre(t,e){return Dl(t,e)/7}function Dl(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Hre(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function zre(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Gre(t,e){return(e.valueOf()-t.valueOf())/1e3}function $re(t,e){let n=Et(t),r=Et(e);return{years:0,months:0,days:Math.round(Dl(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function Vre(t,e){let n=b0(t,e);return n!==null&&n%7===0?n/7:null}function b0(t,e){return Bo(t)===Bo(e)?Math.round(Dl(t,e)):null}function Et(t){return xr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Wre(t){return xr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function qre(t){return xr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Kre(t){return xr([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Yre(t,e,n){let r=t.getUTCFullYear(),i=k1(t,r,e,n);if(i<1)return k1(t,r-1,e,n);let s=k1(t,r+1,e,n);return s>=1?Math.min(i,s):i}function k1(t,e,n,r){let i=xr([e,0,1+Qre(e,n,r)]),s=Et(t),o=Math.round(Dl(i,s));return Math.floor(o/7)+1}function Qre(t,e,n){let r=7+e-n;return-((7+xr([t,0,r]).getUTCDay()-e)%7)+r-1}function Z4(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function eI(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Uo(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function xr(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function e8(t){return!isNaN(t.valueOf())}function Bo(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function t8(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",x_(e,!0)))),r}function y_(t){return t.toISOString().replace(/T.*$/,"")}function Xre(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Jre(t){return Lc(t.getUTCHours(),2)+":"+Lc(t.getUTCMinutes(),2)+":"+Lc(t.getUTCSeconds(),2)}function x_(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+Lc(i,2)}:${Lc(s,2)}`:`GMT${n}${i}${s?`:${Lc(s,2)}`:""}`}function Pe(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!ha(r,s)){let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function tm(t,e,n){let r,i;return s=>(r?ys(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const tI={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},w0={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},mp=/\s*([ap])\.?m\.?/i,Zre=/,/g,eie=/\s+/g,tie=/\u200e/g,nie=/UTC|GMT/;class rie{constructor(e){let n={},r={},i=0;for(let s in e)s in tI?(r[s]=e[s],i=Math.max(tI[s],i)):(n[s]=e[s],s in w0&&(i=Math.max(w0[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=Pe(nI)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=cie(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let c=a;c>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(c=1);let u=this.format(e,r),f=this.format(n,r);if(u===f)return u;let g=uie(s,c),p=nI(g,o,r),m=p(e),y=p(n),x=die(u,m,f,y),C=o.separator||i||r.defaultSeparator||"";return x?x.before+m+C+y+x.after:u+C+f}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function nI(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>x_(i.timeZoneOffset):r===0&&e.week?i=>lie(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):iie(t,e,n)}function iie(t,e,n){t=Object.assign({},t),e=Object.assign({},e),sie(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let c=a.format(o);return oie(c,s,t,e,n)}}function sie(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function oie(t,e,n,r,i){return t=t.replace(tie,""),n.timeZoneName==="short"&&(t=aie(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":x_(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(Zre,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(mp,"").trim():r.meridiem==="narrow"?t=t.replace(mp,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(mp,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(mp,s=>s.toLocaleLowerCase())),t=t.replace(eie," "),t=t.trim(),t}function aie(t,e){let n=!1;return t=t.replace(nie,()=>(n=!0,e)),n||(t+=` ${e}`),t}function lie(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function cie(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Bo(t)!==Bo(e)?1:0}function uie(t,e){let n={};for(let r in t)(!(r in w0)||w0[r]<=e)&&(n[r]=t[r]);return n}function die(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),c=0;for(;c<n.length;){let u=n.indexOf(r,c);if(u===-1)break;let f=n.substr(0,u);c=u+r.length;let g=n.substr(c);if(o===f&&a===g)return{before:o,after:a}}}return null}function rI(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function S0(t,e,n,r){let i=rI(t,n.calendarSystem),s=e?rI(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class hie{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,S0(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,S0(e,n,r,i))}}class fie{constructor(e){this.func=e}format(e,n,r){return this.func(S0(e,null,n,r))}formatRange(e,n,r,i){return this.func(S0(e,n,r,i))}}function Bt(t){return typeof t=="object"&&t?new rie(t):typeof t=="string"?new hie(t):typeof t=="function"?new fie(t):null}const iI={navLinkDayClick:Y,navLinkWeekClick:Y,duration:Qe,bootstrapFontAwesome:Y,buttonIcons:Y,customButtons:Y,defaultAllDayEventDuration:Qe,defaultTimedEventDuration:Qe,nextDayThreshold:Qe,scrollTime:Qe,scrollTimeReset:Boolean,slotMinTime:Qe,slotMaxTime:Qe,dayPopoverFormat:Bt,slotDuration:Qe,snapDuration:Qe,headerToolbar:Y,footerToolbar:Y,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Bt,dayHeaderClassNames:Y,dayHeaderContent:Y,dayHeaderDidMount:Y,dayHeaderWillUnmount:Y,dayCellClassNames:Y,dayCellContent:Y,dayCellDidMount:Y,dayCellWillUnmount:Y,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Y,weekNumbers:Boolean,weekNumberClassNames:Y,weekNumberContent:Y,weekNumberDidMount:Y,weekNumberWillUnmount:Y,editable:Boolean,viewClassNames:Y,viewDidMount:Y,viewWillUnmount:Y,nowIndicator:Boolean,nowIndicatorClassNames:Y,nowIndicatorContent:Y,nowIndicatorDidMount:Y,nowIndicatorWillUnmount:Y,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Y,locale:Y,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Y,eventOrder:Are,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Y,contentHeight:Y,direction:String,weekNumberFormat:Bt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Y,initialDate:Y,now:Y,eventDataTransform:Y,stickyHeaderDates:Y,stickyFooterScrollbar:Y,viewHeight:Y,defaultAllDay:Boolean,eventSourceFailure:Y,eventSourceSuccess:Y,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Y,eventConstraint:Y,eventAllow:Y,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Y,eventContent:Y,eventDidMount:Y,eventWillUnmount:Y,selectConstraint:Y,selectOverlap:Y,selectAllow:Y,droppable:Boolean,unselectCancel:String,slotLabelFormat:Y,slotLaneClassNames:Y,slotLaneContent:Y,slotLaneDidMount:Y,slotLaneWillUnmount:Y,slotLabelClassNames:Y,slotLabelContent:Y,slotLabelDidMount:Y,slotLabelWillUnmount:Y,dayMaxEvents:Y,dayMaxEventRows:Y,dayMinWidth:Number,slotLabelInterval:Qe,allDayText:String,allDayClassNames:Y,allDayContent:Y,allDayDidMount:Y,allDayWillUnmount:Y,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Bt,rerenderDelay:Number,moreLinkText:Y,moreLinkHint:Y,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Y,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Qe,hiddenDays:Y,fixedWeekCount:Boolean,validRange:Y,visibleRange:Y,titleFormat:Y,eventInteractive:Boolean,noEventsText:String,viewHint:Y,navLinkHint:Y,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Y,moreLinkClassNames:Y,moreLinkContent:Y,moreLinkDidMount:Y,moreLinkWillUnmount:Y,monthStartFormat:Bt,handleCustomRendering:Y,customRenderingMetaMap:Y,customRenderingReplaces:Boolean},ih={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},sI={datesSet:Y,eventsSet:Y,eventAdd:Y,eventChange:Y,eventRemove:Y,windowResize:Y,eventClick:Y,eventMouseEnter:Y,eventMouseLeave:Y,select:Y,unselect:Y,loading:Y,_unmount:Y,_beforeprint:Y,_afterprint:Y,_noEventDrop:Y,_noEventResize:Y,_resize:Y,_scrollRequest:Y},oI={buttonText:Y,buttonHints:Y,views:Y,plugins:Y,initialEvents:Y,events:Y,eventSources:Y},Ya={headerToolbar:Qa,footerToolbar:Qa,buttonText:Qa,buttonHints:Qa,buttonIcons:Qa,dateIncrement:Qa,plugins:vp,events:vp,eventSources:vp,resources:vp};function Qa(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?ys(t,e):t===e}function vp(t,e){return Array.isArray(t)&&Array.isArray(e)?ha(t,e):t===e}const gie={type:String,component:Y,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Y,usesMinMaxTime:Boolean,classNames:Y,content:Y,didMount:Y,willUnmount:Y};function R1(t){return w_(t,Ya)}function b_(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function Y(t){return t}const{hasOwnProperty:C0}=Object.prototype;function w_(t,e){let n={};if(e){for(let r in e)if(e[r]===Qa){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=w_(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function _l(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function eo(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function n8(t){let e={};for(let n of t)e[n]=!0;return e}function S_(t){let e=[];for(let n in t)e.push(t[n]);return e}function ys(t,e){if(t===e)return!0;for(let n in t)if(C0.call(t,n)&&!(n in e))return!1;for(let n in e)if(C0.call(e,n)&&t[n]!==e[n])return!1;return!0}const pie=/^on[A-Z]/;function mie(t,e){const n=$S(t,e);for(let r of n)if(!pie.test(r))return!1;return!0}function $S(t,e){let n=[];for(let r in t)C0.call(t,r)&&(r in e||n.push(r));for(let r in e)C0.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function I1(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&vie(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function vie(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function yie(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let r8={};function xie(t,e){r8[t]=e}function bie(t){return new r8[t]}class wie{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return xr(e)}markerToArray(e){return Uo(e)}}xie("gregory",wie);const Sie=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Cie(t){let e=Sie.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(e8(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class Eie{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=bie(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):xr(Z4(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=xr(e)),n===null||!e8(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=Cie(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Bo(e)===Bo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Bo(e)===Bo(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=Vre(e,n),r!==null?{unit:"week",value:r}:(r=b0(e,n),r!==null?{unit:"day",value:r}:(r=Hre(e,n),em(r)?{unit:"hour",value:r}:(r=zre(e,n),em(r)?{unit:"minute",value:r}:(r=Gre(e,n),em(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/Lre(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/Fre(r):r.days&&(i=b0(e,n),i!==null)?i/Fc(r):(n.valueOf()-e.valueOf())/ji(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Et(e):n==="hour"?Wre(e):n==="minute"?qre(e):n==="second"?Kre(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Yre(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=fa(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),t8(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?xr(Z4(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):xr(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-eI(Uo(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Uo(e)):null}toDate(e,n){return this.timeZone==="local"?eI(Uo(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Uo(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Ef{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Ef.prototype.classes={};Ef.prototype.iconClasses={};Ef.prototype.baseIconClass="";Ef.prototype.iconOverridePrefix="";function E0(t){t();let e=Ie.debounceRendering,n=[];function r(i){n.push(i)}for(Ie.debounceRendering=r,Vh(F(_ie,{}),document.createElement("div"));n.length;)n.shift()();Ie.debounceRendering=e}class _ie extends Ur{render(){return F("div",{})}componentDidMount(){this.setState({})}}function i8(t){let e=Qne(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}class Aie{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ro=i8({});function Nie(t,e,n,r,i,s,o,a,c,u,f,g,p){return{dateEnv:i,options:n,pluginHooks:o,emitter:u,dispatch:a,getCurrentData:c,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(m){u.on("_resize",m)},removeResizeHandler(m){u.off("_resize",m)},createScrollResponder(m){return new Aie(m,u,Qe(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:g,unregisterInteractiveComponent:p}}class Pl extends Ur{shouldComponentUpdate(e,n){return this.debug&&console.log($S(e,this.props),$S(n,this.state)),!I1(this.props,e,this.propEquality)||!I1(this.state,n,this.stateEquality)}safeSetState(e){I1(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Pl.addPropsEquality=Tie;Pl.addStateEquality=kie;Pl.contextType=ro;Pl.prototype.propEquality={};Pl.prototype.stateEquality={};class ct extends Pl{}ct.contextType=ro;function Tie(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function kie(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function to(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class C_ extends ct{constructor(){super(...arguments),this.id=Il(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!VS(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&to(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=s8(e,[],this.handleEl);let c=!1,u,f=[],g;if(i!=null){const p=typeof i=="function"?i(o,F):i;if(p===!0)c=!0;else{const m=p&&typeof p=="object";m&&"html"in p?a.dangerouslySetInnerHTML={__html:p.html}:m&&"domNodes"in p?f=Array.prototype.slice.call(p.domNodes):(m?kO(p):typeof p!="function")?u=p:g=p}}else c=!VS(e.generatorName,r);return c&&s&&(u=s(o)),this.queuedDomNodes=f,this.currentGeneratorMeta=g,F(e.elTag,a,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(Rie)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!ha(e,n)){n.forEach(g_);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}C_.addPropsEquality({elClasses:ha,elStyle:ys,elAttrs:mie,renderProps:ys});function VS(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function s8(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function Rie(t){return!!t}const o8=i8(0);class Kr extends Ur{constructor(){super(...arguments),this.InnerContent=Iie.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(to(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=Die(e.classNameGenerator,e.renderProps);if(e.children){const r=s8(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?F(e.elTag,r,i):i}else return F(C_,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Kr.contextType=o8;function Iie(t,e){const n=t.props;return F(C_,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function Die(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class _0 extends ct{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return F(Kr,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...a8(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function a8(t){return[`fc-${t.type}-view`,"fc-view"]}function Pie(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function aI(t,e){let n=[],{start:r}=e,i,s;for(t.sort(jie),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function jie(t,e){return t.start.valueOf()-e.start.valueOf()}function Al(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function Mie(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function E_(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function iy(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Vs(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Oie(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function l8(t){let e=Math.floor(Dl(t.start,t.end))||1,n=Et(t.start),r=qn(n,e);return{start:n,end:r}}function c8(t,e=Qe(0)){let n=null,r=null;if(t.end){r=Et(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=ji(e)&&(r=qn(r,1))}return t.start&&(n=Et(t.start),r&&r<=n&&(r=qn(n,1))),{start:n,end:r}}function Nc(t,e,n,r){return r==="year"?Qe(n.diffWholeYears(t,e),"year"):r==="month"?Qe(n.diffWholeMonths(t,e),"month"):$re(t,e)}function Lie(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Fie(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):_f(t.now,e)}function _f(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class u8{constructor(e){this.props=e,this.nowDate=_f(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,c,u,f;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=Oie(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),c=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),c=this.trimHiddenDays(c),u=c,i.showNonCurrentDates||(u=Al(u,o.range)),u=this.adjustActiveRange(u),u=Al(u,s),f=E_(o.range,s),Vs(c,e)||(e=c.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:u,renderRange:c,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:f,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=GS(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return Qe({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(Fc(i)<0&&(o=Et(o),o=n.add(o,i)),Fc(s)>1&&(a=Et(a),a=qn(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,c,u;if(!o){let{dateIncrement:g}=this.props;g&&ji(g)<ji(r)?o=GS(g).unit:o=i}Fc(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=Et(a));function f(){a=s.startOf(e,o),c=s.add(a,r),u={start:a,end:c}}return f(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),f()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,c;s&&(a=i.startOf(a,s)),a=Et(a),a=this.skipHiddenDays(a,n),c=a;do c=qn(c,1),this.isHiddenDay(c)||(o+=1);while(o<r);return{start:a,end:c}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?Qe(1,r):e||Qe({days:1}))}refineRange(e){if(e){let n=Pie(e,this.props.dateEnv);return n&&(n=c8(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=qn(e,n);return e}}function __(t,e,n,r){return{instanceId:Il(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function Uie(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Nl(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=_l(a,c=>!o[c.defId].recurringDef);for(let c in o){let u=o[c];if(u.recurringDef){let{duration:f}=u.recurringDef;f||(f=u.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let g=Bie(u,f,e,r,i.recurringTypes);for(let p of g){let m=__(c,{start:p,end:r.add(p,f)});a[m.instanceId]=m}}}return{defs:o,instances:a}}function Bie(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(Et)),o}const nm={id:String,groupId:String,title:String,url:String,interactive:Boolean},d8={start:Y,end:Y,date:Y,allDay:Boolean},Hie=Object.assign(Object.assign(Object.assign({},nm),d8),{extendedProps:Y});function h8(t,e,n,r,i=A_(n),s,o){let{refined:a,extra:c}=f8(t,n,i),u=Gie(e,n),f=Uie(a,u,n.dateEnv,n.pluginHooks.recurringTypes);if(f){let p=WS(a,c,e?e.sourceId:"",f.allDay,!!f.duration,n,s);return p.recurringDef={typeId:f.typeId,typeData:f.typeData,duration:f.duration},{def:p,instance:null}}let g=zie(a,u,n,r);if(g){let p=WS(a,c,e?e.sourceId:"",g.allDay,g.hasEnd,n,s),m=__(p.defId,g.range,g.forcedStartTzo,g.forcedEndTzo);return o&&p.publicId&&o[p.publicId]&&(m.instanceId=o[p.publicId]),{def:p,instance:m}}return null}function f8(t,e,n=A_(e)){return b_(t,n)}function A_(t){return Object.assign(Object.assign(Object.assign({},A0),Hie),t.pluginHooks.eventRefiners)}function WS(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Il(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:N0(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let c of s.pluginHooks.eventDefMemberAdders)Object.assign(a,c(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function zie(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,c,u=null,f=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(f),s)o=s.marker;else if(!r)return null;return t.end!=null&&(c=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),i&&o&&(o=Et(o)),c&&(u=c.marker,i&&(u=Et(u)),o&&u<=o&&(u=null)),u?a=!0:r||(a=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:u},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function Gie(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Wh(t,e,n,r,i,s){let o=Br(),a=A_(n);for(let c of t){let u=h8(c,e,n,r,a,i,s);u&&qS(u,o)}return o}function qS(t,e=Br()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function N_(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=sy(t,s=>$ie(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return Br()}function $ie(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Br(){return{defs:{},instances:{}}}function T_(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function sy(t,e){let n=_l(t.defs,e),r=_l(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function Vie(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function Wie(t,e){return Array.isArray(t)?Wh(t,null,e,!0):typeof t=="object"&&t?Wh([t],null,e,!0):t!=null?String(t):null}function lI(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const A0={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Y,overlap:Y,allow:Y,className:lI,classNames:lI,color:String,backgroundColor:String,borderColor:String,textColor:String},qie={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function N0(t,e){let n=Wie(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function g8(t){return t.reduce(Kie,qie)}function Kie(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Yie={id:String,defaultAllDay:Boolean,url:String,format:String,events:Y,eventDataTransform:Y,success:Y,failure:Y};function p8(t,e,n=m8(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=b_(r,n),o=Qie(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Il(),sourceDefId:o.sourceDefId,meta:o.meta,ui:N0(i,e),extendedProps:s}}return null}function m8(t){return Object.assign(Object.assign(Object.assign({},A0),Yie),t.pluginHooks.eventSourceRefiners)}function Qie(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function Xie(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return Jie(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Zie(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return ese(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return T_(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Nl(t,r.activeRange,i):t;case"REMOVE_EVENTS":return Vie(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return y8(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return sy(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Br();default:return t}}function Jie(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Wh(v8(i,e,s),e,s);return r&&(o=Nl(o,r,s)),T_(y8(t,e.sourceId),o)}return t}function Zie(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=nse(t);let a=Wh(v8(n,e,i),e,i,!1,s,o);return Nl(a,r,i)}function v8(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=cI(t,i)),r&&(t=cI(t,r)),t}function cI(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function ese(t,e,n,r){return n&&(e=Nl(e,n,r)),T_(t,e)}function uI(t,e,n){let{defs:r}=t,i=eo(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function y8(t,e){return sy(t,n=>n.sourceId!==e)}function tse(t,e){return{defs:t.defs,instances:_l(t.instances,n=>!e[n.instanceId])}}function nse(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){const o=n[s],a=e[o.defId],{publicId:c}=a;c&&(i[c]=s)}return{defIdMap:r,instanceIdMap:i}}class oy{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){rse(this.handlers,e,n)}off(e,n){ise(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function rse(t,e,n){(t[e]||(t[e]=[])).push(n)}function ise(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const sse={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function ose(t,e){return Wh(ase(t),null,e)}function ase(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},sse),n)),e}function x8(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},k_(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function lse(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function k_(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,Sse(t,e.dateEnv)),n}function dI(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=Et(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function R_(t,e,n,r){let i=T0(t.defs,e),s=Br();for(let o in t.defs){let a=t.defs[o];s.defs[o]=cse(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],c=s.defs[a.defId];s.instances[o]=use(a,c,i[a.defId],n,r)}return s}function cse(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function use(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,c=Object.assign({},t);return o&&(c.range=l8(c.range)),r.datesDelta&&n.startEditable&&(c.range={start:s.add(c.range.start,r.datesDelta),end:s.add(c.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(c.range={start:s.add(c.range.start,r.startDelta),end:c.range.end}),r.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:s.add(c.range.end,r.endDelta)}),a&&(c.range={start:c.range.start,end:dI(e.allDay,c.range.start,i)}),e.allDay&&(c.range={start:Et(c.range.start),end:Et(c.range.end)}),c.range.end<c.range.start&&(c.range.end=dI(e.allDay,c.range.start,i)),c}class fc{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Mt{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in d8)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=nm[e](n),this.mutate({standardProps:{publicId:n}});else if(e in nm)n=nm[e](n),this.mutate({standardProps:{[e]:n}});else if(e in A0){let r=A0[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=Nc(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Nc(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let c=this._instance.range;r.allDay===!0&&(c=l8(c));let u=Nc(c.start,o,i,r.granularity);if(a){let f=Nc(c.end,a,i,r.granularity);jre(u,f)?this.mutate({datesDelta:u,standardProps:s}):this.mutate({startDelta:u,endDelta:f,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:u,standardProps:s})}}moveStart(e){let n=Qe(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=Qe(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=Qe(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Bt(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=N_(s,n.instanceId);o=R_(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let c=new Mt(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:cl(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=b8(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new fc(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function b8(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function cl(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let c=i[a],u=r[c.defId];c.instanceId!==o&&s.push(new Mt(e,u,c))}return s}function hI(t,e,n,r){let i={},s={},o={},a=[],c=[],u=T0(t.defs,e);for(let f in t.defs){let g=t.defs[f];u[g.defId].display==="inverse-background"&&(g.groupId?(i[g.groupId]=[],o[g.groupId]||(o[g.groupId]=g)):s[f]=[])}for(let f in t.instances){let g=t.instances[f],p=t.defs[g.defId],m=u[p.defId],y=g.range,x=!p.allDay&&r?c8(y,r):y,C=Al(x,n);C&&(m.display==="inverse-background"?p.groupId?i[p.groupId].push(C):s[g.defId].push(C):m.display!=="none"&&(m.display==="background"?a:c).push({def:p,ui:m,instance:g,range:C,isStart:x.start&&x.start.valueOf()===C.start.valueOf(),isEnd:x.end&&x.end.valueOf()===C.end.valueOf()}))}for(let f in i){let g=i[f],p=aI(g,n);for(let m of p){let y=o[f],x=u[y.defId];a.push({def:y,ui:x,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let f in s){let g=s[f],p=aI(g,n);for(let m of p)a.push({def:t.defs[f],ui:u[f],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:a,fg:c}}function dse(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function fI(t,e){t.fcSeg=e}function su(t){return t.fcSeg||t.parentNode.fcSeg||null}function T0(t,e){return eo(t,n=>w8(n,e))}function w8(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),g8(n)}function S8(t,e){let n=t.map(hse);return n.sort((r,i)=>Nre(r,i,e)),n.map(r=>r._seg)}function hse(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function fse(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function gse(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function pse(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function C8(t,e,n,r,i,s,o){let{dateEnv:a,options:c}=n,{displayEventTime:u,displayEventEnd:f}=c,g=t.eventRange.def,p=t.eventRange.instance;u==null&&(u=r!==!1),f==null&&(f=i!==!1);let m=p.range.start,y=p.range.end,x=t.start||t.eventRange.range.start,C=t.end||t.eventRange.range.end,b=Et(m).valueOf()===Et(x).valueOf(),E=Et(fa(y,-1)).valueOf()===Et(fa(C,-1)).valueOf();return u&&!g.allDay&&(b||E)?(x=b?m:x,C=E?y:C,f&&g.hasEnd?a.formatRange(x,C,e,{forcedStartTzo:p.forcedStartTzo,forcedEndTzo:p.forcedEndTzo}):a.format(x,e,{forcedTzo:p.forcedStartTzo})):""}function aa(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&Vs(e,r.start)}}function mse(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function E8(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function _8(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?ZO(c=>{s.trigger("eventClick",{el:c.target,event:new Mt(e,n,r),jsEvent:c,view:e.viewApi})}):{}}const vse={start:Y,end:Y,allDay:Boolean};function yse(t,e,n){let r=xse(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function xse(t,e){let{refined:n,extra:r}=b_(t,vse),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function bse(t,e){return Mie(t.range,e.range)&&t.allDay===e.allDay&&wse(t,e)}function wse(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function Sse(t,e){return Object.assign(Object.assign({},N8(t.range,e,t.allDay)),{allDay:t.allDay})}function A8(t,e,n){return Object.assign(Object.assign({},N8(t,e,n)),{timeZone:e.timeZone})}function N8(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function Cse(t,e,n){let r=f8({editable:!1},n),i=WS(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:w8(i,e),instance:__(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function Ese(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class gI extends Error{constructor(e,n){super(e),this.response=n}}function _se(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new gI("Failure parsing JSON",i)});throw new gI("Request failed",i)})}let D1;function T8(){return D1==null&&(D1=Ase()),D1}function Ase(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class Nse extends ct{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{E0(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{E0(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return T8()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Tu{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Tse(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function I_(t){return{[t.component.uid]:t}}const KS={};class kse{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:_f(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=Qe(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Bt(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Bt(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=yse(r,i.dateEnv,Qe({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),x8(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),lse(e,n))}addEvent(e,n){if(e instanceof Mt){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:qS({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof fc)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=S_(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=h8(e,i,r,!1);if(s){let o=new Mt(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:qS(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:b8(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new Mt(n,o,null);for(let a in i){let c=i[a];if(c.defId===o.defId)return new Mt(n,o,c)}}}return null}getEvents(){let e=this.getCurrentData();return cl(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new fc(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new fc(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof fc)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=p8(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new fc(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=Qe(e);n&&this.trigger("_scrollRequest",{time:n})}}function Rse(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function k8(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function Ise(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Dse(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Pse(t,e){return{left:t.left-e.left,top:t.top-e.top}}const P1=Br();class jse{constructor(){this.getKeysForEventDefs=Pe(this._getKeysForEventDefs),this.splitDateSelection=Pe(this._splitDateSpan),this.splitEventStore=Pe(this._splitEventStore),this.splitIndividualUi=Pe(this._splitIndividualUi),this.splitEventDrag=Pe(this._splitInteraction),this.splitEventResize=Pe(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),a=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=eo(n,(f,g)=>this.eventUiBuilders[g]||Pe(Mse));for(let f in n){let g=n[f],p=o[f]||P1,m=this.eventUiBuilders[f];u[f]={businessHours:g.businessHours||e.businessHours,dateSelection:i[f]||null,eventStore:p,eventUiBases:m(e.eventUiBases[""],g.ui,s[f]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[f]||null,eventResize:c[f]||null}}return u}_splitDateSpan(e){let n={};if(e){let r=this.getKeysForDateSpan(e);for(let i of r)n[i]=e}return n}_getKeysForEventDefs(e){return eo(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:r,instances:i}=e,s={};for(let o in r)for(let a of n[o])s[a]||(s[a]=Br()),s[a].defs[o]=r[o];for(let o in i){let a=i[o];for(let c of n[a.defId])s[c]&&(s[c].instances[o]=a)}return s}_splitIndividualUi(e,n){let r={};for(let i in e)if(i)for(let s of n[i])r[s]||(r[s]={}),r[s][i]=e[i];return r}_splitInteraction(e){let n={};if(e){let r=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),o=a=>{n[a]||(n[a]={affectedEvents:r[a]||P1,mutatedEvents:s[a]||P1,isEvent:e.isEvent})};for(let a in r)o(a);for(let a in s)o(a)}return n}}function Mse(t,e,n){let r=[];t&&r.push(t),e&&r.push(e);let i={"":g8(r)};return n&&Object.assign(i,n),i}function R8(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Vs(r.activeRange,t)),isOther:!!(r&&!Vs(r.currentRange,t)),isToday:!!(e&&Vs(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function D_(t,e){let n=["fc-day",`fc-day-${Ure[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const Ose=Bt({year:"numeric",month:"long",day:"numeric"}),Lse=Bt({week:"long"});function k0(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let a=i.format(e,n==="week"?Lse:Ose);if(s.navLinks){let c=i.toDate(e);const u=f=>{let g=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof g=="function"?g.call(o,i.toDate(e),f):(typeof g=="string"&&(n=g),o.zoomTo(e,n))};return Object.assign({title:rh(s.navLinkHint,[a,c],a),"data-navlink":""},r?JO(u):{onClick:u})}return{"aria-label":a}}let j1=null;function Fse(){return j1===null&&(j1=Use()),j1}function Use(){let t=document.createElement("div");nh(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return g_(t),n}let M1;function Bse(){return M1||(M1=Hse()),M1}function Hse(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=I8(t);return document.body.removeChild(t),e}function I8(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function zse(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=I8(t),c=a.y-r-i,u=a.x-s-o,f={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return Fse()&&n.direction==="rtl"?f.scrollbarLeft=c:f.scrollbarRight=c,e&&(f.paddingLeft=parseInt(n.paddingLeft,10)||0,f.paddingRight=parseInt(n.paddingRight,10)||0,f.paddingTop=parseInt(n.paddingTop,10)||0,f.paddingBottom=parseInt(n.paddingBottom,10)||0),f}function Gse(t,e=!1,n){let r=P_(t),i=zse(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function P_(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function $se(t){let e=D8(t),n=t.getBoundingClientRect();for(let r of e){let i=k8(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function D8(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class ou{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return yp(this.tops||[],e.tops||[])&&yp(this.bottoms||[],e.bottoms||[])&&yp(this.lefts||[],e.lefts||[])&&yp(this.rights||[],e.rights||[])}}function yp(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class j_{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Vse extends j_{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Wse extends j_{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ws extends ct{constructor(){super(...arguments),this.uid=Il()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Wn(e,".fc-event-mirror")}isValidDateDownEl(e){return!Wn(e,".fc-event:not(.fc-bg-event)")&&!Wn(e,".fc-more-link")&&!Wn(e,"a[data-navlink]")&&!Wn(e,".fc-popover")}}class P8{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:M_(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(O1(i,n.level,n.levelCoord),O1(r,n.level,[e])):O1(r[n.level],n.lateral,e),this.stackCnts[ul(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,c=-1,u=-1,f=null,g=0;for(let y=0;y<o;y+=1){const x=n[y];if(!i&&x>=a+this.getEntryThickness(e))break;let C=r[y],b,E=QS(C,e.span.start,YS),S=E[0]+E[1];for(;(b=C[S])&&b.span.start<e.span.end;){let A=x+this.getEntryThickness(b);A>a&&(a=A,f=b,c=y,u=S),A===a&&(g=Math.max(g,s[ul(b)]+1)),S+=1}}let p=0;if(f)for(p=c+1;p<o&&n[p]<a;)p+=1;let m=-1;return p<o&&n[p]===a&&(m=QS(r[p],e.span.end,YS)[0]),{touchingLevel:c,touchingLateral:u,touchingEntry:f,stackCnt:g,levelCoord:a,level:p,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let c of o)i.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:a}))}return i}}function YS(t){return t.span.end}function ul(t){return t.index+":"+t.span.start}function qse(t){let e=[];for(let n of t){let r=[],i={span:n.span,entries:[n]};for(let s of e)M_(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:Kse(s.span,i.span)}:r.push(s);r.push(i),e=r}return e}function Kse(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function M_(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function O1(t,e,n){t.splice(e,0,n)}function QS(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class Yse{constructor(e,n){this.emitter=new oy}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const O_={};function Qse(t,e){return!t||e>10?Bt({weekday:"short"}):e>1?Bt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Bt({weekday:"long"})}const j8="fc-col-header-cell";function M8(t){return t.text}class Xse extends ct{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,c=R8(o,s.todayRange,null,a),u=[j8].concat(D_(c,r)),f=e.format(o,s.dayHeaderFormat),g=!c.isDisabled&&s.colCnt>1?k0(this.context,o):{},p=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:f}),c);return F(Kr,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":c.isDisabled?void 0:y_(o)},s.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:M8,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},m=>F("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&F(m,{elTag:"a",elAttrs:g,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const Jse=Bt({weekday:"long"});class Zse extends ct{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=qn(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=n.format(o,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:c});return F(Kr,{elTag:"th",elClasses:[j8,...D_(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:M8,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},f=>F("div",{className:"fc-scrollgrid-sync-inner"},F(f,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,Jse)}})))}}class Af extends Ur{constructor(e,n){super(e,n),this.initialNowDate=_f(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=fa(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(i,Qe(1,e.unit)),o=s.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:i,todayRange:pI(i)},nextState:{nowDate:s,todayRange:pI(s)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Af.contextType=ro;function pI(t){let e=Et(t),n=qn(e,1);return{start:e,end:n}}class O8 extends ct{constructor(){super(...arguments),this.createDayHeaderFormatter=Pe(eoe)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return F(Af,{unit:"day"},(a,c)=>F("tr",{role:"row"},s&&s("day"),n.map(u=>i?F(Xse,{key:u.toISOString(),date:u,dateProfile:r,todayRange:c,colCnt:n.length,dayHeaderFormat:o}):F(Zse,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}}function eoe(t,e,n){return t||Qse(e,n)}class L8{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=qn(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(qn(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Dl(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class F8{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let c=Math.floor(a/n),u=Math.min((c+1)*n,o+1);i.push({row:c,firstCol:a%n,lastCol:(u-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&u-1===o}),a=u}}return i}}class U8{constructor(){this.sliceBusinessHours=Pe(this._sliceBusinessHours),this.sliceDateSelection=Pe(this._sliceDateSpan),this.sliceEventStore=Pe(this._sliceEventStore),this.sliceEventDrag=Pe(this._sliceInteraction),this.sliceEventResize=Pe(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:fa(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(Nl(e,xp(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=hI(e,n,xp(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=hI(e.mutatedEvents,n,xp(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=xp(n,!!r),c=Al(e.range,a);if(c){e=Object.assign(Object.assign({},e),{range:c});let u=Cse(e,i,s),f=this.sliceRange(e.range,...o);for(let g of f)g.eventRange=u;return f}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:qn(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function xp(t,e){let n=t.activeRange;return e?n:{start:fa(n.start,t.slotMinTime.milliseconds),end:fa(n.end,t.slotMaxTime.milliseconds-864e5)}}function B8(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!iy(e.validRange,r[i].range))return!1;return H8({eventDrag:t},n)}function toe(t,e,n){return iy(e.validRange,t.range)?H8({dateSelection:t},n):!1}function H8(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||noe)(r,e)}function noe(t,e,n={},r){return!(t.eventDrag&&!roe(t,e,n,r)||t.dateSelection&&!ioe(t,e,n,r))}function roe(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,c=o.instances,u=T0(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(u=eo(u,r));let f=tse(t.eventStore,s.affectedEvents.instances),g=f.defs,p=f.instances,m=T0(g,t.eventUiBases);for(let y in c){let x=c[y],C=x.range,b=u[x.defId],E=a[x.defId];if(!z8(b.constraints,C,f,t.businessHours,e))return!1;let{eventOverlap:S}=e.options,A=typeof S=="function"?S:null;for(let k in p){let I=p[k];if(E_(C,I.range)&&(m[I.defId].overlap===!1&&s.isEvent||b.overlap===!1||A&&!A(new Mt(e,g[I.defId],I),new Mt(e,E,x))))return!1}let T=i.eventStore;for(let k of b.allows){let I=Object.assign(Object.assign({},n),{range:x.range,allDay:E.allDay}),D=T.defs[E.defId],P=T.instances[y],R;if(D?R=new Mt(e,D,P):R=new Mt(e,E),!k(k_(I,e),R))return!1}}return!0}function ioe(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,c=a.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!z8(u.constraints,c,i,t.businessHours,e))return!1;let{selectOverlap:f}=e.options,g=typeof f=="function"?f:null;for(let p in o){let m=o[p];if(E_(c,m.range)&&(u.overlap===!1||g&&!g(new Mt(e,s[m.defId],m),null)))return!1}for(let p of u.allows){let m=Object.assign(Object.assign({},n),a);if(!p(k_(m,e),null))return!1}return!0}function z8(t,e,n,r,i){for(let s of t)if(!ooe(soe(s,e,n,r,i),e))return!1;return!0}function soe(t,e,n,r,i){return t==="businessHours"?L1(Nl(r,e,i)):typeof t=="string"?L1(sy(n,s=>s.groupId===t)):typeof t=="object"&&t?L1(Nl(t,e,i)):[]}function L1(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function ooe(t,e){for(let n of t)if(iy(n,e))return!0;return!1}const bp=/^(visible|hidden)$/;class aoe extends ct{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,to(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),F("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(bp.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(bp.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return bp.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return bp.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Gs{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return yie(this.currentMap,e,n,r)}getAll(){return S_(this.currentMap)}}function loe(t){let e=vre(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,Ire(r));return Math.ceil(n)}function G8(t,e){return t.liquid&&e.liquid}function coe(t,e){return e.maxHeight!=null||G8(t,e)}function uoe(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):F("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,F(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function doe(t,e){return ha(t,e,ys)}function hoe(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(F("col",{style:{width:r.width==="shrink"?foe(e):r.width||"",minWidth:r.minWidth||""}}))}return F("colgroup",{},...n)}function foe(t){return t??4}function goe(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function poe(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function moe(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function XS(t){return F("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function R0(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function $8(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class L_ extends ct{constructor(){super(...arguments),this.processCols=Pe(e=>e,doe),this.renderMicroColGroup=Pe(hoe),this.scrollerRefs=new Gs,this.scrollerElRefs=new Gs(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=poe(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let c=i.length,u=0,f,g=[],p=[],m=[];for(;u<c&&(f=i[u]).type==="header";)g.push(this.renderSection(f,o,!0)),u+=1;for(;u<c&&(f=i[u]).type==="body";)p.push(this.renderSection(f,o,!1)),u+=1;for(;u<c&&(f=i[u]).type==="footer";)m.push(this.renderSection(f,o,!0)),u+=1;let y=!T8();const x={role:"rowgroup"};return F("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!y&&g.length)&&F("thead",x,...g),!!(!y&&p.length)&&F("tbody",x,...p),!!(!y&&m.length)&&F("tfoot",x,...m),y&&F("tbody",x,...g,...p,...m))}renderSection(e,n,r){return"outerContent"in e?F(Tt,{key:e.key},e.outerContent):F("tr",{key:e.key,role:"presentation",className:moe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:c}=this.state,u=coe(s,e),f=G8(s,e),g=s.liquid?o?"scroll":u?"auto":"hidden":"visible",p=e.key,m=uoe(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[p]!==void 0?a[p]:null,clientHeight:c[p]!==void 0?c[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return F(i?"th":"td",{ref:r.elRef,role:"presentation"},F("div",{className:`fc-scroller-harness${f?" fc-scroller-harness-liquid":""}`},F(aoe,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:g,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:f,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,n){let r=voe(this.props.sections,n);r&&to(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return goe(this.props.cols)?loe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Bse(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let c=n.currentMap[a];if(c&&c.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let c=a.key,u=r.currentMap[c];if(u){let f=u.parentNode;s[c]=Math.floor(f.getBoundingClientRect().width-(i?e.y:0)),o[c]=Math.floor(f.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}L_.addStateEquality({scrollerClientWidths:ys,scrollerClientHeights:ys});function voe(t,e){for(let n of t)if(n.key===e)return n;return null}class F_ extends ct{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&fI(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:new Mt(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&fse(i,n),isStartResizable:!e.disableResizing&&gse(i,n),isEndResizable:!e.disableResizing&&pse(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return F(Kr,Object.assign({},e,{elRef:this.handleEl,elClasses:[...mse(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&fI(this.el,this.props.seg)}}class V8 extends ct{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=C8(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return F(F_,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:_8(i,n),defaultGenerator:yoe,timeText:a}),(c,u)=>F(Tt,null,F(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&F("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function yoe(t){return F("div",{className:"fc-event-main-frame"},t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title-container"},F("div",{className:"fc-event-title fc-sticky"},t.event.title||F(Tt,null,""))))}const U_=t=>F(ro.Consumer,null,e=>{let{options:n}=e,r={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return F(Kr,Object.assign({},t,{elTag:t.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))}),xoe=Bt({day:"numeric"});class B_ extends ct{constructor(){super(...arguments),this.refineRenderProps=tm(boe)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return F(Kr,Object.assign({},e,{elClasses:[...D_(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":y_(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function H_(t){return!!(t.dayCellContent||VS("dayCellContent",t))}function boe(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=R8(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:xoe):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class W8 extends ct{render(){let{props:e}=this,{seg:n}=e;return F(F_,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:woe,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function woe(t){let{title:e}=t.event;return e&&F("div",{className:"fc-event-title"},t.event.title)}function q8(t){return F("div",{className:`fc-${t}`})}const K8=t=>F(ro.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s);return F(Kr,Object.assign({},t,{renderProps:{num:o,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:Soe,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function Soe(t){return t.text}const F1=10;class Coe extends ct{constructor(){super(...arguments),this.state={titleId:ny()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&to(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=QO(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return rre(F("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),F("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},F("span",{className:"fc-popover-title",id:i.titleId},r.title),F("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),F("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=$se(n);if(s){let o=i.getBoundingClientRect(),a=r?Wn(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,c=e?s.right-o.width:s.left;a=Math.max(a,F1),c=Math.min(c,document.documentElement.clientWidth-F1-o.width),c=Math.max(c,F1);let u=i.offsetParent.getBoundingClientRect();nh(i,{top:a-u.top,left:c-u.left})}}}class Eoe extends ws{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return F(B_,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(c,u,f)=>F(Coe,{elRef:f.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(f.className||[]),extraAttrs:f,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},H_(e)&&F(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class Y8 extends ct{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ny()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&to(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=mI(n).start;function o(a){let{def:c,instance:u,range:f}=a.eventRange;return{event:new Mt(r,c,u),start:r.dateEnv.toDate(f.start),end:r.dateEnv.toDate(f.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return F(ro.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:c}=e,u=mI(e),f=typeof a=="function"?a.call(o,c):`+${c} ${a}`,g=rh(s.moreLinkHint,[c],f),p={num:c,shortText:`+${c}`,text:f,view:i};return F(Tt,null,!!e.moreCnt&&F(Kr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),JO(this.handleClick)),{title:g,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||_oe,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&F(Eoe,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Wn(this.linkEl,".fc-view-harness"))}}function _oe(t){return t.text}function mI(t){if(t.allDayDate)return{start:t.allDayDate,end:qn(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Q8(e),end:Noe(e)}}function Q8(t){return t.reduce(Aoe).eventRange.range.start}function Aoe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Noe(t){return t.reduce(Toe).eventRange.range.end}function Toe(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class koe{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Roe extends koe{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const Ioe=[],X8={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},J8=Object.assign(Object.assign({},X8),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function Doe(t){let e=t.length>0?t[0].code:"en",n=Ioe.concat(t),r={en:J8};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function Z8(t,e){return typeof t=="object"&&!Array.isArray(t)?e7(t.code,[t.code],t):Poe(t,e)}function Poe(t,e){let n=[].concat(t||[]),r=joe(n,e)||J8;return e7(t,n,r)}function joe(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function e7(t,e,n){let r=w_([X8,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function io(t){return{id:Il(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Moe(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const a=o.name,c=n[a];c===void 0?(n[a]=o.id,i(o.deps),r=Loe(r,o)):c!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function Ooe(){let t=[],e=[],n;return(r,i)=>((!n||!ha(r,t)||!ha(i,e))&&(n=Moe(r,i)),t=r,e=i,n)}function Loe(t,e){return{premiumReleaseDate:Foe(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function Foe(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Sa extends Ef{}Sa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Sa.prototype.baseIconClass="fc-icon";Sa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Sa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Sa.prototype.iconOverrideOption="buttonIcons";Sa.prototype.iconOverrideCustomButtonOption="icon";Sa.prototype.iconOverridePrefix="fc-icon-";function Uoe(t,e){let n={},r;for(r in t)JS(r,n,t,e);for(r in e)JS(r,n,t,e);return n}function JS(t,e,n,r){if(e[t])return e[t];let i=Boe(t,e,n,r);return i&&(e[t]=i),i}function Boe(t,e,n,r){let i=n[t],s=r[t],o=f=>i&&i[f]!==null?i[f]:s&&s[f]!==null?s[f]:null,a=o("component"),c=o("superType"),u=null;if(c){if(c===t)throw new Error("Can't have a custom view type that references itself");u=JS(c,e,n,r)}return!a&&u&&(a=u.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),s?s.rawOptions:{})}:null}function vI(t){return eo(t,Hoe)}function Hoe(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=yI(e):n&&!(n.prototype instanceof ct)&&(n=yI(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function yI(t){return e=>F(ro.Consumer,null,n=>F(Kr,{elTag:"div",elClasses:a8(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function zoe(t,e,n,r){let i=vI(t),s=vI(e.views),o=Uoe(i,s);return eo(o,a=>Goe(a,s,e,n,r))}function Goe(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",c="",u={};if(s&&(o=$oe(s),o)){let p=GS(o);a=p.unit,p.value===1&&(c=a,u=e[a]?e[a].rawOptions:{})}let f=p=>{let m=p.buttonText||{},y=t.defaults.buttonTextKey;return y!=null&&m[y]!=null?m[y]:m[t.type]!=null?m[t.type]:m[c]!=null?m[c]:null},g=p=>{let m=p.buttonHints||{},y=t.defaults.buttonTextKey;return y!=null&&m[y]!=null?m[y]:m[t.type]!=null?m[t.type]:m[c]!=null?m[c]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:c,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:f(r)||f(n)||t.overrides.buttonText,buttonTextDefault:f(i)||t.defaults.buttonText||f(ih)||t.type,buttonTitleOverride:g(r)||g(n)||t.overrides.buttonHint,buttonTitleDefault:g(i)||t.defaults.buttonHint||g(ih)}}let xI={};function $oe(t){let e=JSON.stringify(t),n=xI[e];return n===void 0&&(n=Qe(t),xI[e]=n),n}function Voe(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Woe(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function qoe(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function Koe(t,e,n){let r=e?e.activeRange:null;return n7({},tae(t,n),r,n)}function Yoe(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return n7(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return Xoe(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?r7(t,i,r):t;case"FETCH_EVENT_SOURCES":return z_(t,e.sourceIds?n8(e.sourceIds):i7(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return eae(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Qoe(t,e,n){let r=e?e.activeRange:null;return z_(t,i7(t,n),r,!0,n)}function t7(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function n7(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=r7(i,n,r)),Object.assign(Object.assign({},t),i)}function Xoe(t,e){return _l(t,n=>n.sourceId!==e)}function r7(t,e,n){return z_(t,_l(t,r=>Joe(r,e,n)),e,!1,n)}function Joe(t,e,n){return s7(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function z_(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=Zoe(a,n,r,i):s[o]=a}return s}function Zoe(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Il();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},c=>{let{rawEvents:u}=c;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(s,u,c.response)||u),t.success&&(u=t.success.call(s,u,c.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:u})},c=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,c),u=!0),t.failure&&(t.failure(c),u=!0),u||console.warn(c.message,c),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:c})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function eae(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function i7(t,e){return _l(t,n=>s7(n,e))}function tae(t,e){let n=m8(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=p8(s,e,n);o&&i.push(o)}return i}function s7(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function nae(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function rae(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function iae(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function sae(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function oae(t,e,n,r,i){let s=t.headerToolbar?bI(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?bI(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function bI(t,e,n,r,i,s){let o={},a=[],c=!1;for(let u in t){let f=t[u],g=aae(f,e,n,r,i,s);o[u]=g.widgets,a.push(...g.viewsWithButtons),c=c||g.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:c}}function aae(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},c=n.buttonText||{},u=e.buttonText||{},f=n.buttonHints||{},g=e.buttonHints||{},p=t?t.split(" "):[],m=[],y=!1;return{widgets:p.map(C=>C.split(",").map(b=>{if(b==="title")return y=!0,{buttonName:b};let E,S,A,T,k,I;if(E=a[b])A=D=>{E.click&&E.click.call(D.target,D,D.target)},(T=r.getCustomButtonIconClass(E))||(T=r.getIconClass(b,o))||(k=E.text),I=E.hint||E.text;else if(S=i[b]){m.push(b),A=()=>{s.changeView(b)},(k=S.buttonTextOverride)||(T=r.getIconClass(b,o))||(k=S.buttonTextDefault);let D=S.buttonTextOverride||S.buttonTextDefault;I=rh(S.buttonTitleOverride||S.buttonTitleDefault||e.viewHint,[D,b],D)}else if(s[b])if(A=()=>{s[b]()},(k=c[b])||(T=r.getIconClass(b,o))||(k=u[b]),b==="prevYear"||b==="nextYear"){let D=b==="prevYear"?"prev":"next";I=rh(f[D]||g[D],[u.year||"year","year"],u[b])}else I=D=>rh(f[b]||g[b],[u[D]||D,D],u[b]);return{buttonName:b,buttonClick:A,buttonIcon:T,buttonText:k,buttonHint:I}})),viewsWithButtons:m,hasTitle:y}}class lae{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let cae={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const uae=io({name:"array-event-source",eventSourceDefs:[cae]});let dae={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;Ese(i.bind(null,A8(t.range,r)),s=>e({rawEvents:s}),n)}};const hae=io({name:"func-event-source",eventSourceDefs:[dae]}),fae={method:String,extraParams:Y,startParam:String,endParam:String,timeZoneParam:String};let gae={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=mae(r,t.range,t.context);_se(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const pae=io({name:"json-event-source",eventSourceRefiners:fae,eventSourceDefs:[gae]});function mae(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,c,u={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?c=t.extraParams():c=t.extraParams||{},Object.assign(u,c),u[s]=r.formatIso(e.start),u[o]=r.formatIso(e.end),r.timeZone!=="local"&&(u[a]=r.timeZone),u}const vae={daysOfWeek:Y,startTime:Qe,endTime:Qe,duration:Qe,startRecur:Y,endRecur:Y};let yae={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=Mre(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Al(e,{start:t.startRecur,end:t.endRecur});return r?bae(t.daysOfWeek,t.startTime,r,n):[]}};const xae=io({name:"simple-recurring-event",recurringTypes:[yae],eventRefiners:vae});function bae(t,e,n,r){let i=t?n8(t):null,s=Et(n.start),o=n.end,a=[];for(;s<o;){let c;(!i||i[s.getUTCDay()])&&(e?c=r.add(s,e):c=s,a.push(c)),s=qn(s,1)}return a}const wae=io({name:"change-handler",optionChangeHandlers:{events(t,e){wI([t],e)},eventSources:wI}});function wI(t,e){let n=S_(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function Sae(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},A8(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function Cae(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",cl(t,e))}const Eae=[uae,hae,pae,xae,wae,io({name:"misc",isLoadingFuncs:[t=>t7(t.eventSources)],propSetHandlers:{dateProfile:Sae,eventStore:Cae}})];class _ae{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new f_(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Aae(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Bt(e.titleFormat||Nae(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Nae(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=b0(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class Tae{constructor(e){this.computeCurrentViewData=Pe(this._computeCurrentViewData),this.organizeRawLocales=Pe(Doe),this.buildLocale=Pe(Z8),this.buildPluginHooks=Ooe(),this.buildDateEnv=Pe(kae),this.buildTheme=Pe(Rae),this.parseToolbars=Pe(oae),this.buildViewSpecs=Pe(zoe),this.buildDateProfileGenerator=tm(Iae),this.buildViewApi=Pe(Dae),this.buildViewUiProps=tm(Mae),this.buildEventUiBySource=Pe(Pae,ys),this.buildEventUiBases=Pe(jae),this.parseContextBusinessHours=tm(Oae),this.buildTitle=Pe(Aae),this.emitter=new oy,this.actionRunner=new _ae(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=Fie(r.calendarOptions,r.dateEnv),a=s.dateProfileGenerator.build(o);Vs(a.activeRange,o)||(o=a.currentRange.start);let c={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let p of r.pluginHooks.contextInit)p(c);let u=Koe(r.calendarOptions,a,c),f={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(c),eventSources:u,eventUiBases:{},eventStore:Br(),renderableEventStore:Br(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},g=Object.assign(Object.assign({},c),f);for(let p of r.pluginHooks.reducers)Object.assign(f,p(null,null,g));U1(f,c)&&this.emitter.trigger("loading",!0),this.state=f,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=Woe(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=Voe(r.currentViewType,e),c=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(c.options);let u={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:f,dateProfile:g}=r;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(g=c.dateProfileGenerator.build(f)),f=Lie(f,e),g=qoe(g,e,f,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Vs(g.currentRange,f))&&(f=g.currentRange.start);let p=Yoe(r.eventSources,e,g,u),m=Xie(r.eventStore,e,p,g,u),x=t7(p)&&!c.options.progressiveEventRendering&&r.renderableEventStore||m,{eventUiSingleBase:C,selectionConfig:b}=this.buildViewUiProps(u),E=this.buildEventUiBySource(p),S=this.buildEventUiBases(x.defs,C,E),A={dynamicOptionOverrides:s,currentViewType:a,currentDate:f,dateProfile:g,eventSources:p,eventStore:m,renderableEventStore:x,selectionConfig:b,eventUiBases:S,businessHours:this.parseContextBusinessHours(u),dateSelection:nae(r.dateSelection,e),eventSelection:rae(r.eventSelection,e),eventDrag:iae(r.eventDrag,e),eventResize:sae(r.eventResize,e)},T=Object.assign(Object.assign({},u),A);for(let D of o.pluginHooks.reducers)Object.assign(A,D(r,e,T));let k=U1(r,u),I=U1(A,u);!k&&I?i.trigger("loading",!0):k&&!I&&i.trigger("loading",!1),this.state=A,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,c=r&&r.calendarOptions,u=i.calendarOptions;if(c&&c!==u){c.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=Qoe(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=uI(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=uI(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let f in a)(this.optionsForHandling.indexOf(f)!==-1||c[f]!==u[f])&&a[f](u[f],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:c}=this.processRawCalendarOptions(e,n);SI(c);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),f=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),g=this.buildTheme(i,s),p=this.parseToolbars(i,this.stableOptionOverrides,g,f,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:u,viewSpecs:f,theme:g,toolbarConfig:p,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=R1([ih,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,c=this.buildPluginHooks(e.plugins||[],Eae),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},iI),sI),oI),c.listenerRefiners),c.optionRefiners),f={},g=R1([ih,a,e,n]),p={},m=this.currentCalendarOptionsInput,y=this.currentCalendarOptionsRefined,x=!1;for(let C in g)this.optionsForRefining.indexOf(C)===-1&&(g[C]===m[C]||Ya[C]&&C in m&&Ya[C](m[C],g[C]))?p[C]=y[C]:u[C]?(p[C]=u[C](g[C]),x=!0):f[C]=m[C];return x&&(this.currentCalendarOptionsInput=g,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:s,localeDefaults:a,extra:f}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);SI(a);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:c,viewApi:u}}processRawViewOptions(e,n,r,i,s){let o=R1([ih,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},iI),sI),oI),gie),n.listenerRefiners),n.optionRefiners),c={},u=this.currentViewOptionsInput,f=this.currentViewOptionsRefined,g=!1,p={};for(let m in o)o[m]===u[m]||Ya[m]&&Ya[m](o[m],u[m])?c[m]=f[m]:(o[m]===this.currentCalendarOptionsInput[m]||Ya[m]&&Ya[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(c[m]=this.currentCalendarOptionsRefined[m]):a[m]?c[m]=a[m](o[m]):p[m]=o[m],g=!0);return g&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function kae(t,e,n,r,i,s,o,a){let c=Z8(e||o.defaultCode,o.map);return new Eie({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:c,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function Rae(t,e){let n=e.themeClasses[t.themeSystem]||Sa;return new n(t)}function Iae(t){let e=t.dateProfileGeneratorClass||u8;return new e(t)}function Dae(t,e,n){return new lae(t,e,n)}function Pae(t){return eo(t,e=>e.ui)}function jae(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function Mae(t){let{options:e}=t;return{eventUiSingleBase:N0({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:N0({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function U1(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function Oae(t){return ose(t.options.businessHours,t)}function SI(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class Lae extends ct{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return F("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:c,buttonText:u,buttonIcon:f,buttonHint:g}=o;if(a==="title")s=!1,i.push(F("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let p=a===n.activeButton,m=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",y=[`fc-${a}-button`,r.getClass("button")];p&&y.push(r.getClass("buttonActive")),i.push(F("button",{type:"button",title:typeof g=="function"?g(n.navUnit):g,disabled:m,"aria-pressed":p,className:y.join(" "),onClick:c},u||(f?F("span",{className:f,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return F("div",{className:o},...i)}return i[0]}}class CI extends ct{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,F("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return F(Lae,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class Fae extends ct{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,to(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",F("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Uae extends Tu{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=su(r);if(o&&i.isValidSegDownEl(n.target)){let a=Wn(n.target,".fc-event-forced-url"),c=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new Mt(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),c&&!n.defaultPrevented&&(window.location.href=c)}},this.destroy=XO(e.el,"click",".fc-event",this.handleSegClick)}}class Bae extends Tu{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{su(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=bre(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=su(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new Mt(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class Hae extends Pl{constructor(){super(...arguments),this.buildViewContext=Pe(Nie),this.buildViewPropTransformers=Pe(Gae),this.buildToolbarProps=Pe(zae),this.headerRef=sr(),this.footerRef=sr(),this.interactionsStore={},this.state={viewLabelId:ny()},this.registerInteractiveComponent=(e,n)=>{let r=Tse(e,n),o=[Uae,Bae].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,KS[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete KS[e.uid]},this.resizeRunner=new f_(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,_f(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let c=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return F(ro.Provider,{value:c},n.header&&F(CI,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},i)),F(Fae,{liquid:s,height:o,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&F(CI,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return F(Tt,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return F(o,Object.assign({},i))}}function zae(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),c=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Vs(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:c.isValid}}function Gae(t){return t.map(e=>new e)}class $ae extends kse{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;E0(()=>{Vh(F(Nse,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),F(o8.Provider,{value:this.customContentRenderId},F(Hae,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Vh(null,this.el),this.setClassNames([]),this.setHeight(""))},dre(e),this.el=e,this.renderRunner=new f_(this.handleRenderRequest),new Tae({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){E0(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!ha(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){YO(this.el,"height",e)}}const Vae=parseInt(String(q.version).split(".")[0]),Wae=Vae<18;class o7 extends M.Component{constructor(){super(...arguments),this.elRef=M.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(q.createElement(qae,{key:n.id,customRendering:n}));return q.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Roe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new $ae(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{qc.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),s=!n;(Wae||s||this.isUpdating||this.isUnmounting||i-n<100?a7:qc.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}o7.act=a7;class qae extends M.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return qc.createPortal(r,e.containerEl)}}function a7(t){t()}class Kae extends ws{constructor(){super(...arguments),this.headerElRef=sr()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=R0(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),F(_0,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},F(L_,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,c=!o.forPrint&&R0(a.options),u=!o.forPrint&&$8(a.options),f=[];return e&&f.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),f.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&f.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:XS}]}),F(_0,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},F(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:f}))}}function wp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Sp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function EI(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const l7=Bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function c7(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class u7 extends ct{render(){let{props:e}=this;return F(V8,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:l7,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class d7 extends ct{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||l7,o=C8(i,s,n,!0,e.defaultDisplayEventEnd);return F(F_,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:_8(e.seg,n),defaultGenerator:Yae,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function Yae(t){return F(Tt,null,F("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&F("div",{className:"fc-event-time"},t.timeText),F("div",{className:"fc-event-title"},t.event.title||F(Tt,null,"")))}class Qae extends ct{constructor(){super(...arguments),this.compileSegs=Pe(Xae)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return F(Y8,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return F(Tt,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return F("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},c7(s)?F(d7,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},aa(s,e.todayRange))):F(u7,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},aa(s,e.todayRange))))}))}})}}function Xae(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const Jae=Bt({week:"narrow"});class Zae extends ws{constructor(){super(...arguments),this.rootElRef=sr(),this.state={dayNumberId:ny()},this.handleRootEl=e=>{to(this.rootElRef,e),to(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:c}=n;const u=n.showDayNumber&&tle(a,c.currentRange,o);return F(B_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:ele,date:a,dateProfile:c,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(f,g)=>F("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&F(K8,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:k0(e,a,"week"),date:a,defaultFormat:Jae}),!g.isDisabled&&(n.showDayNumber||H_(s)||n.forceDayTop)?F("div",{className:"fc-daygrid-day-top"},F(f,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},k0(e,a)),{id:r.dayNumberId})})):n.showDayNumber?F("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},F("a",{className:"fc-daygrid-day-number"},"")):void 0,F("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,F("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},F(Qae,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),F("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function ele(t){return t.dayNumberText||F(Tt,null,"")}function tle(t,e,n){const{start:r,end:i}=e,s=fa(i,-1),o=n.getYear(r),a=n.getMonth(r),c=n.getYear(s),u=n.getMonth(s);return!(o===c&&a===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function h7(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function f7(t){return h7(t)+":"+t.lastCol}function nle(t,e,n,r,i,s,o){let a=new sle(b=>{let E=t[b.index].eventRange.instance.instanceId+":"+b.span.start+":"+(b.span.end-1);return i[E]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let c=[],u=[];for(let b=0;b<t.length;b+=1){let E=t[b],S=f7(E);i[S]!=null?c.push({index:b,span:{start:E.firstCol,end:E.lastCol+1}}):u.push(E)}let f=a.addSegs(c),g=a.toRects(),{singleColPlacements:p,multiColPlacements:m,leftoverMargins:y}=rle(g,t,o),x=[],C=[];for(let b of u){m[b.firstCol].push({seg:b,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=b.firstCol;E<=b.lastCol;E+=1)p[E].push({seg:Uc(b,E,E+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)x.push(0);for(let b of f){let E=t[b.index],S=b.span;m[S.start].push({seg:Uc(E,S.start,S.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let A=S.start;A<S.end;A+=1)x[A]+=1,p[A].push({seg:Uc(E,A,A+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)C.push(y[b]);return{singleColPlacements:p,multiColPlacements:m,moreCnts:x,moreMarginTops:C}}function rle(t,e,n){let r=ile(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let c=r[a],u=[],f=0,g=0;for(let m of c){let y=e[m.index];u.push({seg:Uc(y,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-f}),f=m.levelCoord+m.thickness}let p=[];f=0,g=0;for(let m of c){let y=e[m.index],x=m.span.end-m.span.start>1,C=m.span.start===a;g+=m.levelCoord-f,f=m.levelCoord+m.thickness,x?(g+=m.thickness,C&&p.push({seg:Uc(y,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):C&&(p.push({seg:Uc(y,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:g}),g=0)}i.push(u),s.push(p),o.push(g)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function ile(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Uc(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=Al(s,{start:r[e].date,end:qn(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class sle extends P8{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[ul(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:c}=e;if(this.hiddenConsumes&&o){const u=ul(o);if(!s[u])if(this.allowReslicing){const f=Object.assign(Object.assign({},o),{span:M_(o.span,n.span)}),g=ul(f);s[g]=!0,i[a][c]=f,r.push(f),this.splitEntry(o,n,r)}else s[u]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class g7 extends ws{constructor(){super(...arguments),this.cellElRefs=new Gs,this.frameElRefs=new Gs,this.fgElRefs=new Gs,this.segHarnessRefs=new Gs,this.rootElRef=sr(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=Sp(e.businessHourSegs,s),a=Sp(e.bgEventSegs,s),c=Sp(this.getHighlightSegs(),s),u=Sp(this.getMirrorSegs(),s),{singleColPlacements:f,multiColPlacements:g,moreCnts:p,moreMarginTops:m}=nle(S8(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),y=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return F("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((x,C)=>{let b=this.renderFgSegs(C,e.forPrint?f[C]:g[C],e.todayRange,y),E=this.renderFgSegs(C,ole(u[C],g),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return F(Zae,{key:x.key,elRef:this.cellElRefs.createRef(x.key),innerElRef:this.frameElRefs.createRef(x.key),dateProfile:e.dateProfile,date:x.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&C===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:x.extraRenderProps,extraDataAttrs:x.extraDataAttrs,extraClassNames:x.extraClassNames,extraDateSpan:x.extraDateSpan,moreCnt:p[C],moreMarginTop:m[C],singlePlacements:f[C],fgContentElRef:this.fgElRefs.createRef(x.key),fgContent:F(Tt,null,F(Tt,null,b),F(Tt,null,E)),bgContent:F(Tt,null,this.renderFillSegs(c[C],"highlight"),this.renderFillSegs(o[C],"non-business"),this.renderFillSegs(a[C],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!ys(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:c}=this,{eventSelection:u}=this.props,{framePositions:f}=this.state,g=this.props.cells.length===1,p=s||o||a,m=[];if(f)for(let y of n){let{seg:x}=y,{instanceId:C}=x.eventRange.instance,b=y.isVisible&&!i[C],E=y.isAbsolute,S="",A="";E&&(c.isRtl?(A=0,S=f.lefts[x.lastCol]-f.lefts[x.firstCol]):(S=0,A=f.rights[x.firstCol]-f.rights[x.lastCol])),m.push(F("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:h7(x),ref:p?null:this.segHarnessRefs.createRef(f7(x)),style:{visibility:b?"":"hidden",marginTop:E?"":y.marginTop,top:E?y.absoluteTop:"",left:S,right:A}},c7(x)?F(d7,Object.assign({seg:x,isDragging:s,isSelected:C===u,defaultDisplayEventEnd:g},aa(x,r))):F(u7,Object.assign({seg:x,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:C===u,defaultDisplayEventEnd:g},aa(x,r)))))}return m}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let c=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(F("div",{key:E8(a.eventRange),className:"fc-daygrid-bg-harness",style:c},n==="bg-event"?F(W8,Object.assign({seg:a},aa(a,i))):q8(n)))}return F(Tt,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let c=n.cells.map(u=>i.currentMap[u.key]);if(c.length){let u=this.rootElRef.current,f=new ou(u,c,!0,!1);(!r.framePositions||!r.framePositions.similarTo(f))&&this.setState({framePositions:new ou(u,c,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}g7.addStateEquality({segHeights:ys});function ole(t,e){if(!t.length)return[];let n=ale(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function ale(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class lle extends ws{constructor(){super(...arguments),this.splitBusinessHourSegs=Pe(wp),this.splitBgEventSegs=Pe(wp),this.splitFgEventSegs=Pe(wp),this.splitDateSelectionSegs=Pe(wp),this.splitEventDrag=Pe(EI),this.splitEventResize=Pe(EI),this.rowRefs=new Gs}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),c=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),f=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return F(Af,{unit:"day"},(g,p)=>F(Tt,null,e.cells.map((m,y)=>F(g7,{ref:this.rowRefs.createRef(y),key:m.length?m[0].date.toISOString():y,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:i[y],eventSelection:e.eventSelection,bgEventSegs:s[y].filter(cle),fgEventSegs:o[y],dateSelectionSegs:a[y],eventDrag:c[y],eventResize:u[y],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:f,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new ou(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new ou(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=qn(r,1);return{start:r,end:i}}}function cle(t){return t.eventRange.def.allDay}class ule extends ws{constructor(){super(...arguments),this.elRef=sr(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return F("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,F("tbody",{role:"presentation"},F(lle,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=dle(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function dle(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Xre(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${y_(e.currentDate)}"]`)),n}class hle extends U8{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class p7 extends ws{constructor(){super(...arguments),this.slicer=new hle,this.tableRef=sr()}render(){let{props:e,context:n}=this;return F(ule,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class fle extends Kae{constructor(){super(...arguments),this.buildDayTableModel=Pe(gle),this.headerRef=sr(),this.tableRef=sr()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&F(O8,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>F(p7,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function gle(t,e){let n=new L8(t.renderRange,e);return new F8(n,/year|month|week/.test(t.currentRangeUnit))}class ple extends u8{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return mle({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function mle(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=J4(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(qn(n.end,-1))),a=Math.ceil(Bre(o,i));i=J4(i,6-a)}return{start:r,end:i}}var vle=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';h_(vle);var yle=io({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:fle,dateProfileGeneratorClass:ple},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class xle extends jse{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?dse(e)?["timed","allDay"]:["allDay"]:["timed"]}}const ble=Bt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function m7(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return F(ro.Consumer,null,n=>{if(!t.isLabeled)return F("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:r,options:i,viewApi:s}=n,o=i.slotLabelFormat==null?ble:Array.isArray(i.slotLabelFormat)?Bt(i.slotLabelFormat[0]):Bt(i.slotLabelFormat),a={level:0,time:t.time,date:r.toDate(t.date),view:s,text:r.format(t.date,o)};return F(Kr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:wle,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},c=>F("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},F(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function wle(t){return t.text}class Sle extends ct{render(){return this.props.slatMetas.map(e=>F("tr",{key:e.key},F(m7,Object.assign({},e))))}}const Cle=Bt({week:"short"}),Ele=5;class _le extends ws{constructor(){super(...arguments),this.allDaySplitter=new xle,this.headerElRef=sr(),this.rootElRef=sr(),this.scrollerElRef=sr(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:r}=this.context,{dateProfile:i}=this.props,s=i.renderRange,a=Dl(s.start,s.end)===1?k0(this.context,s.start,"week"):{};return r.weekNumbers&&e==="day"?F(K8,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:Cle},c=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},F(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):F("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},F("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:r}=this.context,i={text:n.allDayText,view:r};return F(Kr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:Ale,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>F("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},F(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,r){let{context:i,props:s}=this,o=[],a=R0(i.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:r}}),F(_0,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},F(L_,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,r,i,s,o,a){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:u,props:f}=this,g=!f.forPrint&&R0(u.options),p=!f.forPrint&&$8(u.options),m=[];e&&m.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:x=>F("tr",{role:"presentation"},this.renderHeadAxis("day",x.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:x=>F("tr",{role:"presentation"},this.renderTableRowAxis(x.rowSyncHeights[0]))},{key:"cols",content:n}]}),m.push({key:"all-day-divider",type:"body",outerContent:F("tr",{role:"presentation",className:"fc-scrollgrid-section"},F("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let y=u.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:x=>F("div",{className:"fc-timegrid-axis-chunk"},F("table",{"aria-hidden":!0,style:{height:x.expandRows?x.clientHeight:""}},x.tableColGroupNode,F("tbody",null,F(Sle,{slatMetas:o}))),F("div",{className:"fc-timegrid-now-indicator-container"},F(Af,{unit:y?"minute":"day"},C=>{let b=y&&a&&a.safeComputeTop(C);return typeof b=="number"?F(U_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:b},isAxis:!0,date:C}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:r}]}),p&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:XS},{key:"cols",content:XS}]}),F(_0,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},F(c,{liquid:!f.isHeightAuto&&!f.forPrint,forPrint:f.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=Ele),{dayMaxEvents:e,dayMaxEventRows:n}}}function Ale(t){return t.text}class Nle{constructor(e,n,r){this.positions=e,this.dateProfile=n,this.slotDuration=r}safeComputeTop(e){let{dateProfile:n}=this;if(Vs(n.currentRange,e)){let r=Et(e),i=e.valueOf()-r.valueOf();if(i>=ji(n.slotMinTime)&&i<ji(n.slotMaxTime))return this.computeTimeTop(Qe(i))}return null}computeDateTop(e,n){return n||(n=Et(e)),this.computeTimeTop(Qe(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:r}=this,i=n.els.length,s=(e.milliseconds-ji(r.slotMinTime))/ji(this.slotDuration),o,a;return s=Math.max(0,s),s=Math.min(i,s),o=Math.floor(s),o=Math.min(o,i-1),a=s-o,n.tops[o]+n.getHeight(o)*a}}class Tle extends ct{render(){let{props:e,context:n}=this,{options:r}=n,{slatElRefs:i}=e;return F("tbody",null,e.slatMetas.map((s,o)=>{let a={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return F("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&F(m7,Object.assign({},s)),F(Kr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount}))}))}}class kle extends ct{constructor(){super(...arguments),this.rootElRef=sr(),this.slatElRefs=new Gs}render(){let{props:e,context:n}=this;return F("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},F("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,F(Tle,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new Nle(new ou(this.rootElRef.current,Rle(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Rle(t,e){return e.map(n=>t[n.key])}function bd(t,e){let n=[],r;for(r=0;r<e;r+=1)n.push([]);if(t)for(r=0;r<t.length;r+=1)n[t[r].col].push(t[r]);return n}function _I(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.col].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}class Ile extends ct{render(){let{props:e}=this;return F(Y8,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>y7(e.hiddenSegs,e),defaultGenerator:Dle,forceTimed:!0},n=>F(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function Dle(t){return t.shortText}function Ple(t,e,n){let r=new P8;e!=null&&(r.strictOrder=e),n!=null&&(r.maxStackCnt=n);let i=r.addSegs(t),s=qse(i),o=jle(r);return o=Fle(o,1),{segRects:Ule(o),hiddenGroups:s}}function jle(t){const{entriesByLevel:e}=t,n=G_((r,i)=>r+":"+i,(r,i)=>{let s=Lle(t,r,i),o=AI(s,n),a=e[r][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return AI(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function AI(t,e){if(!t)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=t,s=r,o=[];for(;s<i;)o.push(e(n,s)),s+=1;return o.sort(Mle),[o.map(Ole),o[0][1]]}function Mle(t,e){return e[1]-t[1]}function Ole(t){return t[0]}function Lle(t,e,n){let{levelCoords:r,entriesByLevel:i}=t,s=i[e][n],o=r[e]+s.thickness,a=r.length,c=e;for(;c<a&&r[c]<o;c+=1);for(;c<a;c+=1){let u=i[c],f,g=QS(u,s.span.start,YS),p=g[0]+g[1],m=p;for(;(f=u[m])&&f.span.start<s.span.end;)m+=1;if(p<m)return{level:c,lateralStart:p,lateralEnd:m}}return null}function Fle(t,e){const n=G_((r,i,s)=>ul(r),(r,i,s)=>{let{nextLevelNodes:o,thickness:a}=r,c=a+s,u=a/c,f,g=[];if(!o.length)f=e;else for(let m of o)if(f===void 0){let y=n(m,i,c);f=y[0],g.push(y[1])}else{let y=n(m,f,0);g.push(y[1])}let p=(f-i)*u;return[f-p,Object.assign(Object.assign({},r),{thickness:p,nextLevelNodes:g})]});return t.map(r=>n(r,0,0)[1])}function Ule(t){let e=[];const n=G_((i,s,o)=>ul(i),(i,s,o)=>{let a=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=r(i.nextLevelNodes,s+i.thickness,o+1)+1});function r(i,s,o){let a=0;for(let c of i)a=Math.max(n(c,s,o),a);return a}return r(t,0,0),e}function G_(t,e){const n={};return(...r)=>{let i=t(...r);return i in n?n[i]:n[i]=e(...r)}}function NI(t,e,n=null,r=0){let i=[];if(n)for(let s=0;s<t.length;s+=1){let o=t[s],a=n.computeDateTop(o.start,e),c=Math.max(a+(r||0),n.computeDateTop(o.end,e));i.push({start:Math.round(a),end:Math.round(c)})}return i}function Ble(t,e,n,r){let i=[],s=[];for(let u=0;u<t.length;u+=1){let f=e[u];f?i.push({index:u,thickness:1,span:f}):s.push(t[u])}let{segRects:o,hiddenGroups:a}=Ple(i,n,r),c=[];for(let u of o)c.push({seg:t[u.index],rect:u});for(let u of s)c.push({seg:u,rect:null});return{segPlacements:c,hiddenGroups:a}}const Hle=Bt({hour:"numeric",minute:"2-digit",meridiem:!1});class v7 extends ct{render(){return F(V8,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:Hle}))}}class zle extends ct{constructor(){super(...arguments),this.sortEventSegs=Pe(S8)}render(){let{props:e,context:n}=this,{options:r}=n,i=r.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,r.eventOrder);return F(B_,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),F("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),F("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),H_(r)&&F(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,r,i,s,o){let{props:a}=this;return a.forPrint?y7(e,a):this.renderPositionedFgSegs(e,n,r,i,s,o)}renderPositionedFgSegs(e,n,r,i,s,o){let{eventMaxStack:a,eventShortHeight:c,eventOrderStrict:u,eventMinHeight:f}=this.context.options,{date:g,slatCoords:p,eventSelection:m,todayRange:y,nowDate:x}=this.props,C=r||i||s,b=NI(e,g,p,f),{segPlacements:E,hiddenGroups:S}=Ble(e,b,u,a);return F(Tt,null,this.renderHiddenGroups(S,e),E.map(A=>{let{seg:T,rect:k}=A,I=T.eventRange.instance.instanceId,D=C||!!(!n[I]&&k),P=B1(k&&k.span),R=!C&&k?this.computeSegHStyle(k):{left:0,right:0},O=!!k&&k.stackForward>0,z=!!k&&k.span.end-k.span.start<c;return F("div",{className:"fc-timegrid-event-harness"+(O?" fc-timegrid-event-harness-inset":""),key:o||I,style:Object.assign(Object.assign({visibility:D?"":"hidden"},P),R)},F(v7,Object.assign({seg:T,isDragging:r,isResizing:i,isDateSelecting:s,isSelected:I===m,isShort:z},aa(T,y,x))))}))}renderHiddenGroups(e,n){let{extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:c,eventResize:u}=this.props;return F(Tt,null,e.map(f=>{let g=B1(f.span),p=Gle(f.entries,n);return F(Ile,{key:t8(Q8(p)),hiddenSegs:p,top:g.top,bottom:g.bottom,extraDateSpan:r,dateProfile:i,todayRange:s,nowDate:o,eventSelection:a,eventDrag:c,eventResize:u})}))}renderFillSegs(e,n){let{props:r,context:i}=this,o=NI(e,r.date,r.slatCoords,i.options.eventMinHeight).map((a,c)=>{let u=e[c];return F("div",{key:E8(u.eventRange),className:"fc-timegrid-bg-harness",style:B1(a)},n==="bg-event"?F(W8,Object.assign({seg:u},aa(u,r.todayRange,r.nowDate))):q8(n))});return F(Tt,null,o)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((i,s)=>F(U_,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let{isRtl:n,options:r}=this.context,i=r.slotEventOverlap,s=e.levelCoord,o=e.levelCoord+e.thickness,a,c;i&&(o=Math.min(1,s+(o-s)*2)),n?(a=1-o,c=s):(a=s,c=1-o);let u={zIndex:e.stackDepth+1,left:a*100+"%",right:c*100+"%"};return i&&!e.stackForward&&(u[n?"marginLeft":"marginRight"]=10*2),u}}function y7(t,{todayRange:e,nowDate:n,eventSelection:r,eventDrag:i,eventResize:s}){let o=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return F(Tt,null,t.map(a=>{let c=a.eventRange.instance.instanceId;return F("div",{key:c,style:{visibility:o[c]?"hidden":""}},F(v7,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===r,isShort:!1},aa(a,e,n))))}))}function B1(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function Gle(t,e){return t.map(n=>e[n.index])}class $le extends ct{constructor(){super(...arguments),this.splitFgEventSegs=Pe(bd),this.splitBgEventSegs=Pe(bd),this.splitBusinessHourSegs=Pe(bd),this.splitNowIndicatorSegs=Pe(bd),this.splitDateSelectionSegs=Pe(bd),this.splitEventDrag=Pe(_I),this.splitEventResize=Pe(_I),this.rootElRef=sr(),this.cellElRefs=new Gs}render(){let{props:e,context:n}=this,r=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitBusinessHourSegs(e.businessHourSegs,i),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),f=this.splitEventDrag(e.eventDrag,i),g=this.splitEventResize(e.eventResize,i);return F("div",{className:"fc-timegrid-cols",ref:this.rootElRef},F("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,F("tbody",{role:"presentation"},F("tr",{role:"row"},e.axis&&F("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},F("div",{className:"fc-timegrid-col-frame"},F("div",{className:"fc-timegrid-now-indicator-container"},typeof r=="number"&&F(U_,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:r},isAxis:!0,date:e.nowDate})))),e.cells.map((p,m)=>F(zle,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:s[m],bgEventSegs:o[m],businessHourSegs:a[m],nowIndicatorSegs:c[m],dateSelectionSegs:u[m],eventDrag:f[m],eventResize:g[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new ou(this.rootElRef.current,Vle(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Vle(t,e){return e.map(n=>t[n.key])}class Wle extends ws{constructor(){super(...arguments),this.processSlotOptions=Pe(qle),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:r}=this.state;if(n&&r){if(e.time){let i=r.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return F("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},F(kle,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),F($le,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:r,options:i}=this.context,{colCoords:s}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:c,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),f=s.leftToIndex(e),g=a.positions.topToIndex(n);if(f!=null&&g!=null){let p=this.props.cells[f],m=a.positions.tops[g],y=a.positions.getHeight(g),x=(n-m)/y,C=Math.floor(x*u),b=g*u+C,E=this.props.cells[f].date,S=zS(o.slotMinTime,Ore(c,b)),A=r.add(E,S),T=r.add(A,c);return{dateProfile:o,dateSpan:Object.assign({range:{start:A,end:T},allDay:!1},p.extraDateSpan),dayEl:s.els[f],rect:{left:s.lefts[f],right:s.rights[f],top:m,bottom:m+y},layer:0}}return null}}function qle(t,e){let n=e||t,r=v_(t,n);return r===null&&(n=t,r=1),{snapDuration:n,snapsPerSlot:r}}class Kle extends U8{sliceRange(e,n){let r=[];for(let i=0;i<n.length;i+=1){let s=Al(e,n[i]);s&&r.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return r}}class Yle extends ws{constructor(){super(...arguments),this.buildDayRanges=Pe(Qle),this.slicer=new Kle,this.timeColsRef=sr()}render(){let{props:e,context:n}=this,{dateProfile:r,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:o}=n.options,a=this.buildDayRanges(i,r,n.dateEnv);return F(Af,{unit:s?"minute":"day"},(c,u)=>F(Wle,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,r,null,n,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:r,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:s&&this.slicer.sliceNowDate(c,r,o,n,a),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Qle(t,e,n){let r=[];for(let i of t.headerDates)r.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return r}const TI=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Xle(t,e,n,r,i){let s=new Date(0),o=t,a=Qe(0),c=n||Jle(r),u=[];for(;ji(o)<ji(e);){let f=i.add(s,o),g=v_(a,c)!==null;u.push({date:f,time:o,key:f.toISOString(),isoTimeStr:Jre(f),isLabeled:g}),o=zS(o,r),a=zS(a,r)}return u}function Jle(t){let e,n,r;for(e=TI.length-1;e>=0;e-=1)if(n=Qe(TI[e]),r=v_(n,t),r!==null&&r>1)return n;return t}class Zle extends _le{constructor(){super(...arguments),this.buildTimeColsModel=Pe(ece),this.buildSlatMetas=Pe(Xle)}render(){let{options:e,dateEnv:n,dateProfileGenerator:r}=this.context,{props:i}=this,{dateProfile:s}=i,o=this.buildTimeColsModel(s,r),a=this.allDaySplitter.splitProps(i),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:u}=e,f=!u,g=u,p=e.dayHeaders&&F(O8,{dates:o.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(x=>F(p7,Object.assign({},a.allDay,{dateProfile:s,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:x.tableMinWidth,colGroupNode:x.tableColGroupNode,renderRowIntro:f?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:x.clientWidth,clientHeight:x.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),y=x=>F(Yle,Object.assign({},a.timed,{dayTableModel:o,dateProfile:s,axis:f,slotDuration:e.slotDuration,slatMetas:c,forPrint:i.forPrint,tableColGroupNode:x.tableColGroupNode,tableMinWidth:x.tableMinWidth,clientWidth:x.clientWidth,clientHeight:x.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:x.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(p,m,y,o.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(p,m,y)}}function ece(t,e){let n=new L8(t.renderRange,e);return new F8(n,!1)}var tce='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';h_(tce);const nce={allDaySlot:Boolean};var rce=io({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:nce,views:{timeGrid:{component:Zle,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});O_.touchMouseIgnoreWait=500;let ZS=0,I0=0,eC=!1;class x7{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&ice(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,sce()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new oy,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),oce()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),ace()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||Wn(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){eC=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Wn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ZS||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(eC=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}}function ice(t){return t.button===0&&!t.ctrlKey}function sce(){ZS+=1,setTimeout(()=>{ZS-=1},O_.touchMouseIgnoreWait)}function oce(){I0+=1,I0===1&&window.addEventListener("touchmove",b7,{passive:!1})}function ace(){I0-=1,I0||window.removeEventListener("touchmove",b7,{passive:!1})}function b7(t){eC&&t.preventDefault()}class lce{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",nh(r,{left:i.left,top:i.top}),wre(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(g_(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&nh(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),nh(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class w7 extends j_{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class S7 extends w7{constructor(e,n){super(new Vse(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Gse(this.scrollController.el)}}class cce extends w7{constructor(e){super(new Wse,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const kI=typeof performance=="function"?performance.now:Date.now;class uce{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=kI();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(kI()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,c=e-a.left,u=a.right-e,f=n-a.top,g=a.bottom-n;c>=0&&u>=0&&f>=0&&g>=0&&(f<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>f)&&(i={scrollCache:o,name:"top",distance:f}),g<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>g)&&(i={scrollCache:o,name:"bottom",distance:g}),c<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"left",distance:c}),u<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new cce(!1):new S7(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Nf extends Yse{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Sre(document.body),Ere(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:c}=i;o=a*a+c*c,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,Cre(document.body),_re(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new x7(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new lce,this.autoScroller=new uce}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class dce{constructor(e){this.el=e,this.origRect=P_(e),this.scrollCaches=D8(e).map(n=>new S7(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!hce(i.getEventTarget())&&!Rse(r,i.clientRect))return!1;return!0}}function hce(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class ay{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new oy}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=P_(i),r=Ise(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=k8(s,o.rect);a&&(r=Dse(a))}this.coordAdjust=Pse(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!ly(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=eo(this.droppableStore,e=>(e.component.prepareHits(),new dce(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,c=i[o];if(c&&c.isWithinClipping(e,n)){let u=c.computeLeft(),f=c.computeTop(),g=e-u,p=n-f,{origRect:m}=c,y=m.right-m.left,x=m.bottom-m.top;if(g>=0&&g<y&&p>=0&&p<x){let C=a.queryHit(g,p,y,x);C&&iy(C.dateProfile.activeRange,C.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(g+u-window.scrollX,p+f-window.scrollY)))&&(!s||C.layer>s.layer)&&(C.componentId=o,C.context=a.context,C.rect.left+=u,C.rect.right+=u,C.rect.top+=f,C.rect.bottom+=f,s=C)}}}return s}}function ly(t,e){return!t&&!e?!0:!!t!=!!e?!1:bse(t.dateSpan,e.dateSpan)}function C7(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,fce(t,e.dateEnv)),n}function fce(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class gce extends Tu{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&ly(o,a)){let{context:c}=i,u=Object.assign(Object.assign({},C7(o.dateSpan,c)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",u)}}},this.dragging=new Nf(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new ay(this.dragging,I_(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class pce extends Tu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:c}=this,{options:u}=a.context,f=u.selectable&&a.isValidDateDownEl(o.origEvent.target);c.setIgnoreMove(!f),c.delay=o.isTouch?mce(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:c}=this.component,u=null,f=!1;if(o){let g=this.hitDragging.initialHit;o.componentId===g.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(g,o)||(u=vce(g,o,c.pluginHooks.dateSelectionTransformers)),(!u||!toe(u,o.dateProfile,c))&&(f=!0,u=null)}u?c.dispatch({type:"SELECT_DATES",selection:u}):a||c.dispatch({type:"UNSELECT_DATES"}),f?p_():m_(),a||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(x8(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Nf(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ay(this.dragging,I_(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function mce(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function vce(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(Rre);let o={};for(let a of n){let c=a(t,e);if(c===!1)return null;c&&Object.assign(o,c)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class Tf extends Tu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:c,dragging:u}=this,{mirror:f}=u,{options:g}=c.context,p=c.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=su(o.subjectEl),x=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=N_(p.getCurrentData().eventStore,x),u.minDistance=o.isTouch?0:g.eventDragMinDistance,u.delay=o.isTouch&&x!==c.props.eventSelection?xce(c):null,g.fixedMirrorParent?f.parentNode=g.fixedMirrorParent:f.parentNode=Wn(a,".fc"),f.revertDuration=g.dragRevertDuration;let C=c.isValidSegDownEl(a)&&!Wn(a,".fc-event-resizer");u.setIgnoreMove(!C),this.isDragging=C&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,c=this.eventRange,u=c.instance.instanceId;o.isTouch?u!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Mt(a,c.def,c.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,f=this.component.context,g=null,p=null,m=null,y=!1,x={affectedEvents:c,mutatedEvents:Br(),isEvent:!0};if(o){g=o.context;let C=g.options;f===g||C.editable&&C.droppable?(p=yce(u,o,this.eventRange.instance.range.start,g.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(m=R_(c,g.getCurrentData().eventUiBases,p,g),x.mutatedEvents=m,B8(x,o.dateProfile,g)||(y=!0,p=null,m=null,x.mutatedEvents=Br()))):g=null}this.displayDrag(g,x),y?p_():m_(),a||(f===g&&ly(u,o)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=g,this.validMutation=p,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,c=a.viewApi,{receivingContext:u,validMutation:f}=this,g=this.eventRange.def,p=this.eventRange.instance,m=new Mt(a,g,p),y=this.relevantEvents,x=this.mutatedRelevantEvents,{finalHit:C}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:c}),f){if(u===a){let b=new Mt(a,x.defs[g.defId],p?x.instances[p.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:x});let E={oldEvent:m,event:b,relatedEvents:cl(x,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:y})}},S={};for(let A of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(S,A(f,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),S),{el:o.subjectEl,delta:f.datesDelta,jsEvent:o.origEvent,view:c})),a.emitter.trigger("eventChange",E)}else if(u){let b={event:m,relatedEvents:cl(y,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:y})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:o.subjectEl,view:c})),a.dispatch({type:"REMOVE_EVENTS",eventStore:y}),a.emitter.trigger("eventRemove",b);let E=x.defs[g.defId],S=x.instances[p.instanceId],A=new Mt(u,E,S);u.dispatch({type:"MERGE_EVENTS",eventStore:x});let T={event:A,relatedEvents:cl(x,u,S),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:x})}};u.emitter.trigger("eventAdd",T),o.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},C7(C.dateSpan,u)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:C.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:o.subjectEl,view:C.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Nf(e.el);i.pointer.selector=Tf.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new ay(this.dragging,KS);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Br(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Tf.SELECTOR=".fc-event-draggable, .fc-event-resizable";function yce(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,o=i.range.start,a=s.range.start,c={};i.allDay!==s.allDay&&(c.allDay=s.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=Et(n):o=n);let u=Nc(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(c.allDay=!1);let f={datesDelta:u,standardProps:c};for(let g of r)g(f,t,e);return f}function xce(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class bce extends Tu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),c=su(a),u=this.eventRange=c.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=N_(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(s);this.draggingSegEl=c,this.draggingSeg=su(c),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:c,event:new Mt(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:c}=this.component,u=this.relevantEvents,f=this.hitDragging.initialHit,g=this.eventRange.instance,p=null,m=null,y=!1,x={affectedEvents:u,mutatedEvents:Br(),isEvent:!0};s&&(s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(p=wce(f,s,a.subjectEl.classList.contains("fc-event-resizer-start"),g.range))),p&&(m=R_(u,c.getCurrentData().eventUiBases,p,c),x.mutatedEvents=m,B8(x,s.dateProfile,c)||(y=!0,p=null,m=null,x.mutatedEvents=null)),m?c.dispatch({type:"SET_EVENT_RESIZE",state:x}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),y?p_():m_(),o||(p&&ly(f,s)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=m)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,c=this.eventRange.instance,u=new Mt(o,a,c),f=this.relevantEvents,g=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let p=new Mt(o,g.defs[a.defId],c?g.instances[c.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:g});let m={oldEvent:u,event:p,relatedEvents:cl(g,o,c),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:f})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||Qe(0),endDelta:this.validMutation.endDelta||Qe(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Nf(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new ay(this.dragging,I_(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Wn(e.subjectEl,".fc-event")}}function wce(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Nc(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}class Sce{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=QO(r.origEvent);this.matchesCancel=!!Wn(s,i),this.matchesEvent=!!Wn(s,Tf.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new x7(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Cce={fixedMirrorParent:Y},Ece={dateClick:Y,eventDragStart:Y,eventDragStop:Y,eventDrop:Y,eventResizeStart:Y,eventResizeStop:Y,eventResize:Y,drop:Y,eventReceive:Y,eventLeave:Y};O_.dataAttrPrefix="";var _ce=io({name:"@fullcalendar/interaction",componentInteractions:[gce,pce,Tf,bce],calendarInteractions:[Sce],elementDraggingImpl:Nf,optionRefiners:Cce,listenerRefiners:Ece});function Ace({project:t}){const{updateMilestone:e}=bs(),[n,r]=q.useState(null),i=q.useMemo(()=>t.milestones.map(a=>({id:a.id,title:a.title,start:a.startDate,end:a.endDate,backgroundColor:a.status==="completed"?"#10B981":a.status==="in_progress"?"#3B82F6":"#6B7280",extendedProps:a})),[t.milestones]),s=a=>{r(a.event.extendedProps)},o=a=>{const c=a.event.extendedProps;e(t.id,c.id,{startDate:dn(a.event.start,"yyyy-MM-dd'T'HH:mm:ss"),endDate:dn(a.event.end||a.event.start,"yyyy-MM-dd'T'HH:mm:ss")})};return l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Project Calendar"})}),l.jsx("div",{className:"p-4",children:l.jsx(o7,{plugins:[yle,rce,_ce],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:i,editable:!0,droppable:!0,eventClick:s,eventDrop:o,height:"auto"})}),n&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n.title}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${n.status==="completed"?"bg-green-100 text-green-800":n.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:n.status.replace("_"," ").charAt(0).toUpperCase()+n.status.slice(1)})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Description"}),l.jsx("p",{className:"mt-1 text-sm text-gray-600",children:n.description})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Start Date:"}),l.jsx("p",{className:"text-gray-600",children:dn(new Date(n.startDate),"MMM d, yyyy")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"End Date:"}),l.jsx("p",{className:"text-gray-600",children:dn(new Date(n.endDate),"MMM d, yyyy")})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Hours:"}),l.jsxs("p",{className:"text-gray-600",children:[n.hoursLogged," / ",n.hoursAllocated]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Assignees:"}),l.jsxs("p",{className:"text-gray-600",children:[n.assignees.length," team members"]})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Close"})})]})})]})}function Nce({project:t}){const{addCommunication:e}=bs(),[n,r]=q.useState(""),[i,s]=q.useState([]),o=q.useRef(null),a=()=>{var u;(u=o.current)==null||u.scrollIntoView({behavior:"smooth"})};q.useEffect(()=>{a()},[t.communications]);const c=()=>{n.trim()&&(e(t.id,n,"current-user-id",i),r(""),s([]))};return l.jsxs("div",{className:"bg-white rounded-lg shadow flex flex-col h-[600px]",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Team Communication"})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"space-y-4",children:[t.communications.map(u=>l.jsx("div",{className:"flex flex-col space-y-1",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-blue-600",children:u.sender.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"bg-gray-100 rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-900",children:u.message}),u.attachments&&u.attachments.length>0&&l.jsx("div",{className:"mt-2 space-y-1",children:u.attachments.map((f,g)=>l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-700",children:[l.jsx(Zs,{className:"w-4 h-4"}),l.jsx("span",{children:f})]},g))})]}),l.jsx("span",{className:"text-xs text-gray-500 mt-1",children:dn(new Date(u.timestamp),"MMM d, h:mm a")})]})]})},u.id)),l.jsx("div",{ref:o})]})}),l.jsxs("div",{className:"p-4 border-t border-gray-200",children:[i.length>0&&l.jsx("div",{className:"mb-2 flex flex-wrap gap-2",children:i.map((u,f)=>l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 px-2 py-1 rounded text-sm",children:[l.jsx(Zs,{className:"w-4 h-4 text-gray-500"}),l.jsx("span",{className:"text-gray-700",children:u}),l.jsx("button",{onClick:()=>s(i.filter((g,p)=>p!==f)),className:"text-gray-400 hover:text-gray-500",children:""})]},f))}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsx("div",{className:"flex-1",children:l.jsx("textarea",{className:"w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500",rows:2,placeholder:"Type your message...",value:n,onChange:u=>r(u.target.value),onKeyDown:u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),c())}})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-500",onClick:()=>{s([...i,"New Document.pdf"])},children:l.jsx(Fq,{className:"w-5 h-5"})}),l.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:l.jsx(TE,{className:"w-5 h-5"})})]})]})]})]})}var E7={exports:{}},cy={},D0={},$e={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof XN<"u"?XN:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.16",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})($e);var Gt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=$e;class n{constructor(A=[1,0,0,1,0,0]){this.dirty=!1,this.m=A&&A.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(A){A.m[0]=this.m[0],A.m[1]=this.m[1],A.m[2]=this.m[2],A.m[3]=this.m[3],A.m[4]=this.m[4],A.m[5]=this.m[5]}point(A){const T=this.m;return{x:T[0]*A.x+T[2]*A.y+T[4],y:T[1]*A.x+T[3]*A.y+T[5]}}translate(A,T){return this.m[4]+=this.m[0]*A+this.m[2]*T,this.m[5]+=this.m[1]*A+this.m[3]*T,this}scale(A,T){return this.m[0]*=A,this.m[1]*=A,this.m[2]*=T,this.m[3]*=T,this}rotate(A){const T=Math.cos(A),k=Math.sin(A),I=this.m[0]*T+this.m[2]*k,D=this.m[1]*T+this.m[3]*k,P=this.m[0]*-k+this.m[2]*T,R=this.m[1]*-k+this.m[3]*T;return this.m[0]=I,this.m[1]=D,this.m[2]=P,this.m[3]=R,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(A,T){const k=this.m[0]+this.m[2]*T,I=this.m[1]+this.m[3]*T,D=this.m[2]+this.m[0]*A,P=this.m[3]+this.m[1]*A;return this.m[0]=k,this.m[1]=I,this.m[2]=D,this.m[3]=P,this}multiply(A){const T=this.m[0]*A.m[0]+this.m[2]*A.m[1],k=this.m[1]*A.m[0]+this.m[3]*A.m[1],I=this.m[0]*A.m[2]+this.m[2]*A.m[3],D=this.m[1]*A.m[2]+this.m[3]*A.m[3],P=this.m[0]*A.m[4]+this.m[2]*A.m[5]+this.m[4],R=this.m[1]*A.m[4]+this.m[3]*A.m[5]+this.m[5];return this.m[0]=T,this.m[1]=k,this.m[2]=I,this.m[3]=D,this.m[4]=P,this.m[5]=R,this}invert(){const A=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),T=this.m[3]*A,k=-this.m[1]*A,I=-this.m[2]*A,D=this.m[0]*A,P=A*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),R=A*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=T,this.m[1]=k,this.m[2]=I,this.m[3]=D,this.m[4]=P,this.m[5]=R,this}getMatrix(){return this.m}decompose(){const A=this.m[0],T=this.m[1],k=this.m[2],I=this.m[3],D=this.m[4],P=this.m[5],R=A*I-T*k,O={x:D,y:P,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(A!=0||T!=0){const z=Math.sqrt(A*A+T*T);O.rotation=T>0?Math.acos(A/z):-Math.acos(A/z),O.scaleX=z,O.scaleY=R/z,O.skewX=(A*k+T*I)/R,O.skewY=0}else if(k!=0||I!=0){const z=Math.sqrt(k*k+I*I);O.rotation=Math.PI/2-(I>0?Math.acos(-k/z):-Math.acos(k/z)),O.scaleX=R/z,O.scaleY=z,O.skewX=0,O.skewY=(A*k+T*I)/R}return O.rotation=t.Util._getRotation(O.rotation),O}}t.Transform=n;let r="[object Array]",i="[object Number]",s="[object String]",o="[object Boolean]",a=Math.PI/180,c=180/Math.PI,u="#",f="",g="0",p="Konva warning: ",m="Konva error: ",y="rgb(",x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,b=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(S){setTimeout(S,60)};t.Util={_isElement(S){return!!(S&&S.nodeType==1)},_isFunction(S){return!!(S&&S.constructor&&S.call&&S.apply)},_isPlainObject(S){return!!S&&S.constructor===Object},_isArray(S){return Object.prototype.toString.call(S)===r},_isNumber(S){return Object.prototype.toString.call(S)===i&&!isNaN(S)&&isFinite(S)},_isString(S){return Object.prototype.toString.call(S)===s},_isBoolean(S){return Object.prototype.toString.call(S)===o},isObject(S){return S instanceof Object},isValidSelector(S){if(typeof S!="string")return!1;const A=S[0];return A==="#"||A==="."||A===A.toUpperCase()},_sign(S){return S===0||S>0?1:-1},requestAnimFrame(S){b.push(S),b.length===1&&E(function(){const A=b;b=[],A.forEach(function(T){T()})})},createCanvasElement(){const S=document.createElement("canvas");try{S.style=S.style||{}}catch{}return S},createImageElement(){return document.createElement("img")},_isInDocument(S){for(;S=S.parentNode;)if(S==document)return!0;return!1},_urlToImage(S,A){const T=t.Util.createImageElement();T.onload=function(){A(T)},T.src=S},_rgbToHex(S,A,T){return((1<<24)+(S<<16)+(A<<8)+T).toString(16).slice(1)},_hexToRgb(S){S=S.replace(u,f);const A=parseInt(S,16);return{r:A>>16&255,g:A>>8&255,b:A&255}},getRandomColor(){let S=(Math.random()*16777215<<0).toString(16);for(;S.length<6;)S=g+S;return u+S},getRGB(S){let A;return S in x?(A=x[S],{r:A[0],g:A[1],b:A[2]}):S[0]===u?this._hexToRgb(S.substring(1)):S.substr(0,4)===y?(A=C.exec(S.replace(/ /g,"")),{r:parseInt(A[1],10),g:parseInt(A[2],10),b:parseInt(A[3],10)}):{r:0,g:0,b:0}},colorToRGBA(S){return S=S||"black",t.Util._namedColorToRBA(S)||t.Util._hex3ColorToRGBA(S)||t.Util._hex4ColorToRGBA(S)||t.Util._hex6ColorToRGBA(S)||t.Util._hex8ColorToRGBA(S)||t.Util._rgbColorToRGBA(S)||t.Util._rgbaColorToRGBA(S)||t.Util._hslColorToRGBA(S)},_namedColorToRBA(S){const A=x[S.toLowerCase()];return A?{r:A[0],g:A[1],b:A[2],a:1}:null},_rgbColorToRGBA(S){if(S.indexOf("rgb(")===0){S=S.match(/rgb\(([^)]+)\)/)[1];const A=S.split(/ *, */).map(Number);return{r:A[0],g:A[1],b:A[2],a:1}}},_rgbaColorToRGBA(S){if(S.indexOf("rgba(")===0){S=S.match(/rgba\(([^)]+)\)/)[1];const A=S.split(/ *, */).map((T,k)=>T.slice(-1)==="%"?k===3?parseInt(T)/100:parseInt(T)/100*255:Number(T));return{r:A[0],g:A[1],b:A[2],a:A[3]}}},_hex8ColorToRGBA(S){if(S[0]==="#"&&S.length===9)return{r:parseInt(S.slice(1,3),16),g:parseInt(S.slice(3,5),16),b:parseInt(S.slice(5,7),16),a:parseInt(S.slice(7,9),16)/255}},_hex6ColorToRGBA(S){if(S[0]==="#"&&S.length===7)return{r:parseInt(S.slice(1,3),16),g:parseInt(S.slice(3,5),16),b:parseInt(S.slice(5,7),16),a:1}},_hex4ColorToRGBA(S){if(S[0]==="#"&&S.length===5)return{r:parseInt(S[1]+S[1],16),g:parseInt(S[2]+S[2],16),b:parseInt(S[3]+S[3],16),a:parseInt(S[4]+S[4],16)/255}},_hex3ColorToRGBA(S){if(S[0]==="#"&&S.length===4)return{r:parseInt(S[1]+S[1],16),g:parseInt(S[2]+S[2],16),b:parseInt(S[3]+S[3],16),a:1}},_hslColorToRGBA(S){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(S)){const[A,...T]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(S),k=Number(T[0])/360,I=Number(T[1])/100,D=Number(T[2])/100;let P,R,O;if(I===0)return O=D*255,{r:Math.round(O),g:Math.round(O),b:Math.round(O),a:1};D<.5?P=D*(1+I):P=D+I-D*I;const z=2*D-P,ae=[0,0,0];for(let Z=0;Z<3;Z++)R=k+1/3*-(Z-1),R<0&&R++,R>1&&R--,6*R<1?O=z+(P-z)*6*R:2*R<1?O=P:3*R<2?O=z+(P-z)*(2/3-R)*6:O=z,ae[Z]=O*255;return{r:Math.round(ae[0]),g:Math.round(ae[1]),b:Math.round(ae[2]),a:1}}},haveIntersection(S,A){return!(A.x>S.x+S.width||A.x+A.width<S.x||A.y>S.y+S.height||A.y+A.height<S.y)},cloneObject(S){const A={};for(const T in S)this._isPlainObject(S[T])?A[T]=this.cloneObject(S[T]):this._isArray(S[T])?A[T]=this.cloneArray(S[T]):A[T]=S[T];return A},cloneArray(S){return S.slice(0)},degToRad(S){return S*a},radToDeg(S){return S*c},_degToRad(S){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(S)},_radToDeg(S){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(S)},_getRotation(S){return e.Konva.angleDeg?t.Util.radToDeg(S):S},_capitalize(S){return S.charAt(0).toUpperCase()+S.slice(1)},throw(S){throw new Error(m+S)},error(S){console.error(m+S)},warn(S){e.Konva.showWarnings&&console.warn(p+S)},each(S,A){for(const T in S)A(T,S[T])},_inRange(S,A,T){return A<=S&&S<T},_getProjectionToSegment(S,A,T,k,I,D){let P,R,O;const z=(S-T)*(S-T)+(A-k)*(A-k);if(z==0)P=S,R=A,O=(I-T)*(I-T)+(D-k)*(D-k);else{const ae=((I-S)*(T-S)+(D-A)*(k-A))/z;ae<0?(P=S,R=A,O=(S-I)*(S-I)+(A-D)*(A-D)):ae>1?(P=T,R=k,O=(T-I)*(T-I)+(k-D)*(k-D)):(P=S+ae*(T-S),R=A+ae*(k-A),O=(P-I)*(P-I)+(R-D)*(R-D))}return[P,R,O]},_getProjectionToLine(S,A,T){const k=t.Util.cloneObject(S);let I=Number.MAX_VALUE;return A.forEach(function(D,P){if(!T&&P===A.length-1)return;const R=A[(P+1)%A.length],O=t.Util._getProjectionToSegment(D.x,D.y,R.x,R.y,S.x,S.y),z=O[0],ae=O[1],Z=O[2];Z<I&&(k.x=z,k.y=ae,I=Z)}),k},_prepareArrayForTween(S,A,T){let k,I=[],D=[];if(S.length>A.length){const R=A;A=S,S=R}for(k=0;k<S.length;k+=2)I.push({x:S[k],y:S[k+1]});for(k=0;k<A.length;k+=2)D.push({x:A[k],y:A[k+1]});const P=[];return D.forEach(function(R){const O=t.Util._getProjectionToLine(R,I,T);P.push(O.x),P.push(O.y)}),P},_prepareToStringify(S){let A;S.visitedByCircularReferenceRemoval=!0;for(const T in S)if(S.hasOwnProperty(T)&&S[T]&&typeof S[T]=="object"){if(A=Object.getOwnPropertyDescriptor(S,T),S[T].visitedByCircularReferenceRemoval||t.Util._isElement(S[T]))if(A.configurable)delete S[T];else return null;else if(t.Util._prepareToStringify(S[T])===null)if(A.configurable)delete S[T];else return null}return delete S.visitedByCircularReferenceRemoval,S},_assign(S,A){for(const T in A)S[T]=A[T];return S},_getFirstPointerId(S){return S.touches?S.changedTouches[0].identifier:S.pointerId||999},releaseCanvas(...S){e.Konva.releaseCanvasOnDestroy&&S.forEach(A=>{A.width=0,A.height=0})},drawRoundedRectPath(S,A,T,k){let I=0,D=0,P=0,R=0;typeof k=="number"?I=D=P=R=Math.min(k,A/2,T/2):(I=Math.min(k[0]||0,A/2,T/2),D=Math.min(k[1]||0,A/2,T/2),R=Math.min(k[2]||0,A/2,T/2),P=Math.min(k[3]||0,A/2,T/2)),S.moveTo(I,0),S.lineTo(A-D,0),S.arc(A-D,D,D,Math.PI*3/2,0,!1),S.lineTo(A,T-R),S.arc(A-R,T-R,R,0,Math.PI/2,!1),S.lineTo(P,T),S.arc(P,T-P,P,Math.PI/2,Math.PI,!1),S.lineTo(0,I),S.arc(I,I,I,Math.PI,Math.PI*3/2,!1)}}})(Gt);var Ot={},Ve={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.RGBComponent=Tce;je.alphaComponent=kce;je.getNumberValidator=Rce;je.getNumberOrArrayOfNumbersValidator=Ice;je.getNumberOrAutoValidator=Dce;je.getStringValidator=Pce;je.getStringOrGradientValidator=jce;je.getFunctionValidator=Mce;je.getNumberArrayValidator=Oce;je.getBooleanValidator=Lce;je.getComponentValidator=Fce;const so=$e,Wt=Gt;function oo(t){return Wt.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Wt.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function Tce(t){return t>255?255:t<0?0:Math.round(t)}function kce(t){return t>1?1:t<1e-4?1e-4:t}function Rce(){if(so.Konva.isUnminified)return function(t,e){return Wt.Util._isNumber(t)||Wt.Util.warn(oo(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Ice(t){if(so.Konva.isUnminified)return function(e,n){const r=Wt.Util._isNumber(e),i=Wt.Util._isArray(e)&&e.length==t;return!r&&!i&&Wt.Util.warn(oo(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function Dce(){if(so.Konva.isUnminified)return function(t,e){return Wt.Util._isNumber(t)||t==="auto"||Wt.Util.warn(oo(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Pce(){if(so.Konva.isUnminified)return function(t,e){return Wt.Util._isString(t)||Wt.Util.warn(oo(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function jce(){if(so.Konva.isUnminified)return function(t,e){const n=Wt.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||Wt.Util.warn(oo(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Mce(){if(so.Konva.isUnminified)return function(t,e){return Wt.Util._isFunction(t)||Wt.Util.warn(oo(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function Oce(){if(so.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Wt.Util._isArray(t)?t.forEach(function(r){Wt.Util._isNumber(r)||Wt.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Wt.Util.warn(oo(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Lce(){if(so.Konva.isUnminified)return function(t,e){return t===!0||t===!1||Wt.Util.warn(oo(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Fce(t){if(so.Konva.isUnminified)return function(e,n){return e==null||Wt.Util.isObject(e)||Wt.Util.warn(oo(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Gt,n=je,r="get",i="set";t.Factory={addGetterSetter(s,o,a,c,u){t.Factory.addGetter(s,o,a),t.Factory.addSetter(s,o,c,u),t.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){const c=r+e.Util._capitalize(o);s.prototype[c]=s.prototype[c]||function(){const u=this.attrs[o];return u===void 0?a:u}},addSetter(s,o,a,c){const u=i+e.Util._capitalize(o);s.prototype[u]||t.Factory.overWriteSetter(s,o,a,c)},overWriteSetter(s,o,a,c){const u=i+e.Util._capitalize(o);s.prototype[u]=function(f){return a&&f!==void 0&&f!==null&&(f=a.call(this,f,o)),this._setAttr(o,f),c&&c.call(this),this}},addComponentsGetterSetter(s,o,a,c,u){let f=a.length,g=e.Util._capitalize,p=r+g(o),m=i+g(o),y,x;s.prototype[p]=function(){const b={};for(y=0;y<f;y++)x=a[y],b[x]=this.getAttr(o+g(x));return b};const C=(0,n.getComponentValidator)(a);s.prototype[m]=function(b){let E=this.attrs[o],S;c&&(b=c.call(this,b)),C&&C.call(this,b,o);for(S in b)b.hasOwnProperty(S)&&this._setAttr(o+g(S),b[S]);return b||a.forEach(A=>{this._setAttr(o+g(A),void 0)}),this._fireChangeEvent(o,E,b),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){const a=e.Util._capitalize(o),c=i+a,u=r+a;s.prototype[o]=function(){return arguments.length?(this[c](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(s,o,a,c){e.Util.error("Adding deprecated "+o);const u=r+e.Util._capitalize(o),f=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[u]=function(){e.Util.error(f);const g=this.attrs[o];return g===void 0?a:g},t.Factory.addSetter(s,o,c,function(){e.Util.error(f)}),t.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){e.Util.each(o,function(a,c){const u=s.prototype[c],f=r+e.Util._capitalize(a),g=i+e.Util._capitalize(a);function p(){u.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+c+'" instead.')}s.prototype[a]=p,s.prototype[f]=p,s.prototype[g]=p})},afterSetFilter(){this._filterUpToDate=!1}}})(Ve);var Fi={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.HitContext=Ws.SceneContext=Ws.Context=void 0;const _7=Gt,Uce=$e;function Bce(t){let e=[],n=t.length,r=_7.Util,i,s;for(i=0;i<n;i++)s=t[i],r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s);return e}const RI=",",Hce="(",zce=")",Gce="([",$ce="])",Vce=";",Wce="()",qce="=",II=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Kce=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],Yce=100;class uy{constructor(e){this.canvas=e,Uce.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",o,a,c,u;for(o=0;o<i;o++)a=r[o],c=a.method,c?(u=a.args,s+=c,e?s+=Wce:_7.Util._isArray(u[0])?s+=Gce+u.join(RI)+$ce:(n&&(u=u.map(f=>typeof f=="number"?Math.floor(f):f)),s+=Hce+u.join(RI)+zce)):(s+=a.property,e||(s+=qce+a.val)),s+=Vce;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=Yce&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,o){this._context.arc(e,n,r,i,s,o)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,o){return this._context.createRadialGradient(e,n,r,i,s,o)}drawImage(e,n,r,i,s,o,a,c,u){const f=arguments,g=this._context;f.length===3?g.drawImage(e,n,r):f.length===5?g.drawImage(e,n,r,i,s):f.length===9&&g.drawImage(e,n,r,i,s,o,a,c,u)}ellipse(e,n,r,i,s,o,a,c){this._context.ellipse(e,n,r,i,s,o,a,c)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,o){this._context.setTransform(e,n,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,o){this._context.transform(e,n,r,i,s,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=II.length,r=this.setAttr,i,s;const o=function(a){let c=e[a],u;e[a]=function(){return s=Bce(Array.prototype.slice.call(arguments,0)),u=c.apply(e,arguments),e._trace({method:a,args:s}),u}};for(i=0;i<n;i++)o(II[i]);e.setAttr=function(){r.apply(e,arguments);const a=arguments[0];let c=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(c=c/this.canvas.getPixelRatio()),e._trace({property:a,val:c})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}Ws.Context=uy;Kce.forEach(function(t){Object.defineProperty(uy.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class Qce extends uy{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let o=0;o<i.length;o+=2)s.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},c=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),f=c.x*u,g=c.y*u;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(f),Math.abs(g))),this.setAttr("shadowOffsetX",a.x*f),this.setAttr("shadowOffsetY",a.y*g)}}Ws.SceneContext=Qce;class Xce extends uy{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}Ws.HitContext=Xce;Object.defineProperty(Fi,"__esModule",{value:!0});Fi.HitCanvas=Fi.SceneCanvas=Fi.Canvas=void 0;const P0=Gt,A7=Ws,N7=$e,Jce=Ve,Zce=je;let Cp;function eue(){if(Cp)return Cp;const t=P0.Util.createCanvasElement(),e=t.getContext("2d");return Cp=function(){const n=N7.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),P0.Util.releaseCanvas(t),Cp}class dy{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||N7.Konva.pixelRatio||eue();this.pixelRatio=r,this._canvas=P0.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return P0.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Fi.Canvas=dy;Jce.Factory.addGetterSetter(dy,"pixelRatio",void 0,(0,Zce.getNumberValidator)());class tue extends dy{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new A7.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}Fi.SceneCanvas=tue;class nue extends dy{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new A7.HitContext(this),this.setSize(e.width,e.height)}}Fi.HitCanvas=nue;var hy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=$e,n=Gt;t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((s,o)=>{const{node:a}=s,c=a.getStage();c.setPointersPositions(r),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(r));const u=c._changedPointerPositions.find(f=>f.id===s.pointerId);if(u){if(s.dragStatus!=="dragging"){const f=a.dragDistance();if(Math.max(Math.abs(u.x-s.startPointerPos.x),Math.abs(u.y-s.startPointerPos.y))<f||(a.startDrag({evt:r}),!a.isDragging()))return}a._setDragPosition(r,s),i.push(a)}}),i.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(s=>{const{node:o}=s,a=o.getStage();if(r&&a.setPointersPositions(r),!a._changedPointerPositions.find(f=>f.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const u=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;u&&i.indexOf(u)===-1&&i.push(u)}),i.forEach(s=>{s.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,s)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(hy);Object.defineProperty(Ot,"__esModule",{value:!0});Ot.Node=void 0;const Ye=Gt,kf=Ve,wd=Fi,_o=$e,si=hy,Qt=je,rm="absoluteOpacity",Ep="allEventListeners",Ps="absoluteTransform",DI="absoluteScale",za="canvas",rue="Change",iue="children",sue="konva",tC="listening",PI="mouseenter",jI="mouseleave",MI="set",OI="Shape",im=" ",LI="stage",No="transform",oue="Stage",nC="visible",aue=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(im);let lue=1;class Le{constructor(e){this._id=lue++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===No||e===Ps)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===No||e===Ps)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(im);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(za)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Ps&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(za)){const{scene:e,filter:n,hit:r}=this._cache.get(za);Ye.Util.releaseCanvas(e,n,r),this._cache.delete(za)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),o=n.pixelRatio,a=n.x===void 0?Math.floor(r.x):n.x,c=n.y===void 0?Math.floor(r.y):n.y,u=n.offset||0,f=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!i||!s){Ye.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const p=Math.abs(Math.round(r.x)-a)>.5?1:0,m=Math.abs(Math.round(r.y)-c)>.5?1:0;i+=u*2+p,s+=u*2+m,a-=u,c-=u;const y=new wd.SceneCanvas({pixelRatio:o,width:i,height:s}),x=new wd.SceneCanvas({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),C=new wd.HitCanvas({pixelRatio:g,width:i,height:s}),b=y.getContext(),E=C.getContext();return C.isCache=!0,y.isCache=!0,this._cache.delete(za),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,x.getContext()._context.imageSmoothingEnabled=!1),b.save(),E.save(),b.translate(-a,-c),E.translate(-a,-c),this._isUnderCache=!0,this._clearSelfAndDescendantCache(rm),this._clearSelfAndDescendantCache(DI),this.drawScene(y,this),this.drawHit(C,this),this._isUnderCache=!1,b.restore(),E.restore(),f&&(b.save(),b.beginPath(),b.rect(0,0,i,s),b.closePath(),b.setAttr("strokeStyle","red"),b.setAttr("lineWidth",5),b.stroke(),b.restore()),this._cache.set(za,{scene:y,filter:x,hit:C,x:a,y:c}),this._requestDraw(),this}isCached(){return this._cache.has(za)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,o=-1/0,a=-1/0;const c=this.getAbsoluteTransform(n);return r.forEach(function(u){const f=c.point(u);i===void 0&&(i=o=f.x,s=a=f.y),i=Math.min(i,f.x),s=Math.min(s,f.y),o=Math.max(o,f.x),a=Math.max(a,f.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),o,a,c,u;if(e){if(!this._filterUpToDate){const f=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(o=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/f,r.getHeight()/f),a=s.getImageData(0,0,i.getWidth(),i.getHeight()),c=0;c<o;c++){if(u=e[c],typeof u!="function"){Ye.Util.error("Filter should be type of function, but got "+typeof u+" instead. Please check correct filters");continue}u.call(this,a),s.putImageData(a,0,0)}}catch(g){Ye.Util.error("Unable to apply filter. "+g.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(Ep),arguments.length===3)return this._delegate.apply(this,arguments);let r=e.split(im),i=r.length,s,o,a,c,u;for(s=0;s<i;s++)o=r[s],a=o.split("."),c=a[0],u=a[1]||"",this.eventListeners[c]||(this.eventListeners[c]=[]),this.eventListeners[c].push({name:u,handler:n});return this}off(e,n){let r=(e||"").split(im),i=r.length,s,o,a,c,u,f;if(this._cache&&this._cache.delete(Ep),!e)for(o in this.eventListeners)this._off(o);for(s=0;s<i;s++)if(a=r[s],c=a.split("."),u=c[0],f=c[1],u)this.eventListeners[u]&&this._off(u,f,n);else for(o in this.eventListeners)this._off(o,f,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const o=s.target.findAncestors(n,!0,i);for(let a=0;a<o.length;a++)s=Ye.Util.cloneObject(s),s.currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),si.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ps),this._clearSelfAndDescendantCache(rm),this._clearSelfAndDescendantCache(DI),this._clearSelfAndDescendantCache(LI),this._clearSelfAndDescendantCache(nC),this._clearSelfAndDescendantCache(tC)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+Ye.Util._capitalize(e);return Ye.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==iue&&(r=MI+Ye.Util._capitalize(n),Ye.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(tC,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(nC,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;si.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(i=!0)});const s=!n&&!_o.Konva.hitOnDragEnabled&&(i||_o.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,o,a;function c(f){for(i=[],s=f.length,o=0;o<s;o++)a=f[o],r++,a.nodeType!==OI&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(o=s);i.length>0&&i[0].getDepth()<=e&&c(i)}const u=this.getStage();return n.nodeType!==oue&&u&&c(u.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(No),this._clearSelfAndDescendantCache(Ps)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new Ye.Transform,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(No);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(No),this._clearSelfAndDescendantCache(Ps),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,o;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,o=0;o<s;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Ye.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Ye.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Ye.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Ye.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Ye.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Ye.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(rm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,o;const a={attrs:{},className:this.getClassName()};for(n in e)r=e[n],o=Ye.Util.isObject(r)&&!Ye.Util._isPlainObject(r)&&!Ye.Util._isArray(r),!o&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(a.attrs[n]=r));return Ye.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],Ye.Util.isValidSelector(s)||(Ye.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Ye.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Ye.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(LI,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Ps,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Ye.Transform,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Ps)||new Ye.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;n.translate(i-o,s-a)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(No,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(No)||new Ye.Transform;r.reset();const i=this.x(),s=this.y(),o=_o.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,c=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,u=this.attrs.skewX||0,f=this.attrs.skewY||0,g=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),o!==0&&r.rotate(o),(u!==0||f!==0)&&r.skew(u,f),(a!==1||c!==1)&&r.scale(a,c),(g!==0||p!==0)&&r.translate(-1*g,-1*p),r.dirty=!1,r}clone(e){let n=Ye.Util.cloneObject(this.attrs),r,i,s,o,a;for(r in e)n[r]=e[r];const c=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,o=0;o<s;o++)a=i[o],a.name.indexOf(sue)<0&&(c.eventListeners[r]||(c.eventListeners[r]=[]),c.eventListeners[r].push(a));return c}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new wd.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),c=a.getContext(),u=new wd.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(s),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(c._context.imageSmoothingEnabled=!1),c.save(),(i||s)&&c.translate(-1*i,-1*s),this.drawScene(a,void 0,u),c.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,Ye.Util._urlToImage(this.toDataURL(e),function(s){n(s),i==null||i(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i==null||i(s)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():_o.Konva.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,o,a;for(s=0;s<i.length;s++)if(o=i[s].name,a=i[s].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===a)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+rue,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[MI+Ye.Util._capitalize(e)];return Ye.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(_o.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!Ye.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){if(n&&this.nodeType===OI&&(n.target=this),!((e===PI||e===jI)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const s=(e===PI||e===jI)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(Ep))!==null&&n!==void 0?n:{};let o=s==null?void 0:s[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const c=(i=(r=a.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];o.push(...c),a=Object.getPrototypeOf(a)}s[e]=o,this._cache.set(Ep,s)}return o}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(var i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;si.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){si.DD._dragElements.has(this._id)||this._createDragElement(e);const r=si.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const o=s.call(this,i,e);o?i=o:Ye.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=si.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),si.DD._endDragBefore(e),si.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=si.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||_o.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;si.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=si.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&si.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Ye.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return Ye.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=Le.prototype.getClassName.call(e),i=e.children,s,o,a;n&&(e.attrs.container=n),_o.Konva[r]||(Ye.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const c=_o.Konva[r];if(s=new c(e.attrs),i)for(o=i.length,a=0;a<o;a++)s.add(Le._createNode(i[a]));return s}}Ot.Node=Le;Le.prototype.nodeType="Node";Le.prototype._attrsAffectingSize=[];Le.prototype.eventListeners={};Le.prototype.on.call(Le.prototype,aue,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(No),this._clearSelfAndDescendantCache(Ps)});Le.prototype.on.call(Le.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(nC)});Le.prototype.on.call(Le.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(tC)});Le.prototype.on.call(Le.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(rm)});const wt=kf.Factory.addGetterSetter;wt(Le,"zIndex");wt(Le,"absolutePosition");wt(Le,"position");wt(Le,"x",0,(0,Qt.getNumberValidator)());wt(Le,"y",0,(0,Qt.getNumberValidator)());wt(Le,"globalCompositeOperation","source-over",(0,Qt.getStringValidator)());wt(Le,"opacity",1,(0,Qt.getNumberValidator)());wt(Le,"name","",(0,Qt.getStringValidator)());wt(Le,"id","",(0,Qt.getStringValidator)());wt(Le,"rotation",0,(0,Qt.getNumberValidator)());kf.Factory.addComponentsGetterSetter(Le,"scale",["x","y"]);wt(Le,"scaleX",1,(0,Qt.getNumberValidator)());wt(Le,"scaleY",1,(0,Qt.getNumberValidator)());kf.Factory.addComponentsGetterSetter(Le,"skew",["x","y"]);wt(Le,"skewX",0,(0,Qt.getNumberValidator)());wt(Le,"skewY",0,(0,Qt.getNumberValidator)());kf.Factory.addComponentsGetterSetter(Le,"offset",["x","y"]);wt(Le,"offsetX",0,(0,Qt.getNumberValidator)());wt(Le,"offsetY",0,(0,Qt.getNumberValidator)());wt(Le,"dragDistance",null,(0,Qt.getNumberValidator)());wt(Le,"width",0,(0,Qt.getNumberValidator)());wt(Le,"height",0,(0,Qt.getNumberValidator)());wt(Le,"listening",!0,(0,Qt.getBooleanValidator)());wt(Le,"preventDefault",!0,(0,Qt.getBooleanValidator)());wt(Le,"filters",null,function(t){return this._filterUpToDate=!1,t});wt(Le,"visible",!0,(0,Qt.getBooleanValidator)());wt(Le,"transformsEnabled","all",(0,Qt.getStringValidator)());wt(Le,"size");wt(Le,"dragBoundFunc");wt(Le,"draggable",!1,(0,Qt.getBooleanValidator)());kf.Factory.backCompat(Le,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var jl={};Object.defineProperty(jl,"__esModule",{value:!0});jl.Container=void 0;const ku=Ve,H1=Ot,fy=je;class Ml extends H1.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[],r=[];return n.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=H1.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=H1.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),o=s&&s.getContext(),a=this._getCanvasCache(),c=a&&a.scene,u=s&&s.isCache;if(!this.isVisible()&&!u)return this;if(c){o.save();const f=this.getAbsoluteTransform(n).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();const c=this.getAbsoluteTransform(n).getMatrix();s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const o=n&&n.getContext(),a=this.clipWidth(),c=this.clipHeight(),u=this.clipFunc(),f=typeof a=="number"&&typeof c=="number"||u,g=r===this;if(f){o.save();const m=this.getAbsoluteTransform(r);let y=m.getMatrix();o.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.beginPath();let x;if(u)x=u.call(this,o,this);else{const C=this.clipX(),b=this.clipY();o.rect(C||0,b||0,a,c)}o.clip.apply(o,x),y=m.copy().invert().getMatrix(),o.transform(y[0],y[1],y[2],y[3],y[4],y[5])}const p=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";p&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(m){m[e](n,r,i)}),p&&o.restore(),f&&o.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,o,a,c,u={x:1/0,y:1/0,width:0,height:0};const f=this;(n=this.children)===null||n===void 0||n.forEach(function(m){if(!m.visible())return;const y=m.getClientRect({relativeTo:f,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(s===void 0?(s=y.x,o=y.y,a=y.x+y.width,c=y.y+y.height):(s=Math.min(s,y.x),o=Math.min(o,y.y),a=Math.max(a,y.x+y.width),c=Math.max(c,y.y+y.height)))});const g=this.find("Shape");let p=!1;for(let m=0;m<g.length;m++)if(g[m]._isVisible(this)){p=!0;break}return p&&s!==void 0?u={x:s,y:o,width:a-s,height:c-o}:u={x:0,y:0,width:0,height:0},r?u:this._transformedRect(u,i)}}jl.Container=Ml;ku.Factory.addComponentsGetterSetter(Ml,"clip",["x","y","width","height"]);ku.Factory.addGetterSetter(Ml,"clipX",void 0,(0,fy.getNumberValidator)());ku.Factory.addGetterSetter(Ml,"clipY",void 0,(0,fy.getNumberValidator)());ku.Factory.addGetterSetter(Ml,"clipWidth",void 0,(0,fy.getNumberValidator)());ku.Factory.addGetterSetter(Ml,"clipHeight",void 0,(0,fy.getNumberValidator)());ku.Factory.addGetterSetter(Ml,"clipFunc");var T7={},Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.getCapturedShape=uue;Ca.createEvent=$_;Ca.hasPointerCapture=due;Ca.setPointerCapture=hue;Ca.releaseCapture=R7;const cue=$e,qh=new Map,k7=cue.Konva._global.PointerEvent!==void 0;function uue(t){return qh.get(t)}function $_(t){return{evt:t,pointerId:t.pointerId}}function due(t,e){return qh.get(t)===e}function hue(t,e){R7(t),e.getStage()&&(qh.set(t,e),k7&&e._fire("gotpointercapture",$_(new PointerEvent("gotpointercapture"))))}function R7(t,e){const n=qh.get(t);if(!n)return;const r=n.getStage();r&&r.content,qh.delete(t),k7&&n._fire("lostpointercapture",$_(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Gt,n=Ve,r=jl,i=$e,s=Fi,o=hy,a=$e,c=Ca,u="Stage",f="string",g="px",p="mouseout",m="mouseleave",y="mouseover",x="mouseenter",C="mousemove",b="mousedown",E="mouseup",S="pointermove",A="pointerdown",T="pointerup",k="pointercancel",I="lostpointercapture",D="pointerout",P="pointerleave",R="pointerover",O="pointerenter",z="contextmenu",ae="touchstart",Z="touchend",G="touchmove",$="touchcancel",le="wheel",X=5,pe=[[x,"_pointerenter"],[b,"_pointerdown"],[C,"_pointermove"],[E,"_pointerup"],[m,"_pointerleave"],[ae,"_pointerdown"],[G,"_pointermove"],[Z,"_pointerup"],[$,"_pointercancel"],[y,"_pointerover"],[le,"_wheel"],[z,"_contextmenu"],[A,"_pointerdown"],[S,"_pointermove"],[T,"_pointerup"],[k,"_pointercancel"],[I,"_lostpointercapture"]],te={mouse:{[D]:p,[P]:m,[R]:y,[O]:x,[S]:C,[A]:b,[T]:E,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[D]:"touchout",[P]:"touchleave",[R]:"touchover",[O]:"touchenter",[S]:G,[A]:ae,[T]:Z,[k]:$,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[D]:D,[P]:P,[R]:R,[O]:O,[S]:S,[A]:A,[T]:T,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ie=ce=>ce.indexOf("pointer")>=0?"pointer":ce.indexOf("touch")>=0?"touch":"mouse",ue=ce=>{const L=ie(ce);if(L==="pointer")return i.Konva.pointerEventsEnabled&&te.pointer;if(L==="touch")return te.touch;if(L==="mouse")return te.mouse};function Ce(ce={}){return(ce.clipFunc||ce.clipWidth||ce.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ce}const W="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class se extends r.Container{constructor(L){super(Ce(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Ce(this.attrs)}),this._checkVisibility()}_validateAdd(L){const ne=L.getType()==="Layer",me=L.getType()==="FastLayer";ne||me||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===f){if(L.charAt(0)==="."){const me=L.slice(1);L=document.getElementsByClassName(me)[0]}else{var ne;L.charAt(0)!=="#"?ne=L:ne=L.slice(1),L=document.getElementById(ne)}if(!L)throw"Can not find container in document with id "+ne}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let L=this.children,ne=L.length,me;for(me=0;me<ne;me++)L[me].clear();return this}clone(L){return L||(L={}),L.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,L)}destroy(){super.destroy();const L=this.content;L&&e.Util._isInDocument(L)&&this.container().removeChild(L);const ne=t.stages.indexOf(this);return ne>-1&&t.stages.splice(ne,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(e.Util.warn(W),null)}_getPointerById(L){return this._pointerPositions.find(ne=>ne.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();const ne=new s.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),me=ne.getContext()._context,Te=this.children;return(L.x||L.y)&&me.translate(-1*L.x,-1*L.y),Te.forEach(function(Ae){if(!Ae.isVisible())return;const et=Ae._toKonvaCanvas(L);me.drawImage(et._canvas,L.x,L.y,et.getWidth()/et.getPixelRatio(),et.getHeight()/et.getPixelRatio())}),ne}getIntersection(L){if(!L)return null;let ne=this.children,me=ne.length,Te=me-1,Ae;for(Ae=Te;Ae>=0;Ae--){const et=ne[Ae].getIntersection(L);if(et)return et}return null}_resizeDOM(){const L=this.width(),ne=this.height();this.content&&(this.content.style.width=L+g,this.content.style.height=ne+g),this.bufferCanvas.setSize(L,ne),this.bufferHitCanvas.setSize(L,ne),this.children.forEach(me=>{me.setSize({width:L,height:ne}),me.draw()})}add(L,...ne){if(arguments.length>1){for(let Te=0;Te<arguments.length;Te++)this.add(arguments[Te]);return this}super.add(L);const me=this.children.length;return me>X&&e.Util.warn("The stage has "+me+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),i.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return c.hasPointerCapture(L,this)}setPointerCapture(L){c.setPointerCapture(L,this)}releaseCapture(L){c.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&pe.forEach(([L,ne])=>{this.content.addEventListener(L,me=>{this[ne](me)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const ne=ue(L.type);ne&&this._fire(ne.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const ne=ue(L.type);ne&&this._fire(ne.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let ne=this[L+"targetShape"];return ne&&!ne.getStage()&&(ne=null),ne}_pointerleave(L){const ne=ue(L.type),me=ie(L.type);if(!ne)return;this.setPointersPositions(L);const Te=this._getTargetShape(me),Ae=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;Te&&Ae?(Te._fireAndBubble(ne.pointerout,{evt:L}),Te._fireAndBubble(ne.pointerleave,{evt:L}),this._fire(ne.pointerleave,{evt:L,target:this,currentTarget:this}),this[me+"targetShape"]=null):Ae&&(this._fire(ne.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(ne.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(L){const ne=ue(L.type),me=ie(L.type);if(!ne)return;this.setPointersPositions(L);let Te=!1;this._changedPointerPositions.forEach(Ae=>{const et=this.getIntersection(Ae);if(o.DD.justDragged=!1,i.Konva["_"+me+"ListenClick"]=!0,!et||!et.isListening()){this[me+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&et.setPointerCapture(Ae.id),this[me+"ClickStartShape"]=et,et._fireAndBubble(ne.pointerdown,{evt:L,pointerId:Ae.id}),Te=!0;const Je=L.type.indexOf("touch")>=0;et.preventDefault()&&L.cancelable&&Je&&L.preventDefault()}),Te||this._fire(ne.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(L){const ne=ue(L.type),me=ie(L.type);if(!ne||(i.Konva.isDragging()&&o.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const Ae={};let et=!1;const Je=this._getTargetShape(me);this._changedPointerPositions.forEach(Rt=>{const tt=c.getCapturedShape(Rt.id)||this.getIntersection(Rt),Qn=Rt.id,gn={evt:L,pointerId:Qn},Nr=Je!==tt;if(Nr&&Je&&(Je._fireAndBubble(ne.pointerout,{...gn},tt),Je._fireAndBubble(ne.pointerleave,{...gn},tt)),tt){if(Ae[tt._id])return;Ae[tt._id]=!0}tt&&tt.isListening()?(et=!0,Nr&&(tt._fireAndBubble(ne.pointerover,{...gn},Je),tt._fireAndBubble(ne.pointerenter,{...gn},Je),this[me+"targetShape"]=tt),tt._fireAndBubble(ne.pointermove,{...gn})):Je&&(this._fire(ne.pointerover,{evt:L,target:this,currentTarget:this,pointerId:Qn}),this[me+"targetShape"]=null)}),et||this._fire(ne.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const ne=ue(L.type),me=ie(L.type);if(!ne)return;this.setPointersPositions(L);const Te=this[me+"ClickStartShape"],Ae=this[me+"ClickEndShape"],et={};let Je=!1;this._changedPointerPositions.forEach(Rt=>{const tt=c.getCapturedShape(Rt.id)||this.getIntersection(Rt);if(tt){if(tt.releaseCapture(Rt.id),et[tt._id])return;et[tt._id]=!0}const Qn=Rt.id,gn={evt:L,pointerId:Qn};let Nr=!1;i.Konva["_"+me+"InDblClickWindow"]?(Nr=!0,clearTimeout(this[me+"DblTimeout"])):o.DD.justDragged||(i.Konva["_"+me+"InDblClickWindow"]=!0,clearTimeout(this[me+"DblTimeout"])),this[me+"DblTimeout"]=setTimeout(function(){i.Konva["_"+me+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),tt&&tt.isListening()?(Je=!0,this[me+"ClickEndShape"]=tt,tt._fireAndBubble(ne.pointerup,{...gn}),i.Konva["_"+me+"ListenClick"]&&Te&&Te===tt&&(tt._fireAndBubble(ne.pointerclick,{...gn}),Nr&&Ae&&Ae===tt&&tt._fireAndBubble(ne.pointerdblclick,{...gn}))):(this[me+"ClickEndShape"]=null,i.Konva["_"+me+"ListenClick"]&&this._fire(ne.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:Qn}),Nr&&this._fire(ne.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:Qn}))}),Je||this._fire(ne.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+me+"ListenClick"]=!1,L.cancelable&&me!=="touch"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);const ne=this.getIntersection(this.getPointerPosition());ne&&ne.isListening()?ne._fireAndBubble(z,{evt:L}):this._fire(z,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);const ne=this.getIntersection(this.getPointerPosition());ne&&ne.isListening()?ne._fireAndBubble(le,{evt:L}):this._fire(le,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const ne=c.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());ne&&ne._fireAndBubble(T,c.createEvent(L)),c.releaseCapture(L.pointerId)}_lostpointercapture(L){c.releaseCapture(L.pointerId)}setPointersPositions(L){let ne=this._getContentPosition(),me=null,Te=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,Ae=>{this._pointerPositions.push({id:Ae.identifier,x:(Ae.clientX-ne.left)/ne.scaleX,y:(Ae.clientY-ne.top)/ne.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,Ae=>{this._changedPointerPositions.push({id:Ae.identifier,x:(Ae.clientX-ne.left)/ne.scaleX,y:(Ae.clientY-ne.top)/ne.scaleY})})):(me=(L.clientX-ne.left)/ne.scaleX,Te=(L.clientY-ne.top)/ne.scaleY,this.pointerPos={x:me,y:Te},this._pointerPositions=[{x:me,y:Te,id:e.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:me,y:Te,id:e.Util._getFirstPointerId(L)}])}_setPointerPosition(L){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}t.Stage=se,se.prototype.nodeType=u,(0,a._registerNode)(se),n.Factory.addGetterSetter(se,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(ce=>{ce.batchDraw()})})})(T7);var Rf={},hn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=$e,n=Gt,r=Ve,i=Ot,s=je,o=$e,a=Ca,c="hasShadow",u="shadowRGBA",f="patternImage",g="linearGradient",p="radialGradient";let m;function y(){return m||(m=n.Util.createCanvasElement().getContext("2d"),m)}t.shapes={};function x(P){const R=this.attrs.fillRule;R?P.fill(R):P.fill()}function C(P){P.stroke()}function b(P){const R=this.attrs.fillRule;R?P.fill(R):P.fill()}function E(P){P.stroke()}function S(){this._clearCache(c)}function A(){this._clearCache(u)}function T(){this._clearCache(f)}function k(){this._clearCache(g)}function I(){this._clearCache(p)}class D extends i.Node{constructor(R){super(R);let O;for(;O=n.Util.getRandomColor(),!(O&&!(O in t.shapes)););this.colorKey=O,t.shapes[O]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(c,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const O=y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(O&&O.setTransform){const z=new n.Transform;z.translate(this.fillPatternX(),this.fillPatternY()),z.rotate(e.Konva.getAngle(this.fillPatternRotation())),z.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),z.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const ae=z.getMatrix(),Z=typeof DOMMatrix>"u"?{a:ae[0],b:ae[1],c:ae[2],d:ae[3],e:ae[4],f:ae[5]}:new DOMMatrix(ae);O.setTransform(Z)}return O}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){const R=this.fillLinearGradientColorStops();if(R){const O=y(),z=this.fillLinearGradientStartPoint(),ae=this.fillLinearGradientEndPoint(),Z=O.createLinearGradient(z.x,z.y,ae.x,ae.y);for(let G=0;G<R.length;G+=2)Z.addColorStop(R[G],R[G+1]);return Z}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const R=this.fillRadialGradientColorStops();if(R){const O=y(),z=this.fillRadialGradientStartPoint(),ae=this.fillRadialGradientEndPoint(),Z=O.createRadialGradient(z.x,z.y,this.fillRadialGradientStartRadius(),ae.x,ae.y,this.fillRadialGradientEndRadius());for(let G=0;G<R.length;G+=2)Z.addColorStop(R[G],R[G+1]);return Z}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const R=n.Util.colorToRGBA(this.shadowColor());if(R)return"rgba("+R.r+","+R.g+","+R.b+","+R.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const R=this.hitStrokeWidth();return R==="auto"?this.hasStroke():this.strokeEnabled()&&!!R}intersects(R){const O=this.getStage();if(!O)return!1;const z=O.bufferHitCanvas;return z.getContext().clear(),this.drawHit(z,void 0,!0),z.context.getImageData(Math.round(R.x),Math.round(R.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(R){var O;if(!((O=this.attrs.perfectDrawEnabled)!==null&&O!==void 0?O:!0))return!1;const ae=R||this.hasFill(),Z=this.hasStroke(),G=this.getAbsoluteOpacity()!==1;if(ae&&Z&&G)return!0;const $=this.hasShadow(),le=this.shadowForStrokeEnabled();return!!(ae&&Z&&$&&le)}setStrokeHitEnabled(R){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),R?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const R=this.size();return{x:this._centroid?-R.width/2:0,y:this._centroid?-R.height/2:0,width:R.width,height:R.height}}getClientRect(R={}){let O=!1,z=this.getParent();for(;z;){if(z.isCached()){O=!0;break}z=z.getParent()}const ae=R.skipTransform,Z=R.relativeTo||O&&this.getStage()||void 0,G=this.getSelfRect(),le=!R.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,X=G.width+le,pe=G.height+le,te=!R.skipShadow&&this.hasShadow(),ie=te?this.shadowOffsetX():0,ue=te?this.shadowOffsetY():0,Ce=X+Math.abs(ie),W=pe+Math.abs(ue),se=te&&this.shadowBlur()||0,ce=Ce+se*2,L=W+se*2,ne={width:ce,height:L,x:-(le/2+se)+Math.min(ie,0)+G.x,y:-(le/2+se)+Math.min(ue,0)+G.y};return ae?ne:this._transformedRect(ne,Z)}drawScene(R,O,z){const ae=this.getLayer();let Z=R||ae.getCanvas(),G=Z.getContext(),$=this._getCanvasCache(),le=this.getSceneFunc(),X=this.hasShadow(),pe,te;const ie=Z.isCache,ue=O===this;if(!this.isVisible()&&!ue)return this;if($){G.save();const W=this.getAbsoluteTransform(O).getMatrix();return G.transform(W[0],W[1],W[2],W[3],W[4],W[5]),this._drawCachedSceneCanvas(G),G.restore(),this}if(!le)return this;if(G.save(),this._useBufferCanvas()&&!ie){pe=this.getStage();const W=z||pe.bufferCanvas;te=W.getContext(),te.clear(),te.save(),te._applyLineJoin(this);var Ce=this.getAbsoluteTransform(O).getMatrix();te.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5]),le.call(this,te,this),te.restore();const se=W.pixelRatio;X&&G._applyShadow(this),G._applyOpacity(this),G._applyGlobalCompositeOperation(this),G.drawImage(W._canvas,0,0,W.width/se,W.height/se)}else{if(G._applyLineJoin(this),!ue){var Ce=this.getAbsoluteTransform(O).getMatrix();G.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5]),G._applyOpacity(this),G._applyGlobalCompositeOperation(this)}X&&G._applyShadow(this),le.call(this,G,this)}return G.restore(),this}drawHit(R,O,z=!1){if(!this.shouldDrawHit(O,z))return this;const ae=this.getLayer(),Z=R||ae.hitCanvas,G=Z&&Z.getContext(),$=this.hitFunc()||this.sceneFunc(),le=this._getCanvasCache(),X=le&&le.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),X){G.save();const te=this.getAbsoluteTransform(O).getMatrix();return G.transform(te[0],te[1],te[2],te[3],te[4],te[5]),this._drawCachedHitCanvas(G),G.restore(),this}if(!$)return this;if(G.save(),G._applyLineJoin(this),!(this===O)){const te=this.getAbsoluteTransform(O).getMatrix();G.transform(te[0],te[1],te[2],te[3],te[4],te[5])}return $.call(this,G,this),G.restore(),this}drawHitFromCache(R=0){let O=this._getCanvasCache(),z=this._getCachedSceneCanvas(),ae=O.hit,Z=ae.getContext(),G=ae.getWidth(),$=ae.getHeight(),le,X,pe,te,ie,ue;Z.clear(),Z.drawImage(z._canvas,0,0,G,$);try{for(le=Z.getImageData(0,0,G,$),X=le.data,pe=X.length,te=n.Util._hexToRgb(this.colorKey),ie=0;ie<pe;ie+=4)ue=X[ie+3],ue>R?(X[ie]=te.r,X[ie+1]=te.g,X[ie+2]=te.b,X[ie+3]=255):X[ie+3]=0;Z.putImageData(le,0,0)}catch(Ce){n.Util.error("Unable to draw hit graph from cached scene canvas. "+Ce.message)}return this}hasPointerCapture(R){return a.hasPointerCapture(R,this)}setPointerCapture(R){a.setPointerCapture(R,this)}releaseCapture(R){a.releaseCapture(R,this)}}t.Shape=D,D.prototype._fillFunc=x,D.prototype._strokeFunc=C,D.prototype._fillFuncHit=b,D.prototype._strokeFuncHit=E,D.prototype._centroid=!1,D.prototype.nodeType="Shape",(0,o._registerNode)(D),D.prototype.eventListeners={},D.prototype.on.call(D.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",S),D.prototype.on.call(D.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",A),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",T),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),D.prototype.on.call(D.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",I),r.Factory.addGetterSetter(D,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(D,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(D,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(D,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(D,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(D,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(D,"lineJoin"),r.Factory.addGetterSetter(D,"lineCap"),r.Factory.addGetterSetter(D,"sceneFunc"),r.Factory.addGetterSetter(D,"hitFunc"),r.Factory.addGetterSetter(D,"dash"),r.Factory.addGetterSetter(D,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(D,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(D,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(D,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"fillPatternImage"),r.Factory.addGetterSetter(D,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(D,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(D,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(D,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(D,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(D,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(D,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(D,"fillEnabled",!0),r.Factory.addGetterSetter(D,"strokeEnabled",!0),r.Factory.addGetterSetter(D,"shadowEnabled",!0),r.Factory.addGetterSetter(D,"dashEnabled",!0),r.Factory.addGetterSetter(D,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(D,"fillPriority","color"),r.Factory.addComponentsGetterSetter(D,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(D,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(D,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(D,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(D,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(D,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(D,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(D,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(D,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(D,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(D,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(D,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(D,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(D,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(D,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(D,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(D,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(D,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(D,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(D,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(D,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(D,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(D,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(D,"fillPatternRotation",0),r.Factory.addGetterSetter(D,"fillRule",void 0,(0,s.getStringValidator)()),r.Factory.backCompat(D,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(hn);Object.defineProperty(Rf,"__esModule",{value:!0});Rf.Layer=void 0;const Ds=Gt,z1=jl,ac=Ot,V_=Ve,FI=Fi,fue=je,gue=hn,pue=$e,mue="#",vue="beforeDraw",yue="draw",I7=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],xue=I7.length;let Ru=class extends z1.Container{constructor(e){super(e),this.canvas=new FI.SceneCanvas,this.hitCanvas=new FI.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){ac.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!ac.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(ac.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(ac.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return ac.Node.prototype.remove.call(this),e&&e.parentNode&&Ds.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Ds.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),ac.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Ds.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Ds.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Ds.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<xue;i++){const s=I7[i],o=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=Ds.Util._rgbToHex(r[0],r[1],r[2]),o=gue.shapes[mue+s];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n){const r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire(vue,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),z1.Container.prototype.drawScene.call(this,i,n),this._fire(yue,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),z1.Container.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Ds.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Ds.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Ds.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Rf.Layer=Ru;Ru.prototype.nodeType="Layer";(0,pue._registerNode)(Ru);V_.Factory.addGetterSetter(Ru,"imageSmoothingEnabled",!0);V_.Factory.addGetterSetter(Ru,"clearBeforeDraw",!0);V_.Factory.addGetterSetter(Ru,"hitGraphEnabled",!0,(0,fue.getBooleanValidator)());var gy={};Object.defineProperty(gy,"__esModule",{value:!0});gy.FastLayer=void 0;const bue=Gt,wue=Rf,Sue=$e;class W_ extends wue.Layer{constructor(e){super(e),this.listening(!1),bue.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}gy.FastLayer=W_;W_.prototype.nodeType="FastLayer";(0,Sue._registerNode)(W_);var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.Group=void 0;const Cue=Gt,Eue=jl,_ue=$e;let q_=class extends Eue.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Cue.Util.throw("You may only add groups and shapes to groups.")}};Iu.Group=q_;q_.prototype.nodeType="Group";(0,_ue._registerNode)(q_);var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.Animation=void 0;const G1=$e,UI=Gt,$1=function(){return G1.glob.performance&&G1.glob.performance.now?function(){return G1.glob.performance.now()}:function(){return new Date().getTime()}}();class fs{constructor(e,n){this.id=fs.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:$1(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=fs.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=$1(),fs._addAnimation(this),this}stop(){return fs._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,o=i.func;i._updateFrameObject($1());const a=s.length;let c;if(o?c=o.call(i,i.frame)!==!1:c=!0,!!c)for(let u=0;u<a;u++){const f=s[u];f._id!==void 0&&(e[f._id]=f)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=fs;e.animations.length?(e._runFrames(),UI.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,UI.Util.requestAnimFrame(this._animationLoop))}}Du.Animation=fs;fs.animations=[];fs.animIdCounter=0;fs.animRunning=!1;var D7={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Gt,n=Du,r=Ot,i=$e;let s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,c=3,u=0,f=["fill","stroke","shadowColor"];class g{constructor(y,x,C,b,E,S,A){this.prop=y,this.propFunc=x,this.begin=b,this._pos=b,this.duration=S,this._change=0,this.prevPos=0,this.yoyo=A,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=E-this.begin,this.pause()}fire(y){const x=this[y];x&&x()}setTime(y){y>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():y<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=y,this.update())}getTime(){return this._time}setPosition(y){this.prevPos=this._pos,this.propFunc(y),this._pos=y}getPosition(y){return y===void 0&&(y=this._time),this.func(y,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=c,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(y){this.pause(),this._time=y,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const y=this.getTimer()-this._startTime;this.state===a?this.setTime(y):this.state===c&&this.setTime(this.duration-y)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(y){let x=this,C=y.node,b=C._id,E,S=y.easing||t.Easings.Linear,A=!!y.yoyo,T;typeof y.duration>"u"?E=.3:y.duration===0?E=.001:E=y.duration,this.node=C,this._id=u++;const k=C.getLayer()||(C instanceof i.Konva.Stage?C.getLayers():null);k||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){x.tween.onEnterFrame()},k),this.tween=new g(T,function(I){x._tweenFunc(I)},S,0,1,E*1e3,A),this._addListeners(),p.attrs[b]||(p.attrs[b]={}),p.attrs[b][this._id]||(p.attrs[b][this._id]={}),p.tweens[b]||(p.tweens[b]={});for(T in y)s[T]===void 0&&this._addAttr(T,y[T]);this.reset(),this.onFinish=y.onFinish,this.onReset=y.onReset,this.onUpdate=y.onUpdate}_addAttr(y,x){let C=this.node,b=C._id,E,S,A,T,k,I,D,P;if(A=p.tweens[b][y],A&&delete p.attrs[b][A][y],E=C.getAttr(y),e.Util._isArray(x))if(S=[],k=Math.max(x.length,E.length),y==="points"&&x.length!==E.length&&(x.length>E.length?(D=E,E=e.Util._prepareArrayForTween(E,x,C.closed())):(I=x,x=e.Util._prepareArrayForTween(x,E,C.closed()))),y.indexOf("fill")===0)for(T=0;T<k;T++)if(T%2===0)S.push(x[T]-E[T]);else{const R=e.Util.colorToRGBA(E[T]);P=e.Util.colorToRGBA(x[T]),E[T]=R,S.push({r:P.r-R.r,g:P.g-R.g,b:P.b-R.b,a:P.a-R.a})}else for(T=0;T<k;T++)S.push(x[T]-E[T]);else f.indexOf(y)!==-1?(E=e.Util.colorToRGBA(E),P=e.Util.colorToRGBA(x),S={r:P.r-E.r,g:P.g-E.g,b:P.b-E.b,a:P.a-E.a}):S=x-E;p.attrs[b][this._id][y]={start:E,diff:S,end:x,trueEnd:I,trueStart:D},p.tweens[b][y]=this._id}_tweenFunc(y){let x=this.node,C=p.attrs[x._id][this._id],b,E,S,A,T,k,I,D;for(b in C){if(E=C[b],S=E.start,A=E.diff,D=E.end,e.Util._isArray(S))if(T=[],I=Math.max(S.length,D.length),b.indexOf("fill")===0)for(k=0;k<I;k++)k%2===0?T.push((S[k]||0)+A[k]*y):T.push("rgba("+Math.round(S[k].r+A[k].r*y)+","+Math.round(S[k].g+A[k].g*y)+","+Math.round(S[k].b+A[k].b*y)+","+(S[k].a+A[k].a*y)+")");else for(k=0;k<I;k++)T.push((S[k]||0)+A[k]*y);else f.indexOf(b)!==-1?T="rgba("+Math.round(S.r+A.r*y)+","+Math.round(S.g+A.g*y)+","+Math.round(S.b+A.b*y)+","+(S.a+A.a*y)+")":T=S+A*y;x.setAttr(b,T)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const y=this.node,x=p.attrs[y._id][this._id];x.points&&x.points.trueEnd&&y.setAttr("points",x.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const y=this.node,x=p.attrs[y._id][this._id];x.points&&x.points.trueStart&&y.points(x.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(y){return this.tween.seek(y*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let y=this.node._id,x=this._id,C=p.tweens[y],b;this.pause();for(b in C)delete p.tweens[y][b];delete p.attrs[y][x]}}t.Tween=p,p.attrs={},p.tweens={},r.Node.prototype.to=function(m){const y=m.onFinish;m.node=this,m.onFinish=function(){this.destroy(),y&&y()},new p(m).play()},t.Easings={BackEaseIn(m,y,x,C){return x*(m/=C)*m*((1.70158+1)*m-1.70158)+y},BackEaseOut(m,y,x,C){return x*((m=m/C-1)*m*((1.70158+1)*m+1.70158)+1)+y},BackEaseInOut(m,y,x,C){let b=1.70158;return(m/=C/2)<1?x/2*(m*m*(((b*=1.525)+1)*m-b))+y:x/2*((m-=2)*m*(((b*=1.525)+1)*m+b)+2)+y},ElasticEaseIn(m,y,x,C,b,E){let S=0;return m===0?y:(m/=C)===1?y+x:(E||(E=C*.3),!b||b<Math.abs(x)?(b=x,S=E/4):S=E/(2*Math.PI)*Math.asin(x/b),-(b*Math.pow(2,10*(m-=1))*Math.sin((m*C-S)*(2*Math.PI)/E))+y)},ElasticEaseOut(m,y,x,C,b,E){let S=0;return m===0?y:(m/=C)===1?y+x:(E||(E=C*.3),!b||b<Math.abs(x)?(b=x,S=E/4):S=E/(2*Math.PI)*Math.asin(x/b),b*Math.pow(2,-10*m)*Math.sin((m*C-S)*(2*Math.PI)/E)+x+y)},ElasticEaseInOut(m,y,x,C,b,E){let S=0;return m===0?y:(m/=C/2)===2?y+x:(E||(E=C*(.3*1.5)),!b||b<Math.abs(x)?(b=x,S=E/4):S=E/(2*Math.PI)*Math.asin(x/b),m<1?-.5*(b*Math.pow(2,10*(m-=1))*Math.sin((m*C-S)*(2*Math.PI)/E))+y:b*Math.pow(2,-10*(m-=1))*Math.sin((m*C-S)*(2*Math.PI)/E)*.5+x+y)},BounceEaseOut(m,y,x,C){return(m/=C)<1/2.75?x*(7.5625*m*m)+y:m<2/2.75?x*(7.5625*(m-=1.5/2.75)*m+.75)+y:m<2.5/2.75?x*(7.5625*(m-=2.25/2.75)*m+.9375)+y:x*(7.5625*(m-=2.625/2.75)*m+.984375)+y},BounceEaseIn(m,y,x,C){return x-t.Easings.BounceEaseOut(C-m,0,x,C)+y},BounceEaseInOut(m,y,x,C){return m<C/2?t.Easings.BounceEaseIn(m*2,0,x,C)*.5+y:t.Easings.BounceEaseOut(m*2-C,0,x,C)*.5+x*.5+y},EaseIn(m,y,x,C){return x*(m/=C)*m+y},EaseOut(m,y,x,C){return-x*(m/=C)*(m-2)+y},EaseInOut(m,y,x,C){return(m/=C/2)<1?x/2*m*m+y:-x/2*(--m*(m-2)-1)+y},StrongEaseIn(m,y,x,C){return x*(m/=C)*m*m*m*m+y},StrongEaseOut(m,y,x,C){return x*((m=m/C-1)*m*m*m*m+1)+y},StrongEaseInOut(m,y,x,C){return(m/=C/2)<1?x/2*m*m*m*m*m+y:x/2*((m-=2)*m*m*m*m+2)+y},Linear(m,y,x,C){return x*m/C+y}}})(D7);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=$e,n=Gt,r=Ot,i=jl,s=T7,o=Rf,a=gy,c=Iu,u=hy,f=hn,g=Du,p=D7,m=Ws,y=Fi;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:c.Group,DD:u.DD,Shape:f.Shape,shapes:f.shapes,Animation:g.Animation,Tween:p.Tween,Easings:p.Easings,Context:m.Context,Canvas:y.Canvas}),t.default=t.Konva})(D0);var py={};Object.defineProperty(py,"__esModule",{value:!0});py.Arc=void 0;const my=Ve,Aue=hn,BI=$e,vy=je,Nue=$e;class ao extends Aue.Shape{_sceneFunc(e){const n=BI.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=BI.Konva.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),c=Math.sin(Math.min(i,Math.PI/2)),u=s*(s>0?e:n),f=o*n,g=a*(a>0?e:n),p=c*(c>0?n:e);return{x:u,y:r?-1*p:g,width:f-u,height:p-g}}}py.Arc=ao;ao.prototype._centroid=!0;ao.prototype.className="Arc";ao.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Nue._registerNode)(ao);my.Factory.addGetterSetter(ao,"innerRadius",0,(0,vy.getNumberValidator)());my.Factory.addGetterSetter(ao,"outerRadius",0,(0,vy.getNumberValidator)());my.Factory.addGetterSetter(ao,"angle",0,(0,vy.getNumberValidator)());my.Factory.addGetterSetter(ao,"clockwise",!1,(0,vy.getBooleanValidator)());var yy={},If={};Object.defineProperty(If,"__esModule",{value:!0});If.Line=void 0;const xy=Ve,Tue=$e,kue=hn,P7=je;function rC(t,e,n,r,i,s,o){const a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),c=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),u=o*a/(a+c),f=o*c/(a+c),g=n-u*(i-t),p=r-u*(s-e),m=n+f*(i-t),y=r+f*(s-e);return[g,p,m,y]}function HI(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=rC(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}class Ea extends kue.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let n=this.points(),r=n.length,i=this.tension(),s=this.closed(),o=this.bezier(),a,c,u;if(r){if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){for(a=this.getTensionPoints(),c=a.length,u=s?0:4,s||e.quadraticCurveTo(a[0],a[1],a[2],a[3]);u<c-2;)e.bezierCurveTo(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++]);s||e.quadraticCurveTo(a[c-2],a[c-1],n[r-2],n[r-1])}else if(o)for(u=2;u<r;)e.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)e.lineTo(n[u],n[u+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():HI(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=rC(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=rC(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=HI(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let c=0;c<e.length/2;c++)o=e[c*2],a=e[c*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);return{x:n,y:i,width:r-n,height:s-i}}}If.Line=Ea;Ea.prototype.className="Line";Ea.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Tue._registerNode)(Ea);xy.Factory.addGetterSetter(Ea,"closed",!1);xy.Factory.addGetterSetter(Ea,"bezier",!1);xy.Factory.addGetterSetter(Ea,"tension",0,(0,P7.getNumberValidator)());xy.Factory.addGetterSetter(Ea,"points",[],(0,P7.getNumberArrayValidator)());var Pu={},j7={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,a,c)=>{let u,f;const p=c/2;u=0;for(let m=0;m<20;m++)f=p*t.tValues[20][m]+p,u+=t.cValues[20][m]*r(o,a,f);return p*u};t.getCubicArcLength=e;const n=(o,a,c)=>{c===void 0&&(c=1);const u=o[0]-2*o[1]+o[2],f=a[0]-2*a[1]+a[2],g=2*o[1]-2*o[0],p=2*a[1]-2*a[0],m=4*(u*u+f*f),y=4*(u*g+f*p),x=g*g+p*p;if(m===0)return c*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const C=y/(2*m),b=x/m,E=c+C,S=b-C*C,A=E*E+S>0?Math.sqrt(E*E+S):0,T=C*C+S>0?Math.sqrt(C*C+S):0,k=C+Math.sqrt(C*C+S)!==0?S*Math.log(Math.abs((E+A)/(C+T))):0;return Math.sqrt(m)/2*(E*A-C*T+k)};t.getQuadraticArcLength=n;function r(o,a,c){const u=i(1,c,o),f=i(1,c,a),g=u*u+f*f;return Math.sqrt(g)}const i=(o,a,c)=>{const u=c.length-1;let f,g;if(u===0)return 0;if(o===0){g=0;for(let p=0;p<=u;p++)g+=t.binomialCoefficients[u][p]*Math.pow(1-a,u-p)*Math.pow(a,p)*c[p];return g}else{f=new Array(u);for(let p=0;p<u;p++)f[p]=u*(c[p+1]-c[p]);return i(o-1,a,f)}},s=(o,a,c)=>{let u=1,f=o/a,g=(o-c(f))/a,p=0;for(;u>.001;){const m=c(f+g),y=Math.abs(o-m)/a;if(y<u)u=y,f+=g;else{const x=c(f-g),C=Math.abs(o-x)/a;C<u?(u=C,f-=g):g/=2}if(p++,p>500)break}return f};t.t2length=s})(j7);Object.defineProperty(Pu,"__esModule",{value:!0});Pu.Path=void 0;const Rue=Ve,Iue=hn,Due=$e,lc=j7;class on extends Iue.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=on.parsePathData(this.data()),this.pathLength=on.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let x=0;x<n.length;x++){const C=n[x].command,b=n[x].points;switch(C){case"L":e.lineTo(b[0],b[1]);break;case"M":e.moveTo(b[0],b[1]);break;case"C":e.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case"Q":e.quadraticCurveTo(b[0],b[1],b[2],b[3]);break;case"A":var i=b[0],s=b[1],o=b[2],a=b[3],c=b[4],u=b[5],f=b[6],g=b[7],p=o>a?o:a,m=o>a?1:o/a,y=o>a?a/o:1;e.translate(i,s),e.rotate(f),e.scale(m,y),e.arc(0,0,p,c,c+u,1-g),e.scale(1/m,1/y),e.rotate(-f),e.translate(-i,-s);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(c){if(c.command==="A"){const u=c.points[4],f=c.points[5],g=c.points[4]+f;let p=Math.PI/180;if(Math.abs(u-g)<p&&(p=Math.abs(u-g)),f<0)for(let m=u-p;m>g;m-=p){const y=on.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);e.push(y.x,y.y)}else for(let m=u+p;m<g;m+=p){const y=on.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);e.push(y.x,y.y)}}else if(c.command==="C")for(let u=0;u<=1;u+=.01){const f=on.getPointOnCubicBezier(u,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(f.x,f.y)}else e=e.concat(c.points)});let n=e[0],r=e[0],i=e[1],s=e[1],o,a;for(let c=0;c<e.length/2;c++)o=e[c*2],a=e[c*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(i=Math.min(i,a),s=Math.max(s,a));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return on.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return r=n[i].points.slice(0,2),{x:r[0],y:r[1]};const o=n[i],a=o.points;switch(o.command){case"L":return on.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return on.getPointOnCubicBezier((0,lc.t2length)(e,on.getPathLength(n),x=>(0,lc.getCubicArcLength)([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],x)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return on.getPointOnQuadraticBezier((0,lc.t2length)(e,on.getPathLength(n),x=>(0,lc.getQuadraticArcLength)([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],x)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var c=a[0],u=a[1],f=a[2],g=a[3],p=a[4],m=a[5],y=a[6];return p+=m*e/o.pathLength,on.getPointOnEllipticalArc(c,u,f,g,p,y)}return null}static getPointOnLine(e,n,r,i,s,o,a){o=o??n,a=a??r;const c=this.getLineLength(n,r,i,s);if(c<1e-10)return{x:n,y:r};if(i===n)return{x:o,y:a+(s>r?e:-e)};const u=(s-r)/(i-n),f=Math.sqrt(e*e/(1+u*u))*(i<n?-1:1),g=u*f;if(Math.abs(a-r-u*(o-n))<1e-10)return{x:o+f,y:a+g};const p=((o-n)*(i-n)+(a-r)*(s-r))/(c*c),m=n+p*(i-n),y=r+p*(s-r),x=this.getLineLength(o,a,m,y),C=Math.sqrt(e*e-x*x),b=Math.sqrt(C*C/(1+u*u))*(i<n?-1:1),E=u*b;return{x:m+b,y:y+E}}static getPointOnCubicBezier(e,n,r,i,s,o,a,c,u){function f(C){return C*C*C}function g(C){return 3*C*C*(1-C)}function p(C){return 3*C*(1-C)*(1-C)}function m(C){return(1-C)*(1-C)*(1-C)}const y=c*f(e)+o*g(e)+i*p(e)+n*m(e),x=u*f(e)+a*g(e)+s*p(e)+r*m(e);return{x:y,y:x}}static getPointOnQuadraticBezier(e,n,r,i,s,o,a){function c(m){return m*m}function u(m){return 2*m*(1-m)}function f(m){return(1-m)*(1-m)}const g=o*c(e)+i*u(e)+n*f(e),p=a*c(e)+s*u(e)+r*f(e);return{x:g,y:p}}static getPointOnEllipticalArc(e,n,r,i,s,o){const a=Math.cos(o),c=Math.sin(o),u={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(u.x*a-u.y*c),y:n+(u.x*c+u.y*a)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);const s=n.split("|"),o=[],a=[];let c=0,u=0;const f=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let g;for(i=1;i<s.length;i++){let D=s[i],P=D.charAt(0);for(D=D.slice(1),a.length=0;g=f.exec(D);)a.push(g[0]);const R=[];for(let O=0,z=a.length;O<z;O++){if(a[O]==="00"){R.push(0,0);continue}const ae=parseFloat(a[O]);isNaN(ae)?R.push(0):R.push(ae)}for(;R.length>0&&!isNaN(R[0]);){let O="",z=[];const ae=c,Z=u;var p,m,y,x,C,b,E,S,A,T;switch(P){case"l":c+=R.shift(),u+=R.shift(),O="L",z.push(c,u);break;case"L":c=R.shift(),u=R.shift(),z.push(c,u);break;case"m":var k=R.shift(),I=R.shift();if(c+=k,u+=I,O="M",o.length>2&&o[o.length-1].command==="z"){for(let G=o.length-2;G>=0;G--)if(o[G].command==="M"){c=o[G].points[0]+k,u=o[G].points[1]+I;break}}z.push(c,u),P="l";break;case"M":c=R.shift(),u=R.shift(),O="M",z.push(c,u),P="L";break;case"h":c+=R.shift(),O="L",z.push(c,u);break;case"H":c=R.shift(),O="L",z.push(c,u);break;case"v":u+=R.shift(),O="L",z.push(c,u);break;case"V":u=R.shift(),O="L",z.push(c,u);break;case"C":z.push(R.shift(),R.shift(),R.shift(),R.shift()),c=R.shift(),u=R.shift(),z.push(c,u);break;case"c":z.push(c+R.shift(),u+R.shift(),c+R.shift(),u+R.shift()),c+=R.shift(),u+=R.shift(),O="C",z.push(c,u);break;case"S":m=c,y=u,p=o[o.length-1],p.command==="C"&&(m=c+(c-p.points[2]),y=u+(u-p.points[3])),z.push(m,y,R.shift(),R.shift()),c=R.shift(),u=R.shift(),O="C",z.push(c,u);break;case"s":m=c,y=u,p=o[o.length-1],p.command==="C"&&(m=c+(c-p.points[2]),y=u+(u-p.points[3])),z.push(m,y,c+R.shift(),u+R.shift()),c+=R.shift(),u+=R.shift(),O="C",z.push(c,u);break;case"Q":z.push(R.shift(),R.shift()),c=R.shift(),u=R.shift(),z.push(c,u);break;case"q":z.push(c+R.shift(),u+R.shift()),c+=R.shift(),u+=R.shift(),O="Q",z.push(c,u);break;case"T":m=c,y=u,p=o[o.length-1],p.command==="Q"&&(m=c+(c-p.points[0]),y=u+(u-p.points[1])),c=R.shift(),u=R.shift(),O="Q",z.push(m,y,c,u);break;case"t":m=c,y=u,p=o[o.length-1],p.command==="Q"&&(m=c+(c-p.points[0]),y=u+(u-p.points[1])),c+=R.shift(),u+=R.shift(),O="Q",z.push(m,y,c,u);break;case"A":x=R.shift(),C=R.shift(),b=R.shift(),E=R.shift(),S=R.shift(),A=c,T=u,c=R.shift(),u=R.shift(),O="A",z=this.convertEndpointToCenterParameterization(A,T,c,u,E,S,x,C,b);break;case"a":x=R.shift(),C=R.shift(),b=R.shift(),E=R.shift(),S=R.shift(),A=c,T=u,c+=R.shift(),u+=R.shift(),O="A",z=this.convertEndpointToCenterParameterization(A,T,c,u,E,S,x,C,b);break}o.push({command:O||P,points:z,start:{x:ae,y:Z},pathLength:this.calcLength(ae,Z,O||P,z)})}(P==="z"||P==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,n,r,i){let s,o,a,c;const u=on;switch(r){case"L":return u.getLineLength(e,n,i[0],i[1]);case"C":return(0,lc.getCubicArcLength)([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return(0,lc.getQuadraticArcLength)([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;var f=i[4],g=i[5],p=i[4]+g,m=Math.PI/180;if(Math.abs(f-p)<m&&(m=Math.abs(f-p)),o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),g<0)for(c=f-m;c>p;c-=m)a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),s+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(c=f+m;c<p;c+=m)a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),s+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),s+=u.getLineLength(o.x,o.y,a.x,a.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,o,a,c,u){const f=u*(Math.PI/180),g=Math.cos(f)*(e-r)/2+Math.sin(f)*(n-i)/2,p=-1*Math.sin(f)*(e-r)/2+Math.cos(f)*(n-i)/2,m=g*g/(a*a)+p*p/(c*c);m>1&&(a*=Math.sqrt(m),c*=Math.sqrt(m));let y=Math.sqrt((a*a*(c*c)-a*a*(p*p)-c*c*(g*g))/(a*a*(p*p)+c*c*(g*g)));s===o&&(y*=-1),isNaN(y)&&(y=0);const x=y*a*p/c,C=y*-c*g/a,b=(e+r)/2+Math.cos(f)*x-Math.sin(f)*C,E=(n+i)/2+Math.sin(f)*x+Math.cos(f)*C,S=function(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])},A=function(R,O){return(R[0]*O[0]+R[1]*O[1])/(S(R)*S(O))},T=function(R,O){return(R[0]*O[1]<R[1]*O[0]?-1:1)*Math.acos(A(R,O))},k=T([1,0],[(g-x)/a,(p-C)/c]),I=[(g-x)/a,(p-C)/c],D=[(-1*g-x)/a,(-1*p-C)/c];let P=T(I,D);return A(I,D)<=-1&&(P=Math.PI),A(I,D)>=1&&(P=0),o===0&&P>0&&(P=P-2*Math.PI),o===1&&P<0&&(P=P+2*Math.PI),[b,E,a,c,k,P,f,o]}}Pu.Path=on;on.prototype.className="Path";on.prototype._attrsAffectingSize=["data"];(0,Due._registerNode)(on);Rue.Factory.addGetterSetter(on,"data");Object.defineProperty(yy,"__esModule",{value:!0});yy.Arrow=void 0;const by=Ve,Pue=If,M7=je,jue=$e,zI=Pu;let Ol=class extends Pue.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const o=this.pointerLength(),a=r.length;let c,u;if(s){const p=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],m=zI.Path.calcLength(i[i.length-4],i[i.length-3],"C",p),y=zI.Path.getPointOnQuadraticBezier(Math.min(1,1-o/m),p[0],p[1],p[2],p[3],p[4],p[5]);c=r[a-2]-y.x,u=r[a-1]-y.y}else c=r[a-2]-r[a-4],u=r[a-1]-r[a-3];const f=(Math.atan2(u,c)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(f),e.moveTo(0,0),e.lineTo(-o,g/2),e.lineTo(-o,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(c=(i[0]+i[2])/2-r[0],u=(i[1]+i[3])/2-r[1]):(c=r[2]-r[0],u=r[3]-r[1]),e.rotate((Math.atan2(-u,-c)+n)%n),e.moveTo(0,0),e.lineTo(-o,g/2),e.lineTo(-o,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}};yy.Arrow=Ol;Ol.prototype.className="Arrow";(0,jue._registerNode)(Ol);by.Factory.addGetterSetter(Ol,"pointerLength",10,(0,M7.getNumberValidator)());by.Factory.addGetterSetter(Ol,"pointerWidth",10,(0,M7.getNumberValidator)());by.Factory.addGetterSetter(Ol,"pointerAtBeginning",!1);by.Factory.addGetterSetter(Ol,"pointerAtEnding",!0);var wy={};Object.defineProperty(wy,"__esModule",{value:!0});wy.Circle=void 0;const Mue=Ve,Oue=hn,Lue=je,Fue=$e;class ju extends Oue.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}wy.Circle=ju;ju.prototype._centroid=!0;ju.prototype.className="Circle";ju.prototype._attrsAffectingSize=["radius"];(0,Fue._registerNode)(ju);Mue.Factory.addGetterSetter(ju,"radius",0,(0,Lue.getNumberValidator)());var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.Ellipse=void 0;const K_=Ve,Uue=hn,O7=je,Bue=$e;class _a extends Uue.Shape{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Sy.Ellipse=_a;_a.prototype.className="Ellipse";_a.prototype._centroid=!0;_a.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,Bue._registerNode)(_a);K_.Factory.addComponentsGetterSetter(_a,"radius",["x","y"]);K_.Factory.addGetterSetter(_a,"radiusX",0,(0,O7.getNumberValidator)());K_.Factory.addGetterSetter(_a,"radiusY",0,(0,O7.getNumberValidator)());var Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.Image=void 0;const V1=Gt,Ll=Ve,Hue=hn,zue=$e,Df=je;class vi extends Hue.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let o;if(s){const a=this.attrs.cropWidth,c=this.attrs.cropHeight;a&&c?o=[s,this.cropX(),this.cropY(),a,c,0,0,n,r]:o=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?V1.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?V1.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){const i=V1.Util.createImageElement();i.onload=function(){const s=new vi({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}Cy.Image=vi;vi.prototype.className="Image";(0,zue._registerNode)(vi);Ll.Factory.addGetterSetter(vi,"cornerRadius",0,(0,Df.getNumberOrArrayOfNumbersValidator)(4));Ll.Factory.addGetterSetter(vi,"image");Ll.Factory.addComponentsGetterSetter(vi,"crop",["x","y","width","height"]);Ll.Factory.addGetterSetter(vi,"cropX",0,(0,Df.getNumberValidator)());Ll.Factory.addGetterSetter(vi,"cropY",0,(0,Df.getNumberValidator)());Ll.Factory.addGetterSetter(vi,"cropWidth",0,(0,Df.getNumberValidator)());Ll.Factory.addGetterSetter(vi,"cropHeight",0,(0,Df.getNumberValidator)());var au={};Object.defineProperty(au,"__esModule",{value:!0});au.Tag=au.Label=void 0;const Ey=Ve,Gue=hn,$ue=Iu,Y_=je,L7=$e,F7=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Vue="Change.konva",Wue="none",iC="up",sC="right",oC="down",aC="left",que=F7.length;class Q_ extends $ue.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<que;r++)e.on(F7[r]+Vue,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,o,a,c,u;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),o=n.pointerWidth(),u=n.pointerHeight(),a=0,c=0,s){case iC:a=r/2,c=-1*u;break;case sC:a=r+o,c=i/2;break;case oC:a=r/2,c=i+u;break;case aC:a=-1*o,c=i/2;break}n.setAttrs({x:-1*a,y:-1*c,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*c})}}}au.Label=Q_;Q_.prototype.className="Label";(0,L7._registerNode)(Q_);class Fl extends Gue.Shape{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let c=0,u=0,f=0,g=0;typeof a=="number"?c=u=f=g=Math.min(a,n/2,r/2):(c=Math.min(a[0]||0,n/2,r/2),u=Math.min(a[1]||0,n/2,r/2),g=Math.min(a[2]||0,n/2,r/2),f=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(c,0),i===iC&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+s)/2,0)),e.lineTo(n-u,0),e.arc(n-u,u,u,Math.PI*3/2,0,!1),i===sC&&(e.lineTo(n,(r-o)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-g),e.arc(n-g,r-g,g,0,Math.PI/2,!1),i===oC&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-s)/2,r)),e.lineTo(f,r),e.arc(f,r-f,f,Math.PI/2,Math.PI,!1),i===aC&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,c),e.arc(c,c,c,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return s===iC?(n-=i,a+=i):s===oC?a+=i:s===aC?(e-=r*1.5,o+=r):s===sC&&(o+=r*1.5),{x:e,y:n,width:o,height:a}}}au.Tag=Fl;Fl.prototype.className="Tag";(0,L7._registerNode)(Fl);Ey.Factory.addGetterSetter(Fl,"pointerDirection",Wue);Ey.Factory.addGetterSetter(Fl,"pointerWidth",0,(0,Y_.getNumberValidator)());Ey.Factory.addGetterSetter(Fl,"pointerHeight",0,(0,Y_.getNumberValidator)());Ey.Factory.addGetterSetter(Fl,"cornerRadius",0,(0,Y_.getNumberOrArrayOfNumbersValidator)(4));var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.Rect=void 0;const Kue=Ve,Yue=hn,Que=$e,Xue=Gt,Jue=je;let _y=class extends Yue.Shape{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?Xue.Util.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Pf.Rect=_y;_y.prototype.className="Rect";(0,Que._registerNode)(_y);Kue.Factory.addGetterSetter(_y,"cornerRadius",0,(0,Jue.getNumberOrArrayOfNumbersValidator)(4));var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.RegularPolygon=void 0;const U7=Ve,Zue=hn,B7=je,ede=$e;class Ul extends Zue.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ay.RegularPolygon=Ul;Ul.prototype.className="RegularPolygon";Ul.prototype._centroid=!0;Ul.prototype._attrsAffectingSize=["radius"];(0,ede._registerNode)(Ul);U7.Factory.addGetterSetter(Ul,"radius",0,(0,B7.getNumberValidator)());U7.Factory.addGetterSetter(Ul,"sides",0,(0,B7.getNumberValidator)());var Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.Ring=void 0;const H7=Ve,tde=hn,z7=je,nde=$e,GI=Math.PI*2;class Bl extends tde.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,GI,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),GI,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ny.Ring=Bl;Bl.prototype.className="Ring";Bl.prototype._centroid=!0;Bl.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,nde._registerNode)(Bl);H7.Factory.addGetterSetter(Bl,"innerRadius",0,(0,z7.getNumberValidator)());H7.Factory.addGetterSetter(Bl,"outerRadius",0,(0,z7.getNumberValidator)());var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.Sprite=void 0;const Hl=Ve,rde=hn,ide=Du,G7=je,sde=$e;class Ss extends rde.Shape{constructor(e){super(e),this._updated=!0,this.anim=new ide.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+0],c=s[i+1],u=s[i+2],f=s[i+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,f),e.closePath(),e.fillStrokeShape(this)),g)if(o){const p=o[n],m=r*2;e.drawImage(g,a,c,u,f,p[m+0],p[m+1],u,f)}else e.drawImage(g,a,c,u,f,0,0,u,f)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],o=this.frameOffsets(),a=s[i+2],c=s[i+3];if(e.beginPath(),o){const u=o[n],f=r*2;e.rect(u[f+0],u[f+1],a,c)}else e.rect(0,0,a,c);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}Ty.Sprite=Ss;Ss.prototype.className="Sprite";(0,sde._registerNode)(Ss);Hl.Factory.addGetterSetter(Ss,"animation");Hl.Factory.addGetterSetter(Ss,"animations");Hl.Factory.addGetterSetter(Ss,"frameOffsets");Hl.Factory.addGetterSetter(Ss,"image");Hl.Factory.addGetterSetter(Ss,"frameIndex",0,(0,G7.getNumberValidator)());Hl.Factory.addGetterSetter(Ss,"frameRate",17,(0,G7.getNumberValidator)());Hl.Factory.backCompat(Ss,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var ky={};Object.defineProperty(ky,"__esModule",{value:!0});ky.Star=void 0;const X_=Ve,ode=hn,J_=je,ade=$e;class Aa extends ode.Shape{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const o=s%2===0?r:n,a=o*Math.sin(s*Math.PI/i),c=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,c)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ky.Star=Aa;Aa.prototype.className="Star";Aa.prototype._centroid=!0;Aa.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,ade._registerNode)(Aa);X_.Factory.addGetterSetter(Aa,"numPoints",5,(0,J_.getNumberValidator)());X_.Factory.addGetterSetter(Aa,"innerRadius",0,(0,J_.getNumberValidator)());X_.Factory.addGetterSetter(Aa,"outerRadius",0,(0,J_.getNumberValidator)());var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.Text=void 0;Mu.stringToArray=$7;const lC=Gt,Yn=Ve,lde=hn,W1=$e,Na=je,cde=$e;function $7(t){return[...t].reduce((e,n,r,i)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test(n)?e.push(n):new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:e.push(n),e),[])}const cc="auto",ude="center",V7="inherit",Sd="justify",dde="Change.konva",hde="2d",$I="-",W7="left",fde="text",gde="Text",pde="top",mde="bottom",VI="middle",q7="normal",vde="px ",_p=" ",yde="right",WI="rtl",xde="word",bde="char",qI="none",q1="",K7=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],wde=K7.length;function Sde(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Ap;function K1(){return Ap||(Ap=lC.Util.createCanvasElement().getContext(hde),Ap)}function Cde(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Ede(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function _de(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let qt=class extends lde.Shape{constructor(e){super(_de(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<wde;n++)this.on(K7[n]+dde,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,r=n.length;if(!this.text())return;let i=this.padding(),s=this.fontSize(),o=this.lineHeight()*s,a=this.verticalAlign(),c=this.direction(),u=0,f=this.align(),g=this.getWidth(),p=this.letterSpacing(),m=this.fill(),y=this.textDecoration(),x=y.indexOf("underline")!==-1,C=y.indexOf("line-through")!==-1,b;c=c===V7?e.direction:c;let E=o/2,S=VI;if(W1.Konva._fixTextRendering){const ae=this.measureSize("M");S="alphabetic",E=(ae.fontBoundingBoxAscent-ae.fontBoundingBoxDescent)/2+o/2}var A=0,T=0;for(c===WI&&e.setAttr("direction",c),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",S),e.setAttr("textAlign",W7),a===VI?u=(this.getHeight()-r*o-i*2)/2:a===mde&&(u=this.getHeight()-r*o-i*2),e.translate(i,u+i),b=0;b<r;b++){var A=0,T=0,k=n[b],I=k.text,D=k.width,P=k.lastInParagraph,R,O,z;if(e.save(),f===yde?A+=g-D-i*2:f===ude&&(A+=(g-D-i*2)/2),x){e.save(),e.beginPath();const G=W1.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2),$=A,le=E+T+G;e.moveTo($,le),R=I.split(" ").length-1,O=R===0,z=f===Sd&&!P?g-i*2:D,e.lineTo($+Math.round(z),le),e.lineWidth=s/15;const X=this._getLinearGradient();e.strokeStyle=X||m,e.stroke(),e.restore()}if(C){e.save(),e.beginPath();const G=W1.Konva._fixTextRendering?-Math.round(s/4):0;e.moveTo(A,E+T+G),R=I.split(" ").length-1,O=R===0,z=f===Sd&&P&&!O?g-i*2:D,e.lineTo(A+Math.round(z),E+T+G),e.lineWidth=s/15;const $=this._getLinearGradient();e.strokeStyle=$||m,e.stroke(),e.restore()}if(c!==WI&&(p!==0||f===Sd)){R=I.split(" ").length-1;const G=$7(I);for(let $=0;$<G.length;$++){const le=G[$];le===" "&&!P&&f===Sd&&(A+=(g-i*2-D)/R),this._partialTextX=A,this._partialTextY=E+T,this._partialText=le,e.fillStrokeShape(this),A+=this.measureSize(le).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=A,this._partialTextY=E+T,this._partialText=I,e.fillStrokeShape(this);e.restore(),r>1&&(E+=o)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=lC.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(fde,n),this}getWidth(){return this.attrs.width===cc||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===cc||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return lC.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,o,a,c,u,f,g,p;let m=K1(),y=this.fontSize(),x;m.save(),m.font=this._getContextFont(),x=m.measureText(e),m.restore();const C=y/100;return{actualBoundingBoxAscent:(n=x.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*C,actualBoundingBoxDescent:(r=x.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=x.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*C,actualBoundingBoxRight:(s=x.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*C,alphabeticBaseline:(o=x.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=x.emHeightAscent)!==null&&a!==void 0?a:100*C,emHeightDescent:(c=x.emHeightDescent)!==null&&c!==void 0?c:-20*C,fontBoundingBoxAscent:(u=x.fontBoundingBoxAscent)!==null&&u!==void 0?u:91*C,fontBoundingBoxDescent:(f=x.fontBoundingBoxDescent)!==null&&f!==void 0?f:21*C,hangingBaseline:(g=x.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*C,ideographicBaseline:(p=x.ideographicBaseline)!==null&&p!==void 0?p:-21*C,width:x.width,height:y}}_getContextFont(){return this.fontStyle()+_p+this.fontVariant()+_p+(this.fontSize()+vde)+Sde(this.fontFamily())}_addTextLine(e){this.align()===Sd&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return K1().measureText(e).width+(r?n*(r-1):0)}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==cc&&s!==void 0,c=o!==cc&&o!==void 0,u=this.padding(),f=s-u*2,g=o-u*2,p=0,m=this.wrap(),y=m!==qI,x=m!==bde&&y,C=this.ellipsis();this.textArr=[],K1().font=this._getContextFont();const b=C?this._getTextWidth(q1):0;for(let S=0,A=e.length;S<A;++S){let T=e[S],k=this._getTextWidth(T);if(a&&k>f)for(;T.length>0;){let I=0,D=T.length,P="",R=0;for(;I<D;){const O=I+D>>>1,z=T.slice(0,O+1),ae=this._getTextWidth(z)+b;ae<=f?(I=O+1,P=z,R=ae):D=O}if(P){if(x){var E;const z=T[P.length];(z===_p||z===$I)&&R<=f?E=P.length:E=Math.max(P.lastIndexOf(_p),P.lastIndexOf($I))+1,E>0&&(I=E,P=P.slice(0,I),R=this._getTextWidth(P))}if(P=P.trimRight(),this._addTextLine(P),r=Math.max(r,R),p+=i,this._shouldHandleEllipsis(p)){this._tryToAddEllipsisToLastLine();break}if(T=T.slice(I),T=T.trimLeft(),T.length>0&&(k=this._getTextWidth(T),k<=f)){this._addTextLine(T),p+=i,r=Math.max(r,k);break}}else break}else this._addTextLine(T),p+=i,r=Math.max(r,k),this._shouldHandleEllipsis(p)&&S<A-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),c&&p+i>g)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==cc&&i!==void 0,o=this.padding(),a=i-o*2;return!(this.wrap()!==qI)||s&&e+r>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==cc&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!s||(n&&(this._getTextWidth(o.text+q1)<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+q1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Mu.Text=qt;qt.prototype._fillFunc=Cde;qt.prototype._strokeFunc=Ede;qt.prototype.className=gde;qt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,cde._registerNode)(qt);Yn.Factory.overWriteSetter(qt,"width",(0,Na.getNumberOrAutoValidator)());Yn.Factory.overWriteSetter(qt,"height",(0,Na.getNumberOrAutoValidator)());Yn.Factory.addGetterSetter(qt,"direction",V7);Yn.Factory.addGetterSetter(qt,"fontFamily","Arial");Yn.Factory.addGetterSetter(qt,"fontSize",12,(0,Na.getNumberValidator)());Yn.Factory.addGetterSetter(qt,"fontStyle",q7);Yn.Factory.addGetterSetter(qt,"fontVariant",q7);Yn.Factory.addGetterSetter(qt,"padding",0,(0,Na.getNumberValidator)());Yn.Factory.addGetterSetter(qt,"align",W7);Yn.Factory.addGetterSetter(qt,"verticalAlign",pde);Yn.Factory.addGetterSetter(qt,"lineHeight",1,(0,Na.getNumberValidator)());Yn.Factory.addGetterSetter(qt,"wrap",xde);Yn.Factory.addGetterSetter(qt,"ellipsis",!1,(0,Na.getBooleanValidator)());Yn.Factory.addGetterSetter(qt,"letterSpacing",0,(0,Na.getNumberValidator)());Yn.Factory.addGetterSetter(qt,"text","",(0,Na.getStringValidator)());Yn.Factory.addGetterSetter(qt,"textDecoration","");var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.TextPath=void 0;const Y1=Gt,qi=Ve,Ade=hn,Cd=Pu,Q1=Mu,Y7=je,Nde=$e,Tde="",Q7="normal";function X7(t){t.fillText(this.partialText,0,0)}function J7(t){t.strokeText(this.partialText,0,0)}class fn extends Ade.Shape{constructor(e){super(e),this.dummyCanvas=Y1.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Cd.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:Cd.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Cd.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(let o=0;o<s.length;o++){e.save();const a=s[o].p0;e.translate(a.x,a.y),e.rotate(s[o].rotation),this.partialText=s[o].text,e.fillStrokeShape(this),n==="underline"&&(o===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Y1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Q1.Text.prototype.setText.call(this,e)}_getContextFont(){return Q1.Text.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),i=this.align(),s=this.kerningFunc(),o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-o/2)),i==="right"&&(a=Math.max(0,this.pathLength-o));const c=(0,Q1.stringToArray)(this.text());let u=a;for(let f=0;f<c.length;f++){const g=this._getPointAtLength(u);if(!g)return;let p=this._getTextSize(c[f]).width+r;if(c[f]===" "&&i==="justify"){const E=this.text().split(" ").length-1;p+=(this.pathLength-o)/E}const m=this._getPointAtLength(u+p);if(!m)return;const y=Cd.Path.getLineLength(g.x,g.y,m.x,m.y);let x=0;if(s)try{x=s(c[f-1],c[f])*this.fontSize()}catch{x=0}g.x+=x,m.x+=x,this.textWidth+=x;const C=Cd.Path.getPointOnLine(x+y/2,g.x,g.y,m.x,m.y),b=Math.atan2(m.y-g.y,m.x-g.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:c[f],rotation:b,p0:g,p1:m}),u+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,o,a;for(let u=0;u<e.length/2;u++)o=e[u*2],a=e[u*2+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);const c=this.fontSize();return{x:n-c/2,y:i-c/2,width:r-n+c,height:s-i+c}}destroy(){return Y1.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Ry.TextPath=fn;fn.prototype._fillFunc=X7;fn.prototype._strokeFunc=J7;fn.prototype._fillFuncHit=X7;fn.prototype._strokeFuncHit=J7;fn.prototype.className="TextPath";fn.prototype._attrsAffectingSize=["text","fontSize","data"];(0,Nde._registerNode)(fn);qi.Factory.addGetterSetter(fn,"data");qi.Factory.addGetterSetter(fn,"fontFamily","Arial");qi.Factory.addGetterSetter(fn,"fontSize",12,(0,Y7.getNumberValidator)());qi.Factory.addGetterSetter(fn,"fontStyle",Q7);qi.Factory.addGetterSetter(fn,"align","left");qi.Factory.addGetterSetter(fn,"letterSpacing",0,(0,Y7.getNumberValidator)());qi.Factory.addGetterSetter(fn,"textBaseline","middle");qi.Factory.addGetterSetter(fn,"fontVariant",Q7);qi.Factory.addGetterSetter(fn,"text",Tde);qi.Factory.addGetterSetter(fn,"textDecoration",null);qi.Factory.addGetterSetter(fn,"kerningFunc",null);var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.Transformer=void 0;const gt=Gt,at=Ve,KI=Ot,kde=hn,Rde=Pf,YI=Iu,Ai=$e,Ta=je,Ide=$e,Z7="tr-konva",Dde=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Z7}`).join(" "),QI="nodesRect",Pde=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],jde={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Mde="ontouchstart"in Ai.Konva._global;function Ode(t,e,n){if(t==="rotater")return n;e+=gt.Util.degToRad(jde[t]||0);const r=(gt.Util.radToDeg(e)%360+360)%360;return gt.Util._inRange(r,315+22.5,360)||gt.Util._inRange(r,0,22.5)?"ns-resize":gt.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":gt.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":gt.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":gt.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":gt.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":gt.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":gt.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(gt.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const j0=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],XI=1e8;function Lde(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function e9(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function Fde(t,e){const n=Lde(t);return e9(t,e,n)}function Ude(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Ai.Konva.getAngle(t[i]),o=Math.abs(s-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=s)}return r}let cC=0;class Xe extends YI.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(Dde,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return gt.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Z7+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(gt.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(o,s),i.on(Pde.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,o=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const c=a.getAbsolutePosition();a.setAbsolutePosition({x:c.x+s,y:c.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(QI),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(QI,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,c=i.y*s.y-e.offsetY()*s.y,u=(Ai.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),f={x:o.x+a*Math.cos(u)+c*Math.sin(-u),y:o.y+c*Math.cos(u)+a*Math.sin(u),width:i.width*s.x,height:i.height*s.y,rotation:u};return e9(f,-Ai.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-XI,y:-XI,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const f=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:f.x,y:f.y},{x:f.x+f.width,y:f.y},{x:f.x+f.width,y:f.y+f.height},{x:f.x,y:f.y+f.height}],p=u.getAbsoluteTransform();g.forEach(function(m){const y=p.point(m);n.push(y)})});const r=new gt.Transform;r.rotate(-Ai.Konva.getAngle(this.rotation()));let i=1/0,s=1/0,o=-1/0,a=-1/0;n.forEach(function(u){const f=r.point(u);i===void 0&&(i=o=f.x,s=a=f.y),i=Math.min(i,f.x),s=Math.min(s,f.y),o=Math.max(o,f.x),a=Math.max(a,f.y)}),r.invert();const c=r.point({x:i,y:s});return{x:c.x,y:c.y,width:o-i,height:a-s,rotation:Ai.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),j0.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new Rde.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Mde?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Ai.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),o=Ode(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=o),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new kde.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*gt.Util._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},cC++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(c=>{c._fire("transformstart",{evt:e.evt,target:c})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let c={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const u=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(c=this.anchorDragBoundFunc()(u,c,e)),s.setAbsolutePosition(c);const f=s.getAbsolutePosition();if(u.x===f.x&&u.y===f.y)return;if(this._movingAnchorName==="rotater"){const T=this._getNodeRect();n=s.x()-T.width/2,r=-s.y()+T.height/2;let k=Math.atan2(-r,n)+Math.PI/2;T.height<0&&(k-=Math.PI);const D=Ai.Konva.getAngle(this.rotation())+k,P=Ai.Konva.getAngle(this.rotationSnapTolerance()),O=Ude(this.rotationSnaps(),D,P)-T.rotation,z=Fde(T,O);this._fitNodesInto(z,e);return}const g=this.shiftBehavior();let p;g==="inverted"?p=this.keepRatio()&&!e.shiftKey:g==="none"?p=this.keepRatio():p=this.keepRatio()||e.shiftKey;var b=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(p){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(m.x-s.x(),2)+Math.pow(m.y-s.y(),2));var y=this.findOne(".top-left").x()>m.x?-1:1,x=this.findOne(".top-left").y()>m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,this.findOne(".top-left").x(m.x-n),this.findOne(".top-left").y(m.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(p){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-m.x,2)+Math.pow(m.y-s.y(),2));var y=this.findOne(".top-right").x()<m.x?-1:1,x=this.findOne(".top-right").y()>m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,this.findOne(".top-right").x(m.x+n),this.findOne(".top-right").y(m.y-r)}var C=s.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(p){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(m.x-s.x(),2)+Math.pow(s.y()-m.y,2));var y=m.x<s.x()?-1:1,x=s.y()<m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,s.x(m.x-n),s.y(m.y+r)}C=s.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(p){var m=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-m.x,2)+Math.pow(s.y()-m.y,2));var y=this.findOne(".bottom-right").x()<m.x?-1:1,x=this.findOne(".bottom-right").y()<m.y?-1:1;n=i*this.cos*y,r=i*this.sin*x,this.findOne(".bottom-right").x(m.x+n),this.findOne(".bottom-right").y(m.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var b=this.centeredScaling()||e.altKey;if(b){const T=this.findOne(".top-left"),k=this.findOne(".bottom-right"),I=T.x(),D=T.y(),P=this.getWidth()-k.x(),R=this.getHeight()-k.y();k.move({x:-I,y:-D}),T.move({x:P,y:R})}const E=this.findOne(".top-left").getAbsolutePosition();n=E.x,r=E.y;const S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),A=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:S,height:A,rotation:Ai.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();cC--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(gt.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(gt.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new gt.Transform;if(s.rotate(Ai.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=s.point({x:-this.padding()*2,y:0});e.x+=p.x,e.y+=p.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=s.point({x:0,y:-this.padding()*2});e.x+=p.x,e.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(r,e);p?e=p:gt.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new gt.Transform;a.translate(r.x,r.y),a.rotate(r.rotation),a.scale(r.width/o,r.height/o);const c=new gt.Transform,u=e.width/o,f=e.height/o;this.flipEnabled()===!1?(c.translate(e.x,e.y),c.rotate(e.rotation),c.translate(e.width<0?e.width:0,e.height<0?e.height:0),c.scale(Math.abs(u),Math.abs(f))):(c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(u,f));const g=c.multiply(a.invert());this._nodes.forEach(p=>{var m;const y=p.getParent().getAbsoluteTransform(),x=p.getTransform().copy();x.translate(p.offsetX(),p.offsetY());const C=new gt.Transform;C.multiply(y.copy().invert()).multiply(g).multiply(y).multiply(x);const b=C.decompose();p.setAttrs(b),(m=p.getLayer())===null||m===void 0||m.batchDraw()}),this.rotation(gt.Util._getRotation(e.rotation)),this._nodes.forEach(p=>{this._fire("transform",{evt:n,target:p}),p._fire("transform",{evt:n,target:p})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(gt.Util._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),c=this.anchorSize(),u=this.find("._anchor");u.forEach(g=>{g.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+a,offsetY:c/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:c/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:c/2-a,offsetY:c/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:c/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:c/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:c/2+a,offsetY:c/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:c/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:c/2-a,offsetY:c/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*gt.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const f=this.anchorStyleFunc();f&&u.forEach(g=>{f(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),YI.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return KI.Node.prototype.toObject.call(this)}clone(e){return KI.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Iy.Transformer=Xe;Xe.isTransforming=()=>cC>0;function Bde(t){return t instanceof Array||gt.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){j0.indexOf(e)===-1&&gt.Util.warn("Unknown anchor name: "+e+". Available names are: "+j0.join(", "))}),t||[]}Xe.prototype.className="Transformer";(0,Ide._registerNode)(Xe);at.Factory.addGetterSetter(Xe,"enabledAnchors",j0,Bde);at.Factory.addGetterSetter(Xe,"flipEnabled",!0,(0,Ta.getBooleanValidator)());at.Factory.addGetterSetter(Xe,"resizeEnabled",!0);at.Factory.addGetterSetter(Xe,"anchorSize",10,(0,Ta.getNumberValidator)());at.Factory.addGetterSetter(Xe,"rotateEnabled",!0);at.Factory.addGetterSetter(Xe,"rotateLineVisible",!0);at.Factory.addGetterSetter(Xe,"rotationSnaps",[]);at.Factory.addGetterSetter(Xe,"rotateAnchorOffset",50,(0,Ta.getNumberValidator)());at.Factory.addGetterSetter(Xe,"rotateAnchorCursor","crosshair");at.Factory.addGetterSetter(Xe,"rotationSnapTolerance",5,(0,Ta.getNumberValidator)());at.Factory.addGetterSetter(Xe,"borderEnabled",!0);at.Factory.addGetterSetter(Xe,"anchorStroke","rgb(0, 161, 255)");at.Factory.addGetterSetter(Xe,"anchorStrokeWidth",1,(0,Ta.getNumberValidator)());at.Factory.addGetterSetter(Xe,"anchorFill","white");at.Factory.addGetterSetter(Xe,"anchorCornerRadius",0,(0,Ta.getNumberValidator)());at.Factory.addGetterSetter(Xe,"borderStroke","rgb(0, 161, 255)");at.Factory.addGetterSetter(Xe,"borderStrokeWidth",1,(0,Ta.getNumberValidator)());at.Factory.addGetterSetter(Xe,"borderDash");at.Factory.addGetterSetter(Xe,"keepRatio",!0);at.Factory.addGetterSetter(Xe,"shiftBehavior","default");at.Factory.addGetterSetter(Xe,"centeredScaling",!1);at.Factory.addGetterSetter(Xe,"ignoreStroke",!1);at.Factory.addGetterSetter(Xe,"padding",0,(0,Ta.getNumberValidator)());at.Factory.addGetterSetter(Xe,"node");at.Factory.addGetterSetter(Xe,"nodes");at.Factory.addGetterSetter(Xe,"boundBoxFunc");at.Factory.addGetterSetter(Xe,"anchorDragBoundFunc");at.Factory.addGetterSetter(Xe,"anchorStyleFunc");at.Factory.addGetterSetter(Xe,"shouldOverdrawWholeArea",!1);at.Factory.addGetterSetter(Xe,"useSingleNodeRotation",!0);at.Factory.backCompat(Xe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.Wedge=void 0;const Py=Ve,Hde=hn,zde=$e,t9=je,Gde=$e;class lo extends Hde.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,zde.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Dy.Wedge=lo;lo.prototype.className="Wedge";lo.prototype._centroid=!0;lo.prototype._attrsAffectingSize=["radius"];(0,Gde._registerNode)(lo);Py.Factory.addGetterSetter(lo,"radius",0,(0,t9.getNumberValidator)());Py.Factory.addGetterSetter(lo,"angle",0,(0,t9.getNumberValidator)());Py.Factory.addGetterSetter(lo,"clockwise",!1);Py.Factory.backCompat(lo,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var jy={};Object.defineProperty(jy,"__esModule",{value:!0});jy.Blur=void 0;const JI=Ve,$de=Ot,Vde=je;function ZI(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const Wde=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],qde=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Kde(t,e){const n=t.data,r=t.width,i=t.height;let s,o,a,c,u,f,g,p,m,y,x,C,b,E,S,A,T,k,I,D,P,R,O,z,ae=e+e+1,Z=r-1,G=i-1,$=e+1,le=$*($+1)/2,X=new ZI,pe=null,te=X,ie=null,ue=null,Ce=Wde[e],W=qde[e];for(a=1;a<ae;a++)te=te.next=new ZI,a===$&&(pe=te);for(te.next=X,g=f=0,o=0;o<i;o++){for(A=T=k=I=p=m=y=x=0,C=$*(D=n[f]),b=$*(P=n[f+1]),E=$*(R=n[f+2]),S=$*(O=n[f+3]),p+=le*D,m+=le*P,y+=le*R,x+=le*O,te=X,a=0;a<$;a++)te.r=D,te.g=P,te.b=R,te.a=O,te=te.next;for(a=1;a<$;a++)c=f+((Z<a?Z:a)<<2),p+=(te.r=D=n[c])*(z=$-a),m+=(te.g=P=n[c+1])*z,y+=(te.b=R=n[c+2])*z,x+=(te.a=O=n[c+3])*z,A+=D,T+=P,k+=R,I+=O,te=te.next;for(ie=X,ue=pe,s=0;s<r;s++)n[f+3]=O=x*Ce>>W,O!==0?(O=255/O,n[f]=(p*Ce>>W)*O,n[f+1]=(m*Ce>>W)*O,n[f+2]=(y*Ce>>W)*O):n[f]=n[f+1]=n[f+2]=0,p-=C,m-=b,y-=E,x-=S,C-=ie.r,b-=ie.g,E-=ie.b,S-=ie.a,c=g+((c=s+e+1)<Z?c:Z)<<2,A+=ie.r=n[c],T+=ie.g=n[c+1],k+=ie.b=n[c+2],I+=ie.a=n[c+3],p+=A,m+=T,y+=k,x+=I,ie=ie.next,C+=D=ue.r,b+=P=ue.g,E+=R=ue.b,S+=O=ue.a,A-=D,T-=P,k-=R,I-=O,ue=ue.next,f+=4;g+=r}for(s=0;s<r;s++){for(T=k=I=A=m=y=x=p=0,f=s<<2,C=$*(D=n[f]),b=$*(P=n[f+1]),E=$*(R=n[f+2]),S=$*(O=n[f+3]),p+=le*D,m+=le*P,y+=le*R,x+=le*O,te=X,a=0;a<$;a++)te.r=D,te.g=P,te.b=R,te.a=O,te=te.next;for(u=r,a=1;a<=e;a++)f=u+s<<2,p+=(te.r=D=n[f])*(z=$-a),m+=(te.g=P=n[f+1])*z,y+=(te.b=R=n[f+2])*z,x+=(te.a=O=n[f+3])*z,A+=D,T+=P,k+=R,I+=O,te=te.next,a<G&&(u+=r);for(f=s,ie=X,ue=pe,o=0;o<i;o++)c=f<<2,n[c+3]=O=x*Ce>>W,O>0?(O=255/O,n[c]=(p*Ce>>W)*O,n[c+1]=(m*Ce>>W)*O,n[c+2]=(y*Ce>>W)*O):n[c]=n[c+1]=n[c+2]=0,p-=C,m-=b,y-=E,x-=S,C-=ie.r,b-=ie.g,E-=ie.b,S-=ie.a,c=s+((c=o+$)<G?c:G)*r<<2,p+=A+=ie.r=n[c],m+=T+=ie.g=n[c+1],y+=k+=ie.b=n[c+2],x+=I+=ie.a=n[c+3],ie=ie.next,C+=D=ue.r,b+=P=ue.g,E+=R=ue.b,S+=O=ue.a,A-=D,T-=P,k-=R,I-=O,ue=ue.next,f+=r}}const Yde=function(e){const n=Math.round(this.blurRadius());n>0&&Kde(e,n)};jy.Blur=Yde;JI.Factory.addGetterSetter($de.Node,"blurRadius",0,(0,Vde.getNumberValidator)(),JI.Factory.afterSetFilter);var My={};Object.defineProperty(My,"__esModule",{value:!0});My.Brighten=void 0;const e3=Ve,Qde=Ot,Xde=je,Jde=function(t){let e=this.brightness()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};My.Brighten=Jde;e3.Factory.addGetterSetter(Qde.Node,"brightness",0,(0,Xde.getNumberValidator)(),e3.Factory.afterSetFilter);var Oy={};Object.defineProperty(Oy,"__esModule",{value:!0});Oy.Contrast=void 0;const t3=Ve,Zde=Ot,ehe=je,the=function(t){const e=Math.pow((this.contrast()+100)/100,2);let n=t.data,r=n.length,i=150,s=150,o=150,a;for(a=0;a<r;a+=4)i=n[a],s=n[a+1],o=n[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,n[a]=i,n[a+1]=s,n[a+2]=o};Oy.Contrast=the;t3.Factory.addGetterSetter(Zde.Node,"contrast",0,(0,ehe.getNumberValidator)(),t3.Factory.afterSetFilter);var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});Ly.Emboss=void 0;const ga=Ve,Fy=Ot,nhe=Gt,n9=je,rhe=function(t){let e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=0,o=0,a=t.data,c=t.width,u=t.height,f=c*4,g=u;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:nhe.Util.error("Unknown emboss direction: "+r)}do{const p=(g-1)*f;let m=s;g+m<1&&(m=0),g+m>u&&(m=0);const y=(g-1+m)*c*4;let x=c;do{const C=p+(x-1)*4;let b=o;x+b<1&&(b=0),x+b>c&&(b=0);const E=y+(x-1+b)*4,S=a[C]-a[E],A=a[C+1]-a[E+1],T=a[C+2]-a[E+2];let k=S;const I=k>0?k:-k,D=A>0?A:-A,P=T>0?T:-T;if(D>I&&(k=A),P>I&&(k=T),k*=e,i){const R=a[C]+k,O=a[C+1]+k,z=a[C+2]+k;a[C]=R>255?255:R<0?0:R,a[C+1]=O>255?255:O<0?0:O,a[C+2]=z>255?255:z<0?0:z}else{let R=n-k;R<0?R=0:R>255&&(R=255),a[C]=a[C+1]=a[C+2]=R}}while(--x)}while(--g)};Ly.Emboss=rhe;ga.Factory.addGetterSetter(Fy.Node,"embossStrength",.5,(0,n9.getNumberValidator)(),ga.Factory.afterSetFilter);ga.Factory.addGetterSetter(Fy.Node,"embossWhiteLevel",.5,(0,n9.getNumberValidator)(),ga.Factory.afterSetFilter);ga.Factory.addGetterSetter(Fy.Node,"embossDirection","top-left",null,ga.Factory.afterSetFilter);ga.Factory.addGetterSetter(Fy.Node,"embossBlend",!1,null,ga.Factory.afterSetFilter);var Uy={};Object.defineProperty(Uy,"__esModule",{value:!0});Uy.Enhance=void 0;const n3=Ve,ihe=Ot,she=je;function X1(t,e,n,r,i){let s=n-e,o=i-r,a;return s===0?r+o/2:o===0?r:(a=(t-e)/s,a=o*a+r,a)}const ohe=function(t){let e=t.data,n=e.length,r=e[0],i=r,s,o=e[1],a=o,c,u=e[2],f=u,g,p;const m=this.enhance();if(m===0)return;for(p=0;p<n;p+=4)s=e[p+0],s<r?r=s:s>i&&(i=s),c=e[p+1],c<o?o=c:c>a&&(a=c),g=e[p+2],g<u?u=g:g>f&&(f=g);i===r&&(i=255,r=0),a===o&&(a=255,o=0),f===u&&(f=255,u=0);let y,x,C,b,E,S,A,T,k;for(m>0?(x=i+m*(255-i),C=r-m*(r-0),E=a+m*(255-a),S=o-m*(o-0),T=f+m*(255-f),k=u-m*(u-0)):(y=(i+r)*.5,x=i+m*(i-y),C=r+m*(r-y),b=(a+o)*.5,E=a+m*(a-b),S=o+m*(o-b),A=(f+u)*.5,T=f+m*(f-A),k=u+m*(u-A)),p=0;p<n;p+=4)e[p+0]=X1(e[p+0],r,i,C,x),e[p+1]=X1(e[p+1],o,a,S,E),e[p+2]=X1(e[p+2],u,f,k,T)};Uy.Enhance=ohe;n3.Factory.addGetterSetter(ihe.Node,"enhance",0,(0,she.getNumberValidator)(),n3.Factory.afterSetFilter);var By={};Object.defineProperty(By,"__esModule",{value:!0});By.Grayscale=void 0;const ahe=function(t){let e=t.data,n=e.length,r,i;for(r=0;r<n;r+=4)i=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=i,e[r+1]=i,e[r+2]=i};By.Grayscale=ahe;var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.HSL=void 0;const lu=Ve,Z_=Ot,eA=je;lu.Factory.addGetterSetter(Z_.Node,"hue",0,(0,eA.getNumberValidator)(),lu.Factory.afterSetFilter);lu.Factory.addGetterSetter(Z_.Node,"saturation",0,(0,eA.getNumberValidator)(),lu.Factory.afterSetFilter);lu.Factory.addGetterSetter(Z_.Node,"luminance",0,(0,eA.getNumberValidator)(),lu.Factory.afterSetFilter);const lhe=function(t){let e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a;const c=r*i*Math.cos(s*Math.PI/180),u=r*i*Math.sin(s*Math.PI/180),f=.299*r+.701*c+.167*u,g=.587*r-.587*c+.33*u,p=.114*r-.114*c-.497*u,m=.299*r-.299*c-.328*u,y=.587*r+.413*c+.035*u,x=.114*r-.114*c+.293*u,C=.299*r-.3*c+1.25*u,b=.587*r-.586*c-1.05*u,E=.114*r+.886*c-.2*u;let S,A,T,k;for(a=0;a<n;a+=4)S=e[a+0],A=e[a+1],T=e[a+2],k=e[a+3],e[a+0]=f*S+g*A+p*T+o,e[a+1]=m*S+y*A+x*T+o,e[a+2]=C*S+b*A+E*T+o,e[a+3]=k};Hy.HSL=lhe;var zy={};Object.defineProperty(zy,"__esModule",{value:!0});zy.HSV=void 0;const cu=Ve,tA=Ot,nA=je,che=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=r*i*Math.cos(s*Math.PI/180),a=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*o+.167*a,u=.587*r-.587*o+.33*a,f=.114*r-.114*o-.497*a,g=.299*r-.299*o-.328*a,p=.587*r+.413*o+.035*a,m=.114*r-.114*o+.293*a,y=.299*r-.3*o+1.25*a,x=.587*r-.586*o-1.05*a,C=.114*r+.886*o-.2*a;let b,E,S,A;for(let T=0;T<n;T+=4)b=e[T+0],E=e[T+1],S=e[T+2],A=e[T+3],e[T+0]=c*b+u*E+f*S,e[T+1]=g*b+p*E+m*S,e[T+2]=y*b+x*E+C*S,e[T+3]=A};zy.HSV=che;cu.Factory.addGetterSetter(tA.Node,"hue",0,(0,nA.getNumberValidator)(),cu.Factory.afterSetFilter);cu.Factory.addGetterSetter(tA.Node,"saturation",0,(0,nA.getNumberValidator)(),cu.Factory.afterSetFilter);cu.Factory.addGetterSetter(tA.Node,"value",0,(0,nA.getNumberValidator)(),cu.Factory.afterSetFilter);var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.Invert=void 0;const uhe=function(t){let e=t.data,n=e.length,r;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};Gy.Invert=uhe;var $y={};Object.defineProperty($y,"__esModule",{value:!0});$y.Kaleidoscope=void 0;const M0=Ve,r9=Ot,r3=Gt,i9=je,dhe=function(t,e,n){let r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,c=n.polarCenterY||o/2,u,f,g,p=0,m=0,y=0,x=0,C,b=Math.sqrt(a*a+c*c);f=s-a,g=o-c,C=Math.sqrt(f*f+g*g),b=C>b?C:b;let E=o,S=s,A,T,k=360/S*Math.PI/180,I,D;for(T=0;T<S;T+=1)for(I=Math.sin(T*k),D=Math.cos(T*k),A=0;A<E;A+=1)f=Math.floor(a+b*A/E*D),g=Math.floor(c+b*A/E*I),u=(g*s+f)*4,p=r[u+0],m=r[u+1],y=r[u+2],x=r[u+3],u=(T+A*s)*4,i[u+0]=p,i[u+1]=m,i[u+2]=y,i[u+3]=x},hhe=function(t,e,n){let r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,c=n.polarCenterY||o/2,u,f,g,p,m,y=0,x=0,C=0,b=0,E,S=Math.sqrt(a*a+c*c);f=s-a,g=o-c,E=Math.sqrt(f*f+g*g),S=E>S?E:S;let A=o,T=s,k,I,D=0,P,R;for(f=0;f<s;f+=1)for(g=0;g<o;g+=1)p=f-a,m=g-c,k=Math.sqrt(p*p+m*m)*A/S,I=(Math.atan2(m,p)*180/Math.PI+360+D)%360,I=I*T/360,P=Math.floor(I),R=Math.floor(k),u=(R*s+P)*4,y=r[u+0],x=r[u+1],C=r[u+2],b=r[u+3],u=(g*s+f)*4,i[u+0]=y,i[u+1]=x,i[u+2]=C,i[u+3]=b},fhe=function(t){const e=t.width,n=t.height;let r,i,s,o,a,c,u,f,g,p,m=Math.round(this.kaleidoscopePower());const y=Math.round(this.kaleidoscopeAngle()),x=Math.floor(e*(y%360)/360);if(m<1)return;const C=r3.Util.createCanvasElement();C.width=e,C.height=n;const b=C.getContext("2d").getImageData(0,0,e,n);r3.Util.releaseCanvas(C),dhe(t,b,{polarCenterX:e/2,polarCenterY:n/2});let E=e/Math.pow(2,m);for(;E<=8;)E=E*2,m-=1;E=Math.ceil(E);let S=E,A=0,T=S,k=1;for(x+E>e&&(A=S,T=0,k=-1),i=0;i<n;i+=1)for(r=A;r!==T;r+=k)s=Math.round(r+x)%e,g=(e*i+s)*4,a=b.data[g+0],c=b.data[g+1],u=b.data[g+2],f=b.data[g+3],p=(e*i+r)*4,b.data[p+0]=a,b.data[p+1]=c,b.data[p+2]=u,b.data[p+3]=f;for(i=0;i<n;i+=1)for(S=Math.floor(E),o=0;o<m;o+=1){for(r=0;r<S+1;r+=1)g=(e*i+r)*4,a=b.data[g+0],c=b.data[g+1],u=b.data[g+2],f=b.data[g+3],p=(e*i+S*2-r-1)*4,b.data[p+0]=a,b.data[p+1]=c,b.data[p+2]=u,b.data[p+3]=f;S*=2}hhe(b,t,{polarRotation:0})};$y.Kaleidoscope=fhe;M0.Factory.addGetterSetter(r9.Node,"kaleidoscopePower",2,(0,i9.getNumberValidator)(),M0.Factory.afterSetFilter);M0.Factory.addGetterSetter(r9.Node,"kaleidoscopeAngle",0,(0,i9.getNumberValidator)(),M0.Factory.afterSetFilter);var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.Mask=void 0;const i3=Ve,ghe=Ot,phe=je;function Np(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Ed(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function mhe(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function vhe(t,e){const n=Np(t,0,0),r=Np(t,t.width-1,0),i=Np(t,0,t.height-1),s=Np(t,t.width-1,t.height-1),o=e||10;if(Ed(n,r)<o&&Ed(r,s)<o&&Ed(s,i)<o&&Ed(i,n)<o){const a=mhe([r,n,s,i]),c=[];for(let u=0;u<t.width*t.height;u++){const f=Ed(a,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);c[u]=f<o?0:255}return c}}function yhe(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function xhe(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let c=0;c<e;c++){const u=a*e+c;let f=0;for(let g=0;g<i;g++)for(let p=0;p<i;p++){const m=a+g-s,y=c+p-s;if(m>=0&&m<n&&y>=0&&y<e){const x=m*e+y,C=r[g*i+p];f+=t[x]*C}}o[u]=f===255*8?255:0}return o}function bhe(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let c=0;c<e;c++){const u=a*e+c;let f=0;for(let g=0;g<i;g++)for(let p=0;p<i;p++){const m=a+g-s,y=c+p-s;if(m>=0&&m<n&&y>=0&&y<e){const x=m*e+y,C=r[g*i+p];f+=t[x]*C}}o[u]=f>=255*4?255:0}return o}function whe(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[];for(let a=0;a<n;a++)for(let c=0;c<e;c++){const u=a*e+c;let f=0;for(let g=0;g<i;g++)for(let p=0;p<i;p++){const m=a+g-s,y=c+p-s;if(m>=0&&m<n&&y>=0&&y<e){const x=m*e+y,C=r[g*i+p];f+=t[x]*C}}o[u]=f}return o}const She=function(t){let e=this.threshold(),n=vhe(t,e);return n&&(n=xhe(n,t.width,t.height),n=bhe(n,t.width,t.height),n=whe(n,t.width,t.height),yhe(t,n)),t};Vy.Mask=She;i3.Factory.addGetterSetter(ghe.Node,"threshold",0,(0,phe.getNumberValidator)(),i3.Factory.afterSetFilter);var Wy={};Object.defineProperty(Wy,"__esModule",{value:!0});Wy.Noise=void 0;const s3=Ve,Che=Ot,Ehe=je,_he=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};Wy.Noise=_he;s3.Factory.addGetterSetter(Che.Node,"noise",.2,(0,Ehe.getNumberValidator)(),s3.Factory.afterSetFilter);var qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.Pixelate=void 0;const o3=Ve,Ahe=Gt,Nhe=Ot,The=je,khe=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i,s,o,a,c,u,f,g=Math.ceil(n/e),p=Math.ceil(r/e),m,y,x,C,b,E,S,A=t.data;if(e<=0){Ahe.Util.error("pixelSize value can not be <= 0");return}for(b=0;b<g;b+=1)for(E=0;E<p;E+=1){for(a=0,c=0,u=0,f=0,m=b*e,y=m+e,x=E*e,C=x+e,S=0,i=m;i<y;i+=1)if(!(i>=n))for(s=x;s<C;s+=1)s>=r||(o=(n*s+i)*4,a+=A[o+0],c+=A[o+1],u+=A[o+2],f+=A[o+3],S+=1);for(a=a/S,c=c/S,u=u/S,f=f/S,i=m;i<y;i+=1)if(!(i>=n))for(s=x;s<C;s+=1)s>=r||(o=(n*s+i)*4,A[o+0]=a,A[o+1]=c,A[o+2]=u,A[o+3]=f)}};qy.Pixelate=khe;o3.Factory.addGetterSetter(Nhe.Node,"pixelSize",8,(0,The.getNumberValidator)(),o3.Factory.afterSetFilter);var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});Ky.Posterize=void 0;const a3=Ve,Rhe=Ot,Ihe=je,Dhe=function(t){let e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e,s;for(s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};Ky.Posterize=Dhe;a3.Factory.addGetterSetter(Rhe.Node,"levels",.5,(0,Ihe.getNumberValidator)(),a3.Factory.afterSetFilter);var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.RGB=void 0;const O0=Ve,rA=Ot,Phe=je,jhe=function(t){let e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o,a;for(o=0;o<n;o+=4)a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255,e[o]=a*r,e[o+1]=a*i,e[o+2]=a*s,e[o+3]=e[o+3]};Yy.RGB=jhe;O0.Factory.addGetterSetter(rA.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});O0.Factory.addGetterSetter(rA.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});O0.Factory.addGetterSetter(rA.Node,"blue",0,Phe.RGBComponent,O0.Factory.afterSetFilter);var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.RGBA=void 0;const Kh=Ve,Xy=Ot,Mhe=je,Ohe=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o=this.alpha();for(let a=0;a<n;a+=4){const c=1-o;e[a]=r*o+e[a]*c,e[a+1]=i*o+e[a+1]*c,e[a+2]=s*o+e[a+2]*c}};Qy.RGBA=Ohe;Kh.Factory.addGetterSetter(Xy.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Kh.Factory.addGetterSetter(Xy.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Kh.Factory.addGetterSetter(Xy.Node,"blue",0,Mhe.RGBComponent,Kh.Factory.afterSetFilter);Kh.Factory.addGetterSetter(Xy.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.Sepia=void 0;const Lhe=function(t){let e=t.data,n=e.length,r,i,s,o;for(r=0;r<n;r+=4)i=e[r+0],s=e[r+1],o=e[r+2],e[r+0]=Math.min(255,i*.393+s*.769+o*.189),e[r+1]=Math.min(255,i*.349+s*.686+o*.168),e[r+2]=Math.min(255,i*.272+s*.534+o*.131)};Jy.Sepia=Lhe;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.Solarize=void 0;const Fhe=function(t){const e=t.data,n=t.width,r=t.height,i=n*4;let s=r;do{const o=(s-1)*i;let a=n;do{const c=o+(a-1)*4;let u=e[c],f=e[c+1],g=e[c+2];u>127&&(u=255-u),f>127&&(f=255-f),g>127&&(g=255-g),e[c]=u,e[c+1]=f,e[c+2]=g}while(--a)}while(--s)};Zy.Solarize=Fhe;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.Threshold=void 0;const l3=Ve,Uhe=Ot,Bhe=je,Hhe=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};ex.Threshold=Hhe;l3.Factory.addGetterSetter(Uhe.Node,"threshold",.5,(0,Bhe.getNumberValidator)(),l3.Factory.afterSetFilter);Object.defineProperty(cy,"__esModule",{value:!0});cy.Konva=void 0;const c3=D0,zhe=py,Ghe=yy,$he=wy,Vhe=Sy,Whe=Cy,u3=au,qhe=If,Khe=Pu,Yhe=Pf,Qhe=Ay,Xhe=Ny,Jhe=Ty,Zhe=ky,efe=Mu,tfe=Ry,nfe=Iy,rfe=Dy,ife=jy,sfe=My,ofe=Oy,afe=Ly,lfe=Uy,cfe=By,ufe=Hy,dfe=zy,hfe=Gy,ffe=$y,gfe=Vy,pfe=Wy,mfe=qy,vfe=Ky,yfe=Yy,xfe=Qy,bfe=Jy,wfe=Zy,Sfe=ex;cy.Konva=c3.Konva.Util._assign(c3.Konva,{Arc:zhe.Arc,Arrow:Ghe.Arrow,Circle:$he.Circle,Ellipse:Vhe.Ellipse,Image:Whe.Image,Label:u3.Label,Tag:u3.Tag,Line:qhe.Line,Path:Khe.Path,Rect:Yhe.Rect,RegularPolygon:Qhe.RegularPolygon,Ring:Xhe.Ring,Sprite:Jhe.Sprite,Star:Zhe.Star,Text:efe.Text,TextPath:tfe.TextPath,Transformer:nfe.Transformer,Wedge:rfe.Wedge,Filters:{Blur:ife.Blur,Brighten:sfe.Brighten,Contrast:ofe.Contrast,Emboss:afe.Emboss,Enhance:lfe.Enhance,Grayscale:cfe.Grayscale,HSL:ufe.HSL,HSV:dfe.HSV,Invert:hfe.Invert,Kaleidoscope:ffe.Kaleidoscope,Mask:gfe.Mask,Noise:pfe.Noise,Pixelate:mfe.Pixelate,Posterize:vfe.Posterize,RGB:yfe.RGB,RGBA:xfe.RGBA,Sepia:bfe.Sepia,Solarize:wfe.Solarize,Threshold:Sfe.Threshold}});var Cfe=E7.exports;Object.defineProperty(Cfe,"__esModule",{value:!0});const Efe=cy;E7.exports=Efe.Konva;var uC={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=D0;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=D0;t.exports=r.Konva})(uC,uC.exports);var _fe=uC.exports;const Yh=uu(_fe);var s9={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Afe=function(e){var n={},r=M,i=Md,s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,v=1;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),T=Symbol.iterator;function k(d){return d===null||typeof d!="object"?null:(d=T&&d[T]||d["@@iterator"],typeof d=="function"?d:null)}function I(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case g:return"StrictMode";case C:return"Suspense";case b:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case y:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case x:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case E:return h=d.displayName||null,h!==null?h:I(d.type)||"Memo";case S:h=d._payload,d=d._init;try{return I(d(h))}catch{}}return null}function D(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(h);case 8:return h===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function P(d){var h=d,v=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(v=h.return),d=h.return;while(d)}return h.tag===3?v:null}function R(d){if(P(d)!==d)throw Error(o(188))}function O(d){var h=d.alternate;if(!h){if(h=P(d),h===null)throw Error(o(188));return h!==d?null:d}for(var v=d,w=h;;){var _=v.return;if(_===null)break;var N=_.alternate;if(N===null){if(w=_.return,w!==null){v=w;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===v)return R(_),d;if(N===w)return R(_),h;N=N.sibling}throw Error(o(188))}if(v.return!==w.return)v=_,w=N;else{for(var j=!1,B=_.child;B;){if(B===v){j=!0,v=_,w=N;break}if(B===w){j=!0,w=_,v=N;break}B=B.sibling}if(!j){for(B=N.child;B;){if(B===v){j=!0,v=N,w=_;break}if(B===w){j=!0,w=N,v=_;break}B=B.sibling}if(!j)throw Error(o(189))}}if(v.alternate!==w)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?d:h}function z(d){return d=O(d),d!==null?ae(d):null}function ae(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=ae(d);if(h!==null)return h;d=d.sibling}return null}function Z(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=Z(d);if(h!==null)return h}d=d.sibling}return null}var G=Array.isArray,$=e.getPublicInstance,le=e.getRootHostContext,X=e.getChildHostContext,pe=e.prepareForCommit,te=e.resetAfterCommit,ie=e.createInstance,ue=e.appendInitialChild,Ce=e.finalizeInitialChildren,W=e.prepareUpdate,se=e.shouldSetTextContent,ce=e.createTextInstance,L=e.scheduleTimeout,ne=e.cancelTimeout,me=e.noTimeout,Te=e.isPrimaryRenderer,Ae=e.supportsMutation,et=e.supportsPersistence,Je=e.supportsHydration,Rt=e.getInstanceFromNode,tt=e.preparePortalMount,Qn=e.getCurrentEventPriority,gn=e.detachDeletedInstance,Nr=e.supportsMicrotasks,Ki=e.scheduleMicrotask,Yr=e.supportsTestSelectors,jf=e.findFiberRoot,Mf=e.getBoundingRect,Of=e.getTextContent,co=e.isHiddenSubtree,Lf=e.matchAccessibilityRole,Ff=e.setFocusIfFocusable,Uf=e.setupIntersectionObserver,Bf=e.appendChild,Hf=e.appendChildToContainer,zf=e.commitTextUpdate,Gf=e.commitMount,$f=e.commitUpdate,Vf=e.insertBefore,V=e.insertInContainerBefore,He=e.removeChild,Ra=e.removeChildFromContainer,yi=e.resetTextContent,Yi=e.hideInstance,S9=e.hideTextInstance,C9=e.unhideInstance,E9=e.unhideTextInstance,_9=e.clearContainer,A9=e.cloneInstance,dA=e.createContainerChildSet,hA=e.appendChildToContainerChildSet,N9=e.finalizeContainerChildren,rx=e.replaceContainerChildren,fA=e.cloneHiddenInstance,gA=e.cloneHiddenTextInstance,T9=e.canHydrateInstance,k9=e.canHydrateTextInstance,R9=e.canHydrateSuspenseInstance,pA=e.isSuspenseInstancePending,ix=e.isSuspenseInstanceFallback,I9=e.getSuspenseInstanceFallbackErrorDetails,D9=e.registerSuspenseInstanceRetry,Wf=e.getNextHydratableSibling,P9=e.getFirstHydratableChild,j9=e.getFirstHydratableChildWithinContainer,M9=e.getFirstHydratableChildWithinSuspenseInstance,O9=e.hydrateInstance,L9=e.hydrateTextInstance,F9=e.hydrateSuspenseInstance,U9=e.getNextHydratableInstanceAfterSuspenseInstance,B9=e.commitHydratedContainer,H9=e.commitHydratedSuspenseInstance,z9=e.clearSuspenseBoundary,G9=e.clearSuspenseBoundaryFromContainer,$9=e.shouldDeleteUnhydratedTailInstances,V9=e.didNotMatchHydratedContainerTextInstance,W9=e.didNotMatchHydratedTextInstance,sx;function Ou(d){if(sx===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);sx=h&&h[1]||""}return`
`+sx+d}var ox=!1;function ax(d,h){if(!d||ox)return"";ox=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(fe){var w=fe}Reflect.construct(d,[],h)}else{try{h.call()}catch(fe){w=fe}d.call(h.prototype)}else{try{throw Error()}catch(fe){w=fe}d()}}catch(fe){if(fe&&w&&typeof fe.stack=="string"){for(var _=fe.stack.split(`
`),N=w.stack.split(`
`),j=_.length-1,B=N.length-1;1<=j&&0<=B&&_[j]!==N[B];)B--;for(;1<=j&&0<=B;j--,B--)if(_[j]!==N[B]){if(j!==1||B!==1)do if(j--,B--,0>B||_[j]!==N[B]){var Q=`
`+_[j].replace(" at new "," at ");return d.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",d.displayName)),Q}while(1<=j&&0<=B);break}}}finally{ox=!1,Error.prepareStackTrace=v}return(d=d?d.displayName||d.name:"")?Ou(d):""}var q9=Object.prototype.hasOwnProperty,lx=[],Gl=-1;function uo(d){return{current:d}}function _t(d){0>Gl||(d.current=lx[Gl],lx[Gl]=null,Gl--)}function St(d,h){Gl++,lx[Gl]=d.current,d.current=h}var ho={},Mn=uo(ho),lr=uo(!1),Ia=ho;function $l(d,h){var v=d.type.contextTypes;if(!v)return ho;var w=d.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var _={},N;for(N in v)_[N]=h[N];return w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=_),_}function cr(d){return d=d.childContextTypes,d!=null}function qf(){_t(lr),_t(Mn)}function mA(d,h,v){if(Mn.current!==ho)throw Error(o(168));St(Mn,h),St(lr,v)}function vA(d,h,v){var w=d.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var _ in w)if(!(_ in h))throw Error(o(108,D(d)||"Unknown",_));return s({},v,w)}function Kf(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ho,Ia=Mn.current,St(Mn,d),St(lr,lr.current),!0}function yA(d,h,v){var w=d.stateNode;if(!w)throw Error(o(169));v?(d=vA(d,h,Ia),w.__reactInternalMemoizedMergedChildContext=d,_t(lr),_t(Mn),St(Mn,d)):_t(lr),St(lr,v)}var xi=Math.clz32?Math.clz32:Q9,K9=Math.log,Y9=Math.LN2;function Q9(d){return d>>>=0,d===0?32:31-(K9(d)/Y9|0)|0}var Yf=64,Qf=4194304;function Lu(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Xf(d,h){var v=d.pendingLanes;if(v===0)return 0;var w=0,_=d.suspendedLanes,N=d.pingedLanes,j=v&268435455;if(j!==0){var B=j&~_;B!==0?w=Lu(B):(N&=j,N!==0&&(w=Lu(N)))}else j=v&~_,j!==0?w=Lu(j):N!==0&&(w=Lu(N));if(w===0)return 0;if(h!==0&&h!==w&&!(h&_)&&(_=w&-w,N=h&-h,_>=N||_===16&&(N&4194240)!==0))return h;if(w&4&&(w|=v&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=w;0<h;)v=31-xi(h),_=1<<v,w|=d[v],h&=~_;return w}function X9(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J9(d,h){for(var v=d.suspendedLanes,w=d.pingedLanes,_=d.expirationTimes,N=d.pendingLanes;0<N;){var j=31-xi(N),B=1<<j,Q=_[j];Q===-1?(!(B&v)||B&w)&&(_[j]=X9(B,h)):Q<=h&&(d.expiredLanes|=B),N&=~B}}function cx(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function xA(){var d=Yf;return Yf<<=1,!(Yf&4194240)&&(Yf=64),d}function ux(d){for(var h=[],v=0;31>v;v++)h.push(d);return h}function Fu(d,h,v){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-xi(h),d[h]=v}function Z9(d,h){var v=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var w=d.eventTimes;for(d=d.expirationTimes;0<v;){var _=31-xi(v),N=1<<_;h[_]=0,w[_]=-1,d[_]=-1,v&=~N}}function dx(d,h){var v=d.entangledLanes|=h;for(d=d.entanglements;v;){var w=31-xi(v),_=1<<w;_&h|d[w]&h&&(d[w]|=h),v&=~_}}var it=0;function bA(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var hx=i.unstable_scheduleCallback,wA=i.unstable_cancelCallback,eL=i.unstable_shouldYield,tL=i.unstable_requestPaint,pn=i.unstable_now,fx=i.unstable_ImmediatePriority,nL=i.unstable_UserBlockingPriority,gx=i.unstable_NormalPriority,rL=i.unstable_IdlePriority,Jf=null,Qi=null;function iL(d){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(Jf,d,void 0,(d.current.flags&128)===128)}catch{}}function sL(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var bi=typeof Object.is=="function"?Object.is:sL,Cs=null,Zf=!1,px=!1;function SA(d){Cs===null?Cs=[d]:Cs.push(d)}function oL(d){Zf=!0,SA(d)}function Xi(){if(!px&&Cs!==null){px=!0;var d=0,h=it;try{var v=Cs;for(it=1;d<v.length;d++){var w=v[d];do w=w(!0);while(w!==null)}Cs=null,Zf=!1}catch(_){throw Cs!==null&&(Cs=Cs.slice(d+1)),hx(fx,Xi),_}finally{it=h,px=!1}}return null}var Vl=[],Wl=0,eg=null,tg=0,Qr=[],Xr=0,Da=null,Es=1,_s="";function Pa(d,h){Vl[Wl++]=tg,Vl[Wl++]=eg,eg=d,tg=h}function CA(d,h,v){Qr[Xr++]=Es,Qr[Xr++]=_s,Qr[Xr++]=Da,Da=d;var w=Es;d=_s;var _=32-xi(w)-1;w&=~(1<<_),v+=1;var N=32-xi(h)+_;if(30<N){var j=_-_%5;N=(w&(1<<j)-1).toString(32),w>>=j,_-=j,Es=1<<32-xi(h)+_|v<<_|w,_s=N+d}else Es=1<<N|v<<_|w,_s=d}function mx(d){d.return!==null&&(Pa(d,1),CA(d,1,0))}function vx(d){for(;d===eg;)eg=Vl[--Wl],Vl[Wl]=null,tg=Vl[--Wl],Vl[Wl]=null;for(;d===Da;)Da=Qr[--Xr],Qr[Xr]=null,_s=Qr[--Xr],Qr[Xr]=null,Es=Qr[--Xr],Qr[Xr]=null}var Tr=null,Jr=null,It=!1,Uu=!1,wi=null;function EA(d,h){var v=ri(5,null,null,0);v.elementType="DELETED",v.stateNode=h,v.return=d,h=d.deletions,h===null?(d.deletions=[v],d.flags|=16):h.push(v)}function _A(d,h){switch(d.tag){case 5:return h=T9(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,Tr=d,Jr=P9(h),!0):!1;case 6:return h=k9(h,d.pendingProps),h!==null?(d.stateNode=h,Tr=d,Jr=null,!0):!1;case 13:if(h=R9(h),h!==null){var v=Da!==null?{id:Es,overflow:_s}:null;return d.memoizedState={dehydrated:h,treeContext:v,retryLane:1073741824},v=ri(18,null,null,0),v.stateNode=h,v.return=d,d.child=v,Tr=d,Jr=null,!0}return!1;default:return!1}}function yx(d){return(d.mode&1)!==0&&(d.flags&128)===0}function xx(d){if(It){var h=Jr;if(h){var v=h;if(!_A(d,h)){if(yx(d))throw Error(o(418));h=Wf(v);var w=Tr;h&&_A(d,h)?EA(w,v):(d.flags=d.flags&-4097|2,It=!1,Tr=d)}}else{if(yx(d))throw Error(o(418));d.flags=d.flags&-4097|2,It=!1,Tr=d}}}function AA(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Tr=d}function ng(d){if(!Je||d!==Tr)return!1;if(!It)return AA(d),It=!0,!1;if(d.tag!==3&&(d.tag!==5||$9(d.type)&&!se(d.type,d.memoizedProps))){var h=Jr;if(h){if(yx(d))throw NA(),Error(o(418));for(;h;)EA(d,h),h=Wf(h)}}if(AA(d),d.tag===13){if(!Je)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Jr=U9(d)}else Jr=Tr?Wf(d.stateNode):null;return!0}function NA(){for(var d=Jr;d;)d=Wf(d)}function ql(){Je&&(Jr=Tr=null,Uu=It=!1)}function bx(d){wi===null?wi=[d]:wi.push(d)}var aL=a.ReactCurrentBatchConfig;function rg(d,h){if(bi(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var v=Object.keys(d),w=Object.keys(h);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var _=v[w];if(!q9.call(h,_)||!bi(d[_],h[_]))return!1}return!0}function lL(d){switch(d.tag){case 5:return Ou(d.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 2:case 15:return d=ax(d.type,!1),d;case 11:return d=ax(d.type.render,!1),d;case 1:return d=ax(d.type,!0),d;default:return""}}function Bu(d,h,v){if(d=v.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var w=v.stateNode}if(!w)throw Error(o(147,d));var _=w,N=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===N?h.ref:(h=function(j){var B=_.refs;j===null?delete B[N]:B[N]=j},h._stringRef=N,h)}if(typeof d!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,d))}return d}function ig(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function TA(d){var h=d._init;return h(d._payload)}function kA(d){function h(K,H){if(d){var ee=K.deletions;ee===null?(K.deletions=[H],K.flags|=16):ee.push(H)}}function v(K,H){if(!d)return null;for(;H!==null;)h(K,H),H=H.sibling;return null}function w(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function _(K,H){return K=xo(K,H),K.index=0,K.sibling=null,K}function N(K,H,ee){return K.index=ee,d?(ee=K.alternate,ee!==null?(ee=ee.index,ee<H?(K.flags|=2,H):ee):(K.flags|=2,H)):(K.flags|=1048576,H)}function j(K){return d&&K.alternate===null&&(K.flags|=2),K}function B(K,H,ee,xe){return H===null||H.tag!==6?(H=pb(ee,K.mode,xe),H.return=K,H):(H=_(H,ee),H.return=K,H)}function Q(K,H,ee,xe){var Re=ee.type;return Re===f?Ee(K,H,ee.props.children,xe,ee.key):H!==null&&(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===S&&TA(Re)===H.type)?(xe=_(H,ee.props),xe.ref=Bu(K,H,ee),xe.return=K,xe):(xe=Mg(ee.type,ee.key,ee.props,null,K.mode,xe),xe.ref=Bu(K,H,ee),xe.return=K,xe)}function fe(K,H,ee,xe){return H===null||H.tag!==4||H.stateNode.containerInfo!==ee.containerInfo||H.stateNode.implementation!==ee.implementation?(H=mb(ee,K.mode,xe),H.return=K,H):(H=_(H,ee.children||[]),H.return=K,H)}function Ee(K,H,ee,xe,Re){return H===null||H.tag!==7?(H=Ba(ee,K.mode,xe,Re),H.return=K,H):(H=_(H,ee),H.return=K,H)}function Fe(K,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return H=pb(""+H,K.mode,ee),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case c:return ee=Mg(H.type,H.key,H.props,null,K.mode,ee),ee.ref=Bu(K,null,H),ee.return=K,ee;case u:return H=mb(H,K.mode,ee),H.return=K,H;case S:var xe=H._init;return Fe(K,xe(H._payload),ee)}if(G(H)||k(H))return H=Ba(H,K.mode,ee,null),H.return=K,H;ig(K,H)}return null}function ve(K,H,ee,xe){var Re=H!==null?H.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Re!==null?null:B(K,H,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:return ee.key===Re?Q(K,H,ee,xe):null;case u:return ee.key===Re?fe(K,H,ee,xe):null;case S:return Re=ee._init,ve(K,H,Re(ee._payload),xe)}if(G(ee)||k(ee))return Re!==null?null:Ee(K,H,ee,xe,null);ig(K,ee)}return null}function At(K,H,ee,xe,Re){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return K=K.get(ee)||null,B(H,K,""+xe,Re);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case c:return K=K.get(xe.key===null?ee:xe.key)||null,Q(H,K,xe,Re);case u:return K=K.get(xe.key===null?ee:xe.key)||null,fe(H,K,xe,Re);case S:var ze=xe._init;return At(K,H,ee,ze(xe._payload),Re)}if(G(xe)||k(xe))return K=K.get(ee)||null,Ee(H,K,xe,Re,null);ig(H,xe)}return null}function yt(K,H,ee,xe){for(var Re=null,ze=null,Ue=H,st=H=0,yn=null;Ue!==null&&st<ee.length;st++){Ue.index>st?(yn=Ue,Ue=null):yn=Ue.sibling;var ot=ve(K,Ue,ee[st],xe);if(ot===null){Ue===null&&(Ue=yn);break}d&&Ue&&ot.alternate===null&&h(K,Ue),H=N(ot,H,st),ze===null?Re=ot:ze.sibling=ot,ze=ot,Ue=yn}if(st===ee.length)return v(K,Ue),It&&Pa(K,st),Re;if(Ue===null){for(;st<ee.length;st++)Ue=Fe(K,ee[st],xe),Ue!==null&&(H=N(Ue,H,st),ze===null?Re=Ue:ze.sibling=Ue,ze=Ue);return It&&Pa(K,st),Re}for(Ue=w(K,Ue);st<ee.length;st++)yn=At(Ue,K,st,ee[st],xe),yn!==null&&(d&&yn.alternate!==null&&Ue.delete(yn.key===null?st:yn.key),H=N(yn,H,st),ze===null?Re=yn:ze.sibling=yn,ze=yn);return d&&Ue.forEach(function(bo){return h(K,bo)}),It&&Pa(K,st),Re}function fr(K,H,ee,xe){var Re=k(ee);if(typeof Re!="function")throw Error(o(150));if(ee=Re.call(ee),ee==null)throw Error(o(151));for(var ze=Re=null,Ue=H,st=H=0,yn=null,ot=ee.next();Ue!==null&&!ot.done;st++,ot=ee.next()){Ue.index>st?(yn=Ue,Ue=null):yn=Ue.sibling;var bo=ve(K,Ue,ot.value,xe);if(bo===null){Ue===null&&(Ue=yn);break}d&&Ue&&bo.alternate===null&&h(K,Ue),H=N(bo,H,st),ze===null?Re=bo:ze.sibling=bo,ze=bo,Ue=yn}if(ot.done)return v(K,Ue),It&&Pa(K,st),Re;if(Ue===null){for(;!ot.done;st++,ot=ee.next())ot=Fe(K,ot.value,xe),ot!==null&&(H=N(ot,H,st),ze===null?Re=ot:ze.sibling=ot,ze=ot);return It&&Pa(K,st),Re}for(Ue=w(K,Ue);!ot.done;st++,ot=ee.next())ot=At(Ue,K,st,ot.value,xe),ot!==null&&(d&&ot.alternate!==null&&Ue.delete(ot.key===null?st:ot.key),H=N(ot,H,st),ze===null?Re=ot:ze.sibling=ot,ze=ot);return d&&Ue.forEach(function(FL){return h(K,FL)}),It&&Pa(K,st),Re}function ks(K,H,ee,xe){if(typeof ee=="object"&&ee!==null&&ee.type===f&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case c:e:{for(var Re=ee.key,ze=H;ze!==null;){if(ze.key===Re){if(Re=ee.type,Re===f){if(ze.tag===7){v(K,ze.sibling),H=_(ze,ee.props.children),H.return=K,K=H;break e}}else if(ze.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===S&&TA(Re)===ze.type){v(K,ze.sibling),H=_(ze,ee.props),H.ref=Bu(K,ze,ee),H.return=K,K=H;break e}v(K,ze);break}else h(K,ze);ze=ze.sibling}ee.type===f?(H=Ba(ee.props.children,K.mode,xe,ee.key),H.return=K,K=H):(xe=Mg(ee.type,ee.key,ee.props,null,K.mode,xe),xe.ref=Bu(K,H,ee),xe.return=K,K=xe)}return j(K);case u:e:{for(ze=ee.key;H!==null;){if(H.key===ze)if(H.tag===4&&H.stateNode.containerInfo===ee.containerInfo&&H.stateNode.implementation===ee.implementation){v(K,H.sibling),H=_(H,ee.children||[]),H.return=K,K=H;break e}else{v(K,H);break}else h(K,H);H=H.sibling}H=mb(ee,K.mode,xe),H.return=K,K=H}return j(K);case S:return ze=ee._init,ks(K,H,ze(ee._payload),xe)}if(G(ee))return yt(K,H,ee,xe);if(k(ee))return fr(K,H,ee,xe);ig(K,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,H!==null&&H.tag===6?(v(K,H.sibling),H=_(H,ee),H.return=K,K=H):(v(K,H),H=pb(ee,K.mode,xe),H.return=K,K=H),j(K)):v(K,H)}return ks}var Kl=kA(!0),RA=kA(!1),sg=uo(null),og=null,Yl=null,wx=null;function Sx(){wx=Yl=og=null}function IA(d,h,v){Te?(St(sg,h._currentValue),h._currentValue=v):(St(sg,h._currentValue2),h._currentValue2=v)}function Cx(d){var h=sg.current;_t(sg),Te?d._currentValue=h:d._currentValue2=h}function Ex(d,h,v){for(;d!==null;){var w=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),d===v)break;d=d.return}}function Ql(d,h){og=d,wx=Yl=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(ur=!0),d.firstContext=null)}function Zr(d){var h=Te?d._currentValue:d._currentValue2;if(wx!==d)if(d={context:d,memoizedValue:h,next:null},Yl===null){if(og===null)throw Error(o(308));Yl=d,og.dependencies={lanes:0,firstContext:d}}else Yl=Yl.next=d;return h}var ja=null;function _x(d){ja===null?ja=[d]:ja.push(d)}function DA(d,h,v,w){var _=h.interleaved;return _===null?(v.next=v,_x(h)):(v.next=_.next,_.next=v),h.interleaved=v,Ji(d,w)}function Ji(d,h){d.lanes|=h;var v=d.alternate;for(v!==null&&(v.lanes|=h),v=d,d=d.return;d!==null;)d.childLanes|=h,v=d.alternate,v!==null&&(v.childLanes|=h),v=d,d=d.return;return v.tag===3?v.stateNode:null}var fo=!1;function Ax(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PA(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function As(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function go(d,h,v){var w=d.updateQueue;if(w===null)return null;if(w=w.shared,We&2){var _=w.pending;return _===null?h.next=h:(h.next=_.next,_.next=h),w.pending=h,Ji(d,v)}return _=w.interleaved,_===null?(h.next=h,_x(w)):(h.next=_.next,_.next=h),w.interleaved=h,Ji(d,v)}function ag(d,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194240)!==0)){var w=h.lanes;w&=d.pendingLanes,v|=w,h.lanes=v,dx(d,v)}}function jA(d,h){var v=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var _=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var j={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};N===null?_=N=j:N=N.next=j,v=v.next}while(v!==null);N===null?_=N=h:N=N.next=h}else _=N=h;v={baseState:w.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:w.shared,effects:w.effects},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=h:d.next=h,v.lastBaseUpdate=h}function lg(d,h,v,w){var _=d.updateQueue;fo=!1;var N=_.firstBaseUpdate,j=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var Q=B,fe=Q.next;Q.next=null,j===null?N=fe:j.next=fe,j=Q;var Ee=d.alternate;Ee!==null&&(Ee=Ee.updateQueue,B=Ee.lastBaseUpdate,B!==j&&(B===null?Ee.firstBaseUpdate=fe:B.next=fe,Ee.lastBaseUpdate=Q))}if(N!==null){var Fe=_.baseState;j=0,Ee=fe=Q=null,B=N;do{var ve=B.lane,At=B.eventTime;if((w&ve)===ve){Ee!==null&&(Ee=Ee.next={eventTime:At,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var yt=d,fr=B;switch(ve=h,At=v,fr.tag){case 1:if(yt=fr.payload,typeof yt=="function"){Fe=yt.call(At,Fe,ve);break e}Fe=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=fr.payload,ve=typeof yt=="function"?yt.call(At,Fe,ve):yt,ve==null)break e;Fe=s({},Fe,ve);break e;case 2:fo=!0}}B.callback!==null&&B.lane!==0&&(d.flags|=64,ve=_.effects,ve===null?_.effects=[B]:ve.push(B))}else At={eventTime:At,lane:ve,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ee===null?(fe=Ee=At,Q=Fe):Ee=Ee.next=At,j|=ve;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;ve=B,B=ve.next,ve.next=null,_.lastBaseUpdate=ve,_.shared.pending=null}}while(!0);if(Ee===null&&(Q=Fe),_.baseState=Q,_.firstBaseUpdate=fe,_.lastBaseUpdate=Ee,h=_.shared.interleaved,h!==null){_=h;do j|=_.lane,_=_.next;while(_!==h)}else N===null&&(_.shared.lanes=0);Oa|=j,d.lanes=j,d.memoizedState=Fe}}function MA(d,h,v){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var w=d[h],_=w.callback;if(_!==null){if(w.callback=null,w=v,typeof _!="function")throw Error(o(191,_));_.call(w)}}}var Hu={},ei=uo(Hu),zu=uo(Hu),Xl=uo(Hu);function Zi(d){if(d===Hu)throw Error(o(174));return d}function Nx(d,h){St(Xl,h),St(zu,d),St(ei,Hu),d=le(h),_t(ei),St(ei,d)}function Jl(){_t(ei),_t(zu),_t(Xl)}function OA(d){var h=Zi(Xl.current),v=Zi(ei.current);h=X(v,d.type,h),v!==h&&(St(zu,d),St(ei,h))}function Tx(d){zu.current===d&&(_t(ei),_t(zu))}var Lt=uo(0);function cg(d){for(var h=d;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||pA(v)||ix(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var kx=[];function Rx(){for(var d=0;d<kx.length;d++){var h=kx[d];Te?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}kx.length=0}var ug=a.ReactCurrentDispatcher,Ix=a.ReactCurrentBatchConfig,Ma=0,Ft=null,rn=null,mn=null,dg=!1,Gu=!1,$u=0,cL=0;function On(){throw Error(o(321))}function Dx(d,h){if(h===null)return!1;for(var v=0;v<h.length&&v<d.length;v++)if(!bi(d[v],h[v]))return!1;return!0}function Px(d,h,v,w,_,N){if(Ma=N,Ft=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ug.current=d===null||d.memoizedState===null?fL:gL,d=v(w,_),Gu){N=0;do{if(Gu=!1,$u=0,25<=N)throw Error(o(301));N+=1,mn=rn=null,h.updateQueue=null,ug.current=pL,d=v(w,_)}while(Gu)}if(ug.current=gg,h=rn!==null&&rn.next!==null,Ma=0,mn=rn=Ft=null,dg=!1,h)throw Error(o(300));return d}function jx(){var d=$u!==0;return $u=0,d}function es(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ft.memoizedState=mn=d:mn=mn.next=d,mn}function ti(){if(rn===null){var d=Ft.alternate;d=d!==null?d.memoizedState:null}else d=rn.next;var h=mn===null?Ft.memoizedState:mn.next;if(h!==null)mn=h,rn=d;else{if(d===null)throw Error(o(310));rn=d,d={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},mn===null?Ft.memoizedState=mn=d:mn=mn.next=d}return mn}function Vu(d,h){return typeof h=="function"?h(d):h}function Mx(d){var h=ti(),v=h.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=d;var w=rn,_=w.baseQueue,N=v.pending;if(N!==null){if(_!==null){var j=_.next;_.next=N.next,N.next=j}w.baseQueue=_=N,v.pending=null}if(_!==null){N=_.next,w=w.baseState;var B=j=null,Q=null,fe=N;do{var Ee=fe.lane;if((Ma&Ee)===Ee)Q!==null&&(Q=Q.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),w=fe.hasEagerState?fe.eagerState:d(w,fe.action);else{var Fe={lane:Ee,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};Q===null?(B=Q=Fe,j=w):Q=Q.next=Fe,Ft.lanes|=Ee,Oa|=Ee}fe=fe.next}while(fe!==null&&fe!==N);Q===null?j=w:Q.next=B,bi(w,h.memoizedState)||(ur=!0),h.memoizedState=w,h.baseState=j,h.baseQueue=Q,v.lastRenderedState=w}if(d=v.interleaved,d!==null){_=d;do N=_.lane,Ft.lanes|=N,Oa|=N,_=_.next;while(_!==d)}else _===null&&(v.lanes=0);return[h.memoizedState,v.dispatch]}function Ox(d){var h=ti(),v=h.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=d;var w=v.dispatch,_=v.pending,N=h.memoizedState;if(_!==null){v.pending=null;var j=_=_.next;do N=d(N,j.action),j=j.next;while(j!==_);bi(N,h.memoizedState)||(ur=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),v.lastRenderedState=N}return[N,w]}function LA(){}function FA(d,h){var v=Ft,w=ti(),_=h(),N=!bi(w.memoizedState,_);if(N&&(w.memoizedState=_,ur=!0),w=w.queue,Lx(HA.bind(null,v,w,d),[d]),w.getSnapshot!==h||N||mn!==null&&mn.memoizedState.tag&1){if(v.flags|=2048,Wu(9,BA.bind(null,v,w,_,h),void 0,null),vn===null)throw Error(o(349));Ma&30||UA(v,h,_)}return _}function UA(d,h,v){d.flags|=16384,d={getSnapshot:h,value:v},h=Ft.updateQueue,h===null?(h={lastEffect:null,stores:null},Ft.updateQueue=h,h.stores=[d]):(v=h.stores,v===null?h.stores=[d]:v.push(d))}function BA(d,h,v,w){h.value=v,h.getSnapshot=w,zA(h)&&GA(d)}function HA(d,h,v){return v(function(){zA(h)&&GA(d)})}function zA(d){var h=d.getSnapshot;d=d.value;try{var v=h();return!bi(d,v)}catch{return!0}}function GA(d){var h=Ji(d,1);h!==null&&ni(h,d,1,-1)}function $A(d){var h=es();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:d},h.queue=d,d=d.dispatch=hL.bind(null,Ft,d),[h.memoizedState,d]}function Wu(d,h,v,w){return d={tag:d,create:h,destroy:v,deps:w,next:null},h=Ft.updateQueue,h===null?(h={lastEffect:null,stores:null},Ft.updateQueue=h,h.lastEffect=d.next=d):(v=h.lastEffect,v===null?h.lastEffect=d.next=d:(w=v.next,v.next=d,d.next=w,h.lastEffect=d)),d}function VA(){return ti().memoizedState}function hg(d,h,v,w){var _=es();Ft.flags|=d,_.memoizedState=Wu(1|h,v,void 0,w===void 0?null:w)}function fg(d,h,v,w){var _=ti();w=w===void 0?null:w;var N=void 0;if(rn!==null){var j=rn.memoizedState;if(N=j.destroy,w!==null&&Dx(w,j.deps)){_.memoizedState=Wu(h,v,N,w);return}}Ft.flags|=d,_.memoizedState=Wu(1|h,v,N,w)}function WA(d,h){return hg(8390656,8,d,h)}function Lx(d,h){return fg(2048,8,d,h)}function qA(d,h){return fg(4,2,d,h)}function KA(d,h){return fg(4,4,d,h)}function YA(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function QA(d,h,v){return v=v!=null?v.concat([d]):null,fg(4,4,YA.bind(null,h,d),v)}function Fx(){}function XA(d,h){var v=ti();h=h===void 0?null:h;var w=v.memoizedState;return w!==null&&h!==null&&Dx(h,w[1])?w[0]:(v.memoizedState=[d,h],d)}function JA(d,h){var v=ti();h=h===void 0?null:h;var w=v.memoizedState;return w!==null&&h!==null&&Dx(h,w[1])?w[0]:(d=d(),v.memoizedState=[d,h],d)}function ZA(d,h,v){return Ma&21?(bi(v,h)||(v=xA(),Ft.lanes|=v,Oa|=v,d.baseState=!0),h):(d.baseState&&(d.baseState=!1,ur=!0),d.memoizedState=v)}function uL(d,h){var v=it;it=v!==0&&4>v?v:4,d(!0);var w=Ix.transition;Ix.transition={};try{d(!1),h()}finally{it=v,Ix.transition=w}}function eN(){return ti().memoizedState}function dL(d,h,v){var w=vo(d);if(v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},tN(d))nN(h,v);else if(v=DA(d,h,v,w),v!==null){var _=Un();ni(v,d,w,_),rN(v,h,w)}}function hL(d,h,v){var w=vo(d),_={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(tN(d))nN(h,_);else{var N=d.alternate;if(d.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var j=h.lastRenderedState,B=N(j,v);if(_.hasEagerState=!0,_.eagerState=B,bi(B,j)){var Q=h.interleaved;Q===null?(_.next=_,_x(h)):(_.next=Q.next,Q.next=_),h.interleaved=_;return}}catch{}finally{}v=DA(d,h,_,w),v!==null&&(_=Un(),ni(v,d,w,_),rN(v,h,w))}}function tN(d){var h=d.alternate;return d===Ft||h!==null&&h===Ft}function nN(d,h){Gu=dg=!0;var v=d.pending;v===null?h.next=h:(h.next=v.next,v.next=h),d.pending=h}function rN(d,h,v){if(v&4194240){var w=h.lanes;w&=d.pendingLanes,v|=w,h.lanes=v,dx(d,v)}}var gg={readContext:Zr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},fL={readContext:Zr,useCallback:function(d,h){return es().memoizedState=[d,h===void 0?null:h],d},useContext:Zr,useEffect:WA,useImperativeHandle:function(d,h,v){return v=v!=null?v.concat([d]):null,hg(4194308,4,YA.bind(null,h,d),v)},useLayoutEffect:function(d,h){return hg(4194308,4,d,h)},useInsertionEffect:function(d,h){return hg(4,2,d,h)},useMemo:function(d,h){var v=es();return h=h===void 0?null:h,d=d(),v.memoizedState=[d,h],d},useReducer:function(d,h,v){var w=es();return h=v!==void 0?v(h):h,w.memoizedState=w.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},w.queue=d,d=d.dispatch=dL.bind(null,Ft,d),[w.memoizedState,d]},useRef:function(d){var h=es();return d={current:d},h.memoizedState=d},useState:$A,useDebugValue:Fx,useDeferredValue:function(d){return es().memoizedState=d},useTransition:function(){var d=$A(!1),h=d[0];return d=uL.bind(null,d[1]),es().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,v){var w=Ft,_=es();if(It){if(v===void 0)throw Error(o(407));v=v()}else{if(v=h(),vn===null)throw Error(o(349));Ma&30||UA(w,h,v)}_.memoizedState=v;var N={value:v,getSnapshot:h};return _.queue=N,WA(HA.bind(null,w,N,d),[d]),w.flags|=2048,Wu(9,BA.bind(null,w,N,v,h),void 0,null),v},useId:function(){var d=es(),h=vn.identifierPrefix;if(It){var v=_s,w=Es;v=(w&~(1<<32-xi(w)-1)).toString(32)+v,h=":"+h+"R"+v,v=$u++,0<v&&(h+="H"+v.toString(32)),h+=":"}else v=cL++,h=":"+h+"r"+v.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},gL={readContext:Zr,useCallback:XA,useContext:Zr,useEffect:Lx,useImperativeHandle:QA,useInsertionEffect:qA,useLayoutEffect:KA,useMemo:JA,useReducer:Mx,useRef:VA,useState:function(){return Mx(Vu)},useDebugValue:Fx,useDeferredValue:function(d){var h=ti();return ZA(h,rn.memoizedState,d)},useTransition:function(){var d=Mx(Vu)[0],h=ti().memoizedState;return[d,h]},useMutableSource:LA,useSyncExternalStore:FA,useId:eN,unstable_isNewReconciler:!1},pL={readContext:Zr,useCallback:XA,useContext:Zr,useEffect:Lx,useImperativeHandle:QA,useInsertionEffect:qA,useLayoutEffect:KA,useMemo:JA,useReducer:Ox,useRef:VA,useState:function(){return Ox(Vu)},useDebugValue:Fx,useDeferredValue:function(d){var h=ti();return rn===null?h.memoizedState=d:ZA(h,rn.memoizedState,d)},useTransition:function(){var d=Ox(Vu)[0],h=ti().memoizedState;return[d,h]},useMutableSource:LA,useSyncExternalStore:FA,useId:eN,unstable_isNewReconciler:!1};function Si(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var v in d)h[v]===void 0&&(h[v]=d[v]);return h}return h}function Ux(d,h,v,w){h=d.memoizedState,v=v(w,h),v=v==null?h:s({},h,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var pg={isMounted:function(d){return(d=d._reactInternals)?P(d)===d:!1},enqueueSetState:function(d,h,v){d=d._reactInternals;var w=Un(),_=vo(d),N=As(w,_);N.payload=h,v!=null&&(N.callback=v),h=go(d,N,_),h!==null&&(ni(h,d,_,w),ag(h,d,_))},enqueueReplaceState:function(d,h,v){d=d._reactInternals;var w=Un(),_=vo(d),N=As(w,_);N.tag=1,N.payload=h,v!=null&&(N.callback=v),h=go(d,N,_),h!==null&&(ni(h,d,_,w),ag(h,d,_))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var v=Un(),w=vo(d),_=As(v,w);_.tag=2,h!=null&&(_.callback=h),h=go(d,_,w),h!==null&&(ni(h,d,w,v),ag(h,d,w))}};function iN(d,h,v,w,_,N,j){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,N,j):h.prototype&&h.prototype.isPureReactComponent?!rg(v,w)||!rg(_,N):!0}function sN(d,h,v){var w=!1,_=ho,N=h.contextType;return typeof N=="object"&&N!==null?N=Zr(N):(_=cr(h)?Ia:Mn.current,w=h.contextTypes,N=(w=w!=null)?$l(d,_):ho),h=new h(v,N),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=pg,d.stateNode=h,h._reactInternals=d,w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=_,d.__reactInternalMemoizedMaskedChildContext=N),h}function oN(d,h,v,w){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,w),h.state!==d&&pg.enqueueReplaceState(h,h.state,null)}function Bx(d,h,v,w){var _=d.stateNode;_.props=v,_.state=d.memoizedState,_.refs={},Ax(d);var N=h.contextType;typeof N=="object"&&N!==null?_.context=Zr(N):(N=cr(h)?Ia:Mn.current,_.context=$l(d,N)),_.state=d.memoizedState,N=h.getDerivedStateFromProps,typeof N=="function"&&(Ux(d,h,N,v),_.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(h=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),h!==_.state&&pg.enqueueReplaceState(_,_.state,null),lg(d,v,_,w),_.state=d.memoizedState),typeof _.componentDidMount=="function"&&(d.flags|=4194308)}function Zl(d,h){try{var v="",w=h;do v+=lL(w),w=w.return;while(w);var _=v}catch(N){_=`
Error generating stack: `+N.message+`
`+N.stack}return{value:d,source:h,stack:_,digest:null}}function Hx(d,h,v){return{value:d,source:null,stack:v??null,digest:h??null}}function zx(d,h){try{console.error(h.value)}catch(v){setTimeout(function(){throw v})}}var mL=typeof WeakMap=="function"?WeakMap:Map;function aN(d,h,v){v=As(-1,v),v.tag=3,v.payload={element:null};var w=h.value;return v.callback=function(){kg||(kg=!0,lb=w),zx(d,h)},v}function lN(d,h,v){v=As(-1,v),v.tag=3;var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var _=h.value;v.payload=function(){return w(_)},v.callback=function(){zx(d,h)}}var N=d.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(v.callback=function(){zx(d,h),typeof w!="function"&&(po===null?po=new Set([this]):po.add(this));var j=h.stack;this.componentDidCatch(h.value,{componentStack:j!==null?j:""})}),v}function cN(d,h,v){var w=d.pingCache;if(w===null){w=d.pingCache=new mL;var _=new Set;w.set(h,_)}else _=w.get(h),_===void 0&&(_=new Set,w.set(h,_));_.has(v)||(_.add(v),d=RL.bind(null,d,h,v),h.then(d,d))}function uN(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function dN(d,h,v,w,_){return d.mode&1?(d.flags|=65536,d.lanes=_,d):(d===h?d.flags|=65536:(d.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(h=As(-1,1),h.tag=2,go(v,h,1))),v.lanes|=1),d)}var vL=a.ReactCurrentOwner,ur=!1;function Xn(d,h,v,w){h.child=d===null?RA(h,null,v,w):Kl(h,d.child,v,w)}function hN(d,h,v,w,_){v=v.render;var N=h.ref;return Ql(h,_),w=Px(d,h,v,w,N,_),v=jx(),d!==null&&!ur?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~_,Ns(d,h,_)):(It&&v&&mx(h),h.flags|=1,Xn(d,h,w,_),h.child)}function fN(d,h,v,w,_){if(d===null){var N=v.type;return typeof N=="function"&&!gb(N)&&N.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(h.tag=15,h.type=N,gN(d,h,N,w,_)):(d=Mg(v.type,null,w,h,h.mode,_),d.ref=h.ref,d.return=h,h.child=d)}if(N=d.child,!(d.lanes&_)){var j=N.memoizedProps;if(v=v.compare,v=v!==null?v:rg,v(j,w)&&d.ref===h.ref)return Ns(d,h,_)}return h.flags|=1,d=xo(N,w),d.ref=h.ref,d.return=h,h.child=d}function gN(d,h,v,w,_){if(d!==null){var N=d.memoizedProps;if(rg(N,w)&&d.ref===h.ref)if(ur=!1,h.pendingProps=w=N,(d.lanes&_)!==0)d.flags&131072&&(ur=!0);else return h.lanes=d.lanes,Ns(d,h,_)}return Gx(d,h,v,w,_)}function pN(d,h,v){var w=h.pendingProps,_=w.children,N=d!==null?d.memoizedState:null;if(w.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(tc,kr),kr|=v;else{if(!(v&1073741824))return d=N!==null?N.baseLanes|v:v,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null,transitions:null},h.updateQueue=null,St(tc,kr),kr|=d,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=N!==null?N.baseLanes:v,St(tc,kr),kr|=w}else N!==null?(w=N.baseLanes|v,h.memoizedState=null):w=v,St(tc,kr),kr|=w;return Xn(d,h,_,v),h.child}function mN(d,h){var v=h.ref;(d===null&&v!==null||d!==null&&d.ref!==v)&&(h.flags|=512,h.flags|=2097152)}function Gx(d,h,v,w,_){var N=cr(v)?Ia:Mn.current;return N=$l(h,N),Ql(h,_),v=Px(d,h,v,w,N,_),w=jx(),d!==null&&!ur?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~_,Ns(d,h,_)):(It&&w&&mx(h),h.flags|=1,Xn(d,h,v,_),h.child)}function vN(d,h,v,w,_){if(cr(v)){var N=!0;Kf(h)}else N=!1;if(Ql(h,_),h.stateNode===null)vg(d,h),sN(h,v,w),Bx(h,v,w,_),w=!0;else if(d===null){var j=h.stateNode,B=h.memoizedProps;j.props=B;var Q=j.context,fe=v.contextType;typeof fe=="object"&&fe!==null?fe=Zr(fe):(fe=cr(v)?Ia:Mn.current,fe=$l(h,fe));var Ee=v.getDerivedStateFromProps,Fe=typeof Ee=="function"||typeof j.getSnapshotBeforeUpdate=="function";Fe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(B!==w||Q!==fe)&&oN(h,j,w,fe),fo=!1;var ve=h.memoizedState;j.state=ve,lg(h,w,j,_),Q=h.memoizedState,B!==w||ve!==Q||lr.current||fo?(typeof Ee=="function"&&(Ux(h,v,Ee,w),Q=h.memoizedState),(B=fo||iN(h,v,B,w,ve,Q,fe))?(Fe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(h.flags|=4194308)):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Q),j.props=w,j.state=Q,j.context=fe,w=B):(typeof j.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{j=h.stateNode,PA(d,h),B=h.memoizedProps,fe=h.type===h.elementType?B:Si(h.type,B),j.props=fe,Fe=h.pendingProps,ve=j.context,Q=v.contextType,typeof Q=="object"&&Q!==null?Q=Zr(Q):(Q=cr(v)?Ia:Mn.current,Q=$l(h,Q));var At=v.getDerivedStateFromProps;(Ee=typeof At=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(B!==Fe||ve!==Q)&&oN(h,j,w,Q),fo=!1,ve=h.memoizedState,j.state=ve,lg(h,w,j,_);var yt=h.memoizedState;B!==Fe||ve!==yt||lr.current||fo?(typeof At=="function"&&(Ux(h,v,At,w),yt=h.memoizedState),(fe=fo||iN(h,v,fe,w,ve,yt,Q)||!1)?(Ee||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,yt,Q),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,yt,Q)),typeof j.componentDidUpdate=="function"&&(h.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof j.componentDidUpdate!="function"||B===d.memoizedProps&&ve===d.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||B===d.memoizedProps&&ve===d.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=yt),j.props=w,j.state=yt,j.context=Q,w=fe):(typeof j.componentDidUpdate!="function"||B===d.memoizedProps&&ve===d.memoizedState||(h.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||B===d.memoizedProps&&ve===d.memoizedState||(h.flags|=1024),w=!1)}return $x(d,h,v,w,N,_)}function $x(d,h,v,w,_,N){mN(d,h);var j=(h.flags&128)!==0;if(!w&&!j)return _&&yA(h,v,!1),Ns(d,h,N);w=h.stateNode,vL.current=h;var B=j&&typeof v.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,d!==null&&j?(h.child=Kl(h,d.child,null,N),h.child=Kl(h,null,B,N)):Xn(d,h,B,N),h.memoizedState=w.state,_&&yA(h,v,!0),h.child}function yN(d){var h=d.stateNode;h.pendingContext?mA(d,h.pendingContext,h.pendingContext!==h.context):h.context&&mA(d,h.context,!1),Nx(d,h.containerInfo)}function xN(d,h,v,w,_){return ql(),bx(_),h.flags|=256,Xn(d,h,v,w),h.child}var Vx={dehydrated:null,treeContext:null,retryLane:0};function Wx(d){return{baseLanes:d,cachePool:null,transitions:null}}function bN(d,h,v){var w=h.pendingProps,_=Lt.current,N=!1,j=(h.flags&128)!==0,B;if((B=j)||(B=d!==null&&d.memoizedState===null?!1:(_&2)!==0),B?(N=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(_|=1),St(Lt,_&1),d===null)return xx(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?ix(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(j=w.children,d=w.fallback,N?(w=h.mode,N=h.child,j={mode:"hidden",children:j},!(w&1)&&N!==null?(N.childLanes=0,N.pendingProps=j):N=Og(j,w,0,null),d=Ba(d,w,v,null),N.return=h,d.return=h,N.sibling=d,h.child=N,h.child.memoizedState=Wx(v),h.memoizedState=Vx,d):qx(h,j));if(_=d.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return yL(d,h,j,w,B,_,v);if(N){N=w.fallback,j=h.mode,_=d.child,B=_.sibling;var Q={mode:"hidden",children:w.children};return!(j&1)&&h.child!==_?(w=h.child,w.childLanes=0,w.pendingProps=Q,h.deletions=null):(w=xo(_,Q),w.subtreeFlags=_.subtreeFlags&14680064),B!==null?N=xo(B,N):(N=Ba(N,j,v,null),N.flags|=2),N.return=h,w.return=h,w.sibling=N,h.child=w,w=N,N=h.child,j=d.child.memoizedState,j=j===null?Wx(v):{baseLanes:j.baseLanes|v,cachePool:null,transitions:j.transitions},N.memoizedState=j,N.childLanes=d.childLanes&~v,h.memoizedState=Vx,w}return N=d.child,d=N.sibling,w=xo(N,{mode:"visible",children:w.children}),!(h.mode&1)&&(w.lanes=v),w.return=h,w.sibling=null,d!==null&&(v=h.deletions,v===null?(h.deletions=[d],h.flags|=16):v.push(d)),h.child=w,h.memoizedState=null,w}function qx(d,h){return h=Og({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function mg(d,h,v,w){return w!==null&&bx(w),Kl(h,d.child,null,v),d=qx(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function yL(d,h,v,w,_,N,j){if(v)return h.flags&256?(h.flags&=-257,w=Hx(Error(o(422))),mg(d,h,j,w)):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(N=w.fallback,_=h.mode,w=Og({mode:"visible",children:w.children},_,0,null),N=Ba(N,_,j,null),N.flags|=2,w.return=h,N.return=h,w.sibling=N,h.child=w,h.mode&1&&Kl(h,d.child,null,j),h.child.memoizedState=Wx(j),h.memoizedState=Vx,N);if(!(h.mode&1))return mg(d,h,j,null);if(ix(_))return w=I9(_).digest,N=Error(o(419)),w=Hx(N,w,void 0),mg(d,h,j,w);if(v=(j&d.childLanes)!==0,ur||v){if(w=vn,w!==null){switch(j&-j){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(w.suspendedLanes|j)?0:_,_!==0&&_!==N.retryLane&&(N.retryLane=_,Ji(d,_),ni(w,d,_,-1))}return fb(),w=Hx(Error(o(421))),mg(d,h,j,w)}return pA(_)?(h.flags|=128,h.child=d.child,h=IL.bind(null,d),D9(_,h),null):(d=N.treeContext,Je&&(Jr=M9(_),Tr=h,It=!0,wi=null,Uu=!1,d!==null&&(Qr[Xr++]=Es,Qr[Xr++]=_s,Qr[Xr++]=Da,Es=d.id,_s=d.overflow,Da=h)),h=qx(h,w.children),h.flags|=4096,h)}function wN(d,h,v){d.lanes|=h;var w=d.alternate;w!==null&&(w.lanes|=h),Ex(d.return,h,v)}function Kx(d,h,v,w,_){var N=d.memoizedState;N===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:_}:(N.isBackwards=h,N.rendering=null,N.renderingStartTime=0,N.last=w,N.tail=v,N.tailMode=_)}function SN(d,h,v){var w=h.pendingProps,_=w.revealOrder,N=w.tail;if(Xn(d,h,w.children,v),w=Lt.current,w&2)w=w&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&wN(d,v,h);else if(d.tag===19)wN(d,v,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}if(St(Lt,w),!(h.mode&1))h.memoizedState=null;else switch(_){case"forwards":for(v=h.child,_=null;v!==null;)d=v.alternate,d!==null&&cg(d)===null&&(_=v),v=v.sibling;v=_,v===null?(_=h.child,h.child=null):(_=v.sibling,v.sibling=null),Kx(h,!1,_,v,N);break;case"backwards":for(v=null,_=h.child,h.child=null;_!==null;){if(d=_.alternate,d!==null&&cg(d)===null){h.child=_;break}d=_.sibling,_.sibling=v,v=_,_=d}Kx(h,!0,v,null,N);break;case"together":Kx(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function vg(d,h){!(h.mode&1)&&d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2)}function Ns(d,h,v){if(d!==null&&(h.dependencies=d.dependencies),Oa|=h.lanes,!(v&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,v=xo(d,d.pendingProps),h.child=v,v.return=h;d.sibling!==null;)d=d.sibling,v=v.sibling=xo(d,d.pendingProps),v.return=h;v.sibling=null}return h.child}function xL(d,h,v){switch(h.tag){case 3:yN(h),ql();break;case 5:OA(h);break;case 1:cr(h.type)&&Kf(h);break;case 4:Nx(h,h.stateNode.containerInfo);break;case 10:IA(h,h.type._context,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(St(Lt,Lt.current&1),h.flags|=128,null):v&h.child.childLanes?bN(d,h,v):(St(Lt,Lt.current&1),d=Ns(d,h,v),d!==null?d.sibling:null);St(Lt,Lt.current&1);break;case 19:if(w=(v&h.childLanes)!==0,d.flags&128){if(w)return SN(d,h,v);h.flags|=128}var _=h.memoizedState;if(_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),St(Lt,Lt.current),w)break;return null;case 22:case 23:return h.lanes=0,pN(d,h,v)}return Ns(d,h,v)}function ts(d){d.flags|=4}function CN(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var qu,Ku,yg,xg;if(Ae)qu=function(d,h){for(var v=h.child;v!==null;){if(v.tag===5||v.tag===6)ue(d,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Ku=function(){},yg=function(d,h,v,w,_){if(d=d.memoizedProps,d!==w){var N=h.stateNode,j=Zi(ei.current);v=W(N,v,d,w,_,j),(h.updateQueue=v)&&ts(h)}},xg=function(d,h,v,w){v!==w&&ts(h)};else if(et){qu=function(d,h,v,w){for(var _=h.child;_!==null;){if(_.tag===5){var N=_.stateNode;v&&w&&(N=fA(N,_.type,_.memoizedProps,_)),ue(d,N)}else if(_.tag===6)N=_.stateNode,v&&w&&(N=gA(N,_.memoizedProps,_)),ue(d,N);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)N=_.child,N!==null&&(N.return=_),qu(d,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var EN=function(d,h,v,w){for(var _=h.child;_!==null;){if(_.tag===5){var N=_.stateNode;v&&w&&(N=fA(N,_.type,_.memoizedProps,_)),hA(d,N)}else if(_.tag===6)N=_.stateNode,v&&w&&(N=gA(N,_.memoizedProps,_)),hA(d,N);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)N=_.child,N!==null&&(N.return=_),EN(d,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===h)break;for(;_.sibling===null;){if(_.return===null||_.return===h)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Ku=function(d,h){var v=h.stateNode;if(!CN(d,h)){d=v.containerInfo;var w=dA(d);EN(w,h,!1,!1),v.pendingChildren=w,ts(h),N9(d,w)}},yg=function(d,h,v,w,_){var N=d.stateNode,j=d.memoizedProps;if((d=CN(d,h))&&j===w)h.stateNode=N;else{var B=h.stateNode,Q=Zi(ei.current),fe=null;j!==w&&(fe=W(B,v,j,w,_,Q)),d&&fe===null?h.stateNode=N:(N=A9(N,fe,v,j,w,h,d,B),Ce(N,v,w,_,Q)&&ts(h),h.stateNode=N,d?ts(h):qu(N,h,!1,!1))}},xg=function(d,h,v,w){v!==w?(d=Zi(Xl.current),v=Zi(ei.current),h.stateNode=ce(w,d,v,h),ts(h)):h.stateNode=d.stateNode}}else Ku=function(){},yg=function(){},xg=function(){};function Yu(d,h){if(!It)switch(d.tailMode){case"hidden":h=d.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function Ln(d){var h=d.alternate!==null&&d.alternate.child===d.child,v=0,w=0;if(h)for(var _=d.child;_!==null;)v|=_.lanes|_.childLanes,w|=_.subtreeFlags&14680064,w|=_.flags&14680064,_.return=d,_=_.sibling;else for(_=d.child;_!==null;)v|=_.lanes|_.childLanes,w|=_.subtreeFlags,w|=_.flags,_.return=d,_=_.sibling;return d.subtreeFlags|=w,d.childLanes=v,h}function bL(d,h,v){var w=h.pendingProps;switch(vx(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(h),null;case 1:return cr(h.type)&&qf(),Ln(h),null;case 3:return v=h.stateNode,Jl(),_t(lr),_t(Mn),Rx(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(d===null||d.child===null)&&(ng(h)?ts(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,wi!==null&&(db(wi),wi=null))),Ku(d,h),Ln(h),null;case 5:Tx(h),v=Zi(Xl.current);var _=h.type;if(d!==null&&h.stateNode!=null)yg(d,h,_,w,v),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(o(166));return Ln(h),null}if(d=Zi(ei.current),ng(h)){if(!Je)throw Error(o(175));d=O9(h.stateNode,h.type,h.memoizedProps,v,d,h,!Uu),h.updateQueue=d,d!==null&&ts(h)}else{var N=ie(_,w,v,d,h);qu(N,h,!1,!1),h.stateNode=N,Ce(N,_,w,v,d)&&ts(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Ln(h),null;case 6:if(d&&h.stateNode!=null)xg(d,h,d.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(o(166));if(d=Zi(Xl.current),v=Zi(ei.current),ng(h)){if(!Je)throw Error(o(176));if(d=h.stateNode,v=h.memoizedProps,(w=L9(d,v,h,!Uu))&&(_=Tr,_!==null))switch(_.tag){case 3:V9(_.stateNode.containerInfo,d,v,(_.mode&1)!==0);break;case 5:W9(_.type,_.memoizedProps,_.stateNode,d,v,(_.mode&1)!==0)}w&&ts(h)}else h.stateNode=ce(w,d,v,h)}return Ln(h),null;case 13:if(_t(Lt),w=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(It&&Jr!==null&&h.mode&1&&!(h.flags&128))NA(),ql(),h.flags|=98560,_=!1;else if(_=ng(h),w!==null&&w.dehydrated!==null){if(d===null){if(!_)throw Error(o(318));if(!Je)throw Error(o(344));if(_=h.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(o(317));F9(_,h)}else ql(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;Ln(h),_=!1}else wi!==null&&(db(wi),wi=null),_=!0;if(!_)return h.flags&65536?h:null}return h.flags&128?(h.lanes=v,h):(v=w!==null,v!==(d!==null&&d.memoizedState!==null)&&v&&(h.child.flags|=8192,h.mode&1&&(d===null||Lt.current&1?sn===0&&(sn=3):fb())),h.updateQueue!==null&&(h.flags|=4),Ln(h),null);case 4:return Jl(),Ku(d,h),d===null&&tt(h.stateNode.containerInfo),Ln(h),null;case 10:return Cx(h.type._context),Ln(h),null;case 17:return cr(h.type)&&qf(),Ln(h),null;case 19:if(_t(Lt),_=h.memoizedState,_===null)return Ln(h),null;if(w=(h.flags&128)!==0,N=_.rendering,N===null)if(w)Yu(_,!1);else{if(sn!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(N=cg(d),N!==null){for(h.flags|=128,Yu(_,!1),d=N.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=v,v=h.child;v!==null;)w=v,_=d,w.flags&=14680066,N=w.alternate,N===null?(w.childLanes=0,w.lanes=_,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=N.childLanes,w.lanes=N.lanes,w.child=N.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=N.memoizedProps,w.memoizedState=N.memoizedState,w.updateQueue=N.updateQueue,w.type=N.type,_=N.dependencies,w.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),v=v.sibling;return St(Lt,Lt.current&1|2),h.child}d=d.sibling}_.tail!==null&&pn()>ab&&(h.flags|=128,w=!0,Yu(_,!1),h.lanes=4194304)}else{if(!w)if(d=cg(N),d!==null){if(h.flags|=128,w=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),Yu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!N.alternate&&!It)return Ln(h),null}else 2*pn()-_.renderingStartTime>ab&&v!==1073741824&&(h.flags|=128,w=!0,Yu(_,!1),h.lanes=4194304);_.isBackwards?(N.sibling=h.child,h.child=N):(d=_.last,d!==null?d.sibling=N:h.child=N,_.last=N)}return _.tail!==null?(h=_.tail,_.rendering=h,_.tail=h.sibling,_.renderingStartTime=pn(),h.sibling=null,d=Lt.current,St(Lt,w?d&1|2:d&1),h):(Ln(h),null);case 22:case 23:return hb(),v=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==v&&(h.flags|=8192),v&&h.mode&1?kr&1073741824&&(Ln(h),Ae&&h.subtreeFlags&6&&(h.flags|=8192)):Ln(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}function wL(d,h){switch(vx(h),h.tag){case 1:return cr(h.type)&&qf(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Jl(),_t(lr),_t(Mn),Rx(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return Tx(h),null;case 13:if(_t(Lt),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));ql()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return _t(Lt),null;case 4:return Jl(),null;case 10:return Cx(h.type._context),null;case 22:case 23:return hb(),null;case 24:return null;default:return null}}var bg=!1,Fn=!1,SL=typeof WeakSet=="function"?WeakSet:Set,be=null;function ec(d,h){var v=d.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Dt(d,h,w)}else v.current=null}function Yx(d,h,v){try{v()}catch(w){Dt(d,h,w)}}var _N=!1;function CL(d,h){for(pe(d.containerInfo),be=h;be!==null;)if(d=be,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,be=h;else for(;be!==null;){d=be;try{var v=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,N=d.stateNode,j=N.getSnapshotBeforeUpdate(d.elementType===d.type?w:Si(d.type,w),_);N.__reactInternalSnapshotBeforeUpdate=j}break;case 3:Ae&&_9(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){Dt(d,d.return,B)}if(h=d.sibling,h!==null){h.return=d.return,be=h;break}be=d.return}return v=_N,_N=!1,v}function Qu(d,h,v){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var _=w=w.next;do{if((_.tag&d)===d){var N=_.destroy;_.destroy=void 0,N!==void 0&&Yx(h,v,N)}_=_.next}while(_!==w)}}function wg(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&d)===d){var w=v.create;v.destroy=w()}v=v.next}while(v!==h)}}function Qx(d){var h=d.ref;if(h!==null){var v=d.stateNode;switch(d.tag){case 5:d=$(v);break;default:d=v}typeof h=="function"?h(d):h.current=d}}function AN(d){var h=d.alternate;h!==null&&(d.alternate=null,AN(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&gn(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function NN(d){return d.tag===5||d.tag===3||d.tag===4}function TN(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||NN(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Xx(d,h,v){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?V(v,d,h):Hf(v,d);else if(w!==4&&(d=d.child,d!==null))for(Xx(d,h,v),d=d.sibling;d!==null;)Xx(d,h,v),d=d.sibling}function Jx(d,h,v){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?Vf(v,d,h):Bf(v,d);else if(w!==4&&(d=d.child,d!==null))for(Jx(d,h,v),d=d.sibling;d!==null;)Jx(d,h,v),d=d.sibling}var An=null,Ci=!1;function ns(d,h,v){for(v=v.child;v!==null;)Zx(d,h,v),v=v.sibling}function Zx(d,h,v){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(Jf,v)}catch{}switch(v.tag){case 5:Fn||ec(v,h);case 6:if(Ae){var w=An,_=Ci;An=null,ns(d,h,v),An=w,Ci=_,An!==null&&(Ci?Ra(An,v.stateNode):He(An,v.stateNode))}else ns(d,h,v);break;case 18:Ae&&An!==null&&(Ci?G9(An,v.stateNode):z9(An,v.stateNode));break;case 4:Ae?(w=An,_=Ci,An=v.stateNode.containerInfo,Ci=!0,ns(d,h,v),An=w,Ci=_):(et&&(w=v.stateNode.containerInfo,_=dA(w),rx(w,_)),ns(d,h,v));break;case 0:case 11:case 14:case 15:if(!Fn&&(w=v.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){_=w=w.next;do{var N=_,j=N.destroy;N=N.tag,j!==void 0&&(N&2||N&4)&&Yx(v,h,j),_=_.next}while(_!==w)}ns(d,h,v);break;case 1:if(!Fn&&(ec(v,h),w=v.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=v.memoizedProps,w.state=v.memoizedState,w.componentWillUnmount()}catch(B){Dt(v,h,B)}ns(d,h,v);break;case 21:ns(d,h,v);break;case 22:v.mode&1?(Fn=(w=Fn)||v.memoizedState!==null,ns(d,h,v),Fn=w):ns(d,h,v);break;default:ns(d,h,v)}}function kN(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var v=d.stateNode;v===null&&(v=d.stateNode=new SL),h.forEach(function(w){var _=DL.bind(null,d,w);v.has(w)||(v.add(w),w.then(_,_))})}}function Ei(d,h){var v=h.deletions;if(v!==null)for(var w=0;w<v.length;w++){var _=v[w];try{var N=d,j=h;if(Ae){var B=j;e:for(;B!==null;){switch(B.tag){case 5:An=B.stateNode,Ci=!1;break e;case 3:An=B.stateNode.containerInfo,Ci=!0;break e;case 4:An=B.stateNode.containerInfo,Ci=!0;break e}B=B.return}if(An===null)throw Error(o(160));Zx(N,j,_),An=null,Ci=!1}else Zx(N,j,_);var Q=_.alternate;Q!==null&&(Q.return=null),_.return=null}catch(fe){Dt(_,h,fe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)RN(h,d),h=h.sibling}function RN(d,h){var v=d.alternate,w=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ei(h,d),rs(d),w&4){try{Qu(3,d,d.return),wg(3,d)}catch(ve){Dt(d,d.return,ve)}try{Qu(5,d,d.return)}catch(ve){Dt(d,d.return,ve)}}break;case 1:Ei(h,d),rs(d),w&512&&v!==null&&ec(v,v.return);break;case 5:if(Ei(h,d),rs(d),w&512&&v!==null&&ec(v,v.return),Ae){if(d.flags&32){var _=d.stateNode;try{yi(_)}catch(ve){Dt(d,d.return,ve)}}if(w&4&&(_=d.stateNode,_!=null)){var N=d.memoizedProps;if(v=v!==null?v.memoizedProps:N,w=d.type,h=d.updateQueue,d.updateQueue=null,h!==null)try{$f(_,h,w,v,N,d)}catch(ve){Dt(d,d.return,ve)}}}break;case 6:if(Ei(h,d),rs(d),w&4&&Ae){if(d.stateNode===null)throw Error(o(162));_=d.stateNode,N=d.memoizedProps,v=v!==null?v.memoizedProps:N;try{zf(_,v,N)}catch(ve){Dt(d,d.return,ve)}}break;case 3:if(Ei(h,d),rs(d),w&4){if(Ae&&Je&&v!==null&&v.memoizedState.isDehydrated)try{B9(h.containerInfo)}catch(ve){Dt(d,d.return,ve)}if(et){_=h.containerInfo,N=h.pendingChildren;try{rx(_,N)}catch(ve){Dt(d,d.return,ve)}}}break;case 4:if(Ei(h,d),rs(d),w&4&&et){N=d.stateNode,_=N.containerInfo,N=N.pendingChildren;try{rx(_,N)}catch(ve){Dt(d,d.return,ve)}}break;case 13:Ei(h,d),rs(d),_=d.child,_.flags&8192&&(N=_.memoizedState!==null,_.stateNode.isHidden=N,!N||_.alternate!==null&&_.alternate.memoizedState!==null||(ob=pn())),w&4&&kN(d);break;case 22:var j=v!==null&&v.memoizedState!==null;if(d.mode&1?(Fn=(v=Fn)||j,Ei(h,d),Fn=v):Ei(h,d),rs(d),w&8192){if(v=d.memoizedState!==null,(d.stateNode.isHidden=v)&&!j&&d.mode&1)for(be=d,w=d.child;w!==null;){for(h=be=w;be!==null;){j=be;var B=j.child;switch(j.tag){case 0:case 11:case 14:case 15:Qu(4,j,j.return);break;case 1:ec(j,j.return);var Q=j.stateNode;if(typeof Q.componentWillUnmount=="function"){var fe=j,Ee=j.return;try{var Fe=fe;Q.props=Fe.memoizedProps,Q.state=Fe.memoizedState,Q.componentWillUnmount()}catch(ve){Dt(fe,Ee,ve)}}break;case 5:ec(j,j.return);break;case 22:if(j.memoizedState!==null){PN(h);continue}}B!==null?(B.return=j,be=B):PN(h)}w=w.sibling}if(Ae){e:if(w=null,Ae)for(h=d;;){if(h.tag===5){if(w===null){w=h;try{_=h.stateNode,v?Yi(_):C9(h.stateNode,h.memoizedProps)}catch(ve){Dt(d,d.return,ve)}}}else if(h.tag===6){if(w===null)try{N=h.stateNode,v?S9(N):E9(N,h.memoizedProps)}catch(ve){Dt(d,d.return,ve)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;w===h&&(w=null),h=h.return}w===h&&(w=null),h.sibling.return=h.return,h=h.sibling}}}break;case 19:Ei(h,d),rs(d),w&4&&kN(d);break;case 21:break;default:Ei(h,d),rs(d)}}function rs(d){var h=d.flags;if(h&2){try{if(Ae){e:{for(var v=d.return;v!==null;){if(NN(v)){var w=v;break e}v=v.return}throw Error(o(160))}switch(w.tag){case 5:var _=w.stateNode;w.flags&32&&(yi(_),w.flags&=-33);var N=TN(d);Jx(d,N,_);break;case 3:case 4:var j=w.stateNode.containerInfo,B=TN(d);Xx(d,B,j);break;default:throw Error(o(161))}}}catch(Q){Dt(d,d.return,Q)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function EL(d,h,v){be=d,IN(d)}function IN(d,h,v){for(var w=(d.mode&1)!==0;be!==null;){var _=be,N=_.child;if(_.tag===22&&w){var j=_.memoizedState!==null||bg;if(!j){var B=_.alternate,Q=B!==null&&B.memoizedState!==null||Fn;B=bg;var fe=Fn;if(bg=j,(Fn=Q)&&!fe)for(be=_;be!==null;)j=be,Q=j.child,j.tag===22&&j.memoizedState!==null?jN(_):Q!==null?(Q.return=j,be=Q):jN(_);for(;N!==null;)be=N,IN(N),N=N.sibling;be=_,bg=B,Fn=fe}DN(d)}else _.subtreeFlags&8772&&N!==null?(N.return=_,be=N):DN(d)}}function DN(d){for(;be!==null;){var h=be;if(h.flags&8772){var v=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Fn||wg(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Fn)if(v===null)w.componentDidMount();else{var _=h.elementType===h.type?v.memoizedProps:Si(h.type,v.memoizedProps);w.componentDidUpdate(_,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var N=h.updateQueue;N!==null&&MA(h,N,w);break;case 3:var j=h.updateQueue;if(j!==null){if(v=null,h.child!==null)switch(h.child.tag){case 5:v=$(h.child.stateNode);break;case 1:v=h.child.stateNode}MA(h,j,v)}break;case 5:var B=h.stateNode;v===null&&h.flags&4&&Gf(B,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Je&&h.memoizedState===null){var Q=h.alternate;if(Q!==null){var fe=Q.memoizedState;if(fe!==null){var Ee=fe.dehydrated;Ee!==null&&H9(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Fn||h.flags&512&&Qx(h)}catch(Fe){Dt(h,h.return,Fe)}}if(h===d){be=null;break}if(v=h.sibling,v!==null){v.return=h.return,be=v;break}be=h.return}}function PN(d){for(;be!==null;){var h=be;if(h===d){be=null;break}var v=h.sibling;if(v!==null){v.return=h.return,be=v;break}be=h.return}}function jN(d){for(;be!==null;){var h=be;try{switch(h.tag){case 0:case 11:case 15:var v=h.return;try{wg(4,h)}catch(Q){Dt(h,v,Q)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var _=h.return;try{w.componentDidMount()}catch(Q){Dt(h,_,Q)}}var N=h.return;try{Qx(h)}catch(Q){Dt(h,N,Q)}break;case 5:var j=h.return;try{Qx(h)}catch(Q){Dt(h,j,Q)}}}catch(Q){Dt(h,h.return,Q)}if(h===d){be=null;break}var B=h.sibling;if(B!==null){B.return=h.return,be=B;break}be=h.return}}var Sg=0,Cg=1,Eg=2,_g=3,Ag=4;if(typeof Symbol=="function"&&Symbol.for){var Xu=Symbol.for;Sg=Xu("selector.component"),Cg=Xu("selector.has_pseudo_class"),Eg=Xu("selector.role"),_g=Xu("selector.test_id"),Ag=Xu("selector.text")}function eb(d){var h=Rt(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=jf(d),d===null)throw Error(o(362));return d.stateNode.current}function tb(d,h){switch(h.$$typeof){case Sg:if(d.type===h.value)return!0;break;case Cg:e:{h=h.value,d=[d,0];for(var v=0;v<d.length;){var w=d[v++],_=d[v++],N=h[_];if(w.tag!==5||!co(w)){for(;N!=null&&tb(w,N);)_++,N=h[_];if(_===h.length){h=!0;break e}else for(w=w.child;w!==null;)d.push(w,_),w=w.sibling}}h=!1}return h;case Eg:if(d.tag===5&&Lf(d.stateNode,h.value))return!0;break;case Ag:if((d.tag===5||d.tag===6)&&(d=Of(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case _g:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function nb(d){switch(d.$$typeof){case Sg:return"<"+(I(d.value)||"Unknown")+">";case Cg:return":has("+(nb(d)||"")+")";case Eg:return'[role="'+d.value+'"]';case Ag:return'"'+d.value+'"';case _g:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function MN(d,h){var v=[];d=[d,0];for(var w=0;w<d.length;){var _=d[w++],N=d[w++],j=h[N];if(_.tag!==5||!co(_)){for(;j!=null&&tb(_,j);)N++,j=h[N];if(N===h.length)v.push(_);else for(_=_.child;_!==null;)d.push(_,N),_=_.sibling}}return v}function rb(d,h){if(!Yr)throw Error(o(363));d=eb(d),d=MN(d,h),h=[],d=Array.from(d);for(var v=0;v<d.length;){var w=d[v++];if(w.tag===5)co(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)d.push(w),w=w.sibling}return h}var _L=Math.ceil,Ng=a.ReactCurrentDispatcher,ib=a.ReactCurrentOwner,Kt=a.ReactCurrentBatchConfig,We=0,vn=null,Xt=null,Nn=0,kr=0,tc=uo(0),sn=0,Ju=null,Oa=0,Tg=0,sb=0,Zu=null,dr=null,ob=0,ab=1/0,Ts=null;function nc(){ab=pn()+500}var kg=!1,lb=null,po=null,Rg=!1,mo=null,Ig=0,ed=0,cb=null,Dg=-1,Pg=0;function Un(){return We&6?pn():Dg!==-1?Dg:Dg=pn()}function vo(d){return d.mode&1?We&2&&Nn!==0?Nn&-Nn:aL.transition!==null?(Pg===0&&(Pg=xA()),Pg):(d=it,d!==0?d:Qn()):1}function ni(d,h,v,w){if(50<ed)throw ed=0,cb=null,Error(o(185));Fu(d,v,w),(!(We&2)||d!==vn)&&(d===vn&&(!(We&2)&&(Tg|=v),sn===4&&yo(d,Nn)),hr(d,w),v===1&&We===0&&!(h.mode&1)&&(nc(),Zf&&Xi()))}function hr(d,h){var v=d.callbackNode;J9(d,h);var w=Xf(d,d===vn?Nn:0);if(w===0)v!==null&&wA(v),d.callbackNode=null,d.callbackPriority=0;else if(h=w&-w,d.callbackPriority!==h){if(v!=null&&wA(v),h===1)d.tag===0?oL(LN.bind(null,d)):SA(LN.bind(null,d)),Nr?Ki(function(){!(We&6)&&Xi()}):hx(fx,Xi),v=null;else{switch(bA(w)){case 1:v=fx;break;case 4:v=nL;break;case 16:v=gx;break;case 536870912:v=rL;break;default:v=gx}v=WN(v,ON.bind(null,d))}d.callbackPriority=h,d.callbackNode=v}}function ON(d,h){if(Dg=-1,Pg=0,We&6)throw Error(o(327));var v=d.callbackNode;if(Ua()&&d.callbackNode!==v)return null;var w=Xf(d,d===vn?Nn:0);if(w===0)return null;if(w&30||w&d.expiredLanes||h)h=jg(d,w);else{h=w;var _=We;We|=2;var N=BN();(vn!==d||Nn!==h)&&(Ts=null,nc(),La(d,h));do try{TL();break}catch(B){UN(d,B)}while(!0);Sx(),Ng.current=N,We=_,Xt!==null?h=0:(vn=null,Nn=0,h=sn)}if(h!==0){if(h===2&&(_=cx(d),_!==0&&(w=_,h=ub(d,_))),h===1)throw v=Ju,La(d,0),yo(d,w),hr(d,pn()),v;if(h===6)yo(d,w);else{if(_=d.current.alternate,!(w&30)&&!AL(_)&&(h=jg(d,w),h===2&&(N=cx(d),N!==0&&(w=N,h=ub(d,N))),h===1))throw v=Ju,La(d,0),yo(d,w),hr(d,pn()),v;switch(d.finishedWork=_,d.finishedLanes=w,h){case 0:case 1:throw Error(o(345));case 2:Fa(d,dr,Ts);break;case 3:if(yo(d,w),(w&130023424)===w&&(h=ob+500-pn(),10<h)){if(Xf(d,0)!==0)break;if(_=d.suspendedLanes,(_&w)!==w){Un(),d.pingedLanes|=d.suspendedLanes&_;break}d.timeoutHandle=L(Fa.bind(null,d,dr,Ts),h);break}Fa(d,dr,Ts);break;case 4:if(yo(d,w),(w&4194240)===w)break;for(h=d.eventTimes,_=-1;0<w;){var j=31-xi(w);N=1<<j,j=h[j],j>_&&(_=j),w&=~N}if(w=_,w=pn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*_L(w/1960))-w,10<w){d.timeoutHandle=L(Fa.bind(null,d,dr,Ts),w);break}Fa(d,dr,Ts);break;case 5:Fa(d,dr,Ts);break;default:throw Error(o(329))}}}return hr(d,pn()),d.callbackNode===v?ON.bind(null,d):null}function ub(d,h){var v=Zu;return d.current.memoizedState.isDehydrated&&(La(d,h).flags|=256),d=jg(d,h),d!==2&&(h=dr,dr=v,h!==null&&db(h)),d}function db(d){dr===null?dr=d:dr.push.apply(dr,d)}function AL(d){for(var h=d;;){if(h.flags&16384){var v=h.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var _=v[w],N=_.getSnapshot;_=_.value;try{if(!bi(N(),_))return!1}catch{return!1}}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function yo(d,h){for(h&=~sb,h&=~Tg,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var v=31-xi(h),w=1<<v;d[v]=-1,h&=~w}}function LN(d){if(We&6)throw Error(o(327));Ua();var h=Xf(d,0);if(!(h&1))return hr(d,pn()),null;var v=jg(d,h);if(d.tag!==0&&v===2){var w=cx(d);w!==0&&(h=w,v=ub(d,w))}if(v===1)throw v=Ju,La(d,0),yo(d,h),hr(d,pn()),v;if(v===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Fa(d,dr,Ts),hr(d,pn()),null}function FN(d){mo!==null&&mo.tag===0&&!(We&6)&&Ua();var h=We;We|=1;var v=Kt.transition,w=it;try{if(Kt.transition=null,it=1,d)return d()}finally{it=w,Kt.transition=v,We=h,!(We&6)&&Xi()}}function hb(){kr=tc.current,_t(tc)}function La(d,h){d.finishedWork=null,d.finishedLanes=0;var v=d.timeoutHandle;if(v!==me&&(d.timeoutHandle=me,ne(v)),Xt!==null)for(v=Xt.return;v!==null;){var w=v;switch(vx(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&qf();break;case 3:Jl(),_t(lr),_t(Mn),Rx();break;case 5:Tx(w);break;case 4:Jl();break;case 13:_t(Lt);break;case 19:_t(Lt);break;case 10:Cx(w.type._context);break;case 22:case 23:hb()}v=v.return}if(vn=d,Xt=d=xo(d.current,null),Nn=kr=h,sn=0,Ju=null,sb=Tg=Oa=0,dr=Zu=null,ja!==null){for(h=0;h<ja.length;h++)if(v=ja[h],w=v.interleaved,w!==null){v.interleaved=null;var _=w.next,N=v.pending;if(N!==null){var j=N.next;N.next=_,w.next=j}v.pending=w}ja=null}return d}function UN(d,h){do{var v=Xt;try{if(Sx(),ug.current=gg,dg){for(var w=Ft.memoizedState;w!==null;){var _=w.queue;_!==null&&(_.pending=null),w=w.next}dg=!1}if(Ma=0,mn=rn=Ft=null,Gu=!1,$u=0,ib.current=null,v===null||v.return===null){sn=1,Ju=h,Xt=null;break}e:{var N=d,j=v.return,B=v,Q=h;if(h=Nn,B.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var fe=Q,Ee=B,Fe=Ee.tag;if(!(Ee.mode&1)&&(Fe===0||Fe===11||Fe===15)){var ve=Ee.alternate;ve?(Ee.updateQueue=ve.updateQueue,Ee.memoizedState=ve.memoizedState,Ee.lanes=ve.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var At=uN(j);if(At!==null){At.flags&=-257,dN(At,j,B,N,h),At.mode&1&&cN(N,fe,h),h=At,Q=fe;var yt=h.updateQueue;if(yt===null){var fr=new Set;fr.add(Q),h.updateQueue=fr}else yt.add(Q);break e}else{if(!(h&1)){cN(N,fe,h),fb();break e}Q=Error(o(426))}}else if(It&&B.mode&1){var ks=uN(j);if(ks!==null){!(ks.flags&65536)&&(ks.flags|=256),dN(ks,j,B,N,h),bx(Zl(Q,B));break e}}N=Q=Zl(Q,B),sn!==4&&(sn=2),Zu===null?Zu=[N]:Zu.push(N),N=j;do{switch(N.tag){case 3:N.flags|=65536,h&=-h,N.lanes|=h;var K=aN(N,Q,h);jA(N,K);break e;case 1:B=Q;var H=N.type,ee=N.stateNode;if(!(N.flags&128)&&(typeof H.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(po===null||!po.has(ee)))){N.flags|=65536,h&=-h,N.lanes|=h;var xe=lN(N,B,h);jA(N,xe);break e}}N=N.return}while(N!==null)}zN(v)}catch(Re){h=Re,Xt===v&&v!==null&&(Xt=v=v.return);continue}break}while(!0)}function BN(){var d=Ng.current;return Ng.current=gg,d===null?gg:d}function fb(){(sn===0||sn===3||sn===2)&&(sn=4),vn===null||!(Oa&268435455)&&!(Tg&268435455)||yo(vn,Nn)}function jg(d,h){var v=We;We|=2;var w=BN();(vn!==d||Nn!==h)&&(Ts=null,La(d,h));do try{NL();break}catch(_){UN(d,_)}while(!0);if(Sx(),We=v,Ng.current=w,Xt!==null)throw Error(o(261));return vn=null,Nn=0,sn}function NL(){for(;Xt!==null;)HN(Xt)}function TL(){for(;Xt!==null&&!eL();)HN(Xt)}function HN(d){var h=VN(d.alternate,d,kr);d.memoizedProps=d.pendingProps,h===null?zN(d):Xt=h,ib.current=null}function zN(d){var h=d;do{var v=h.alternate;if(d=h.return,h.flags&32768){if(v=wL(v,h),v!==null){v.flags&=32767,Xt=v;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{sn=6,Xt=null;return}}else if(v=bL(v,h,kr),v!==null){Xt=v;return}if(h=h.sibling,h!==null){Xt=h;return}Xt=h=d}while(h!==null);sn===0&&(sn=5)}function Fa(d,h,v){var w=it,_=Kt.transition;try{Kt.transition=null,it=1,kL(d,h,v,w)}finally{Kt.transition=_,it=w}return null}function kL(d,h,v,w){do Ua();while(mo!==null);if(We&6)throw Error(o(327));v=d.finishedWork;var _=d.finishedLanes;if(v===null)return null;if(d.finishedWork=null,d.finishedLanes=0,v===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var N=v.lanes|v.childLanes;if(Z9(d,N),d===vn&&(Xt=vn=null,Nn=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||Rg||(Rg=!0,WN(gx,function(){return Ua(),null})),N=(v.flags&15990)!==0,v.subtreeFlags&15990||N){N=Kt.transition,Kt.transition=null;var j=it;it=1;var B=We;We|=4,ib.current=null,CL(d,v),RN(v,d),te(d.containerInfo),d.current=v,EL(v),tL(),We=B,it=j,Kt.transition=N}else d.current=v;if(Rg&&(Rg=!1,mo=d,Ig=_),N=d.pendingLanes,N===0&&(po=null),iL(v.stateNode),hr(d,pn()),h!==null)for(w=d.onRecoverableError,v=0;v<h.length;v++)_=h[v],w(_.value,{componentStack:_.stack,digest:_.digest});if(kg)throw kg=!1,d=lb,lb=null,d;return Ig&1&&d.tag!==0&&Ua(),N=d.pendingLanes,N&1?d===cb?ed++:(ed=0,cb=d):ed=0,Xi(),null}function Ua(){if(mo!==null){var d=bA(Ig),h=Kt.transition,v=it;try{if(Kt.transition=null,it=16>d?16:d,mo===null)var w=!1;else{if(d=mo,mo=null,Ig=0,We&6)throw Error(o(331));var _=We;for(We|=4,be=d.current;be!==null;){var N=be,j=N.child;if(be.flags&16){var B=N.deletions;if(B!==null){for(var Q=0;Q<B.length;Q++){var fe=B[Q];for(be=fe;be!==null;){var Ee=be;switch(Ee.tag){case 0:case 11:case 15:Qu(8,Ee,N)}var Fe=Ee.child;if(Fe!==null)Fe.return=Ee,be=Fe;else for(;be!==null;){Ee=be;var ve=Ee.sibling,At=Ee.return;if(AN(Ee),Ee===fe){be=null;break}if(ve!==null){ve.return=At,be=ve;break}be=At}}}var yt=N.alternate;if(yt!==null){var fr=yt.child;if(fr!==null){yt.child=null;do{var ks=fr.sibling;fr.sibling=null,fr=ks}while(fr!==null)}}be=N}}if(N.subtreeFlags&2064&&j!==null)j.return=N,be=j;else e:for(;be!==null;){if(N=be,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Qu(9,N,N.return)}var K=N.sibling;if(K!==null){K.return=N.return,be=K;break e}be=N.return}}var H=d.current;for(be=H;be!==null;){j=be;var ee=j.child;if(j.subtreeFlags&2064&&ee!==null)ee.return=j,be=ee;else e:for(j=H;be!==null;){if(B=be,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:wg(9,B)}}catch(Re){Dt(B,B.return,Re)}if(B===j){be=null;break e}var xe=B.sibling;if(xe!==null){xe.return=B.return,be=xe;break e}be=B.return}}if(We=_,Xi(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(Jf,d)}catch{}w=!0}return w}finally{it=v,Kt.transition=h}}return!1}function GN(d,h,v){h=Zl(v,h),h=aN(d,h,1),d=go(d,h,1),h=Un(),d!==null&&(Fu(d,1,h),hr(d,h))}function Dt(d,h,v){if(d.tag===3)GN(d,d,v);else for(;h!==null;){if(h.tag===3){GN(h,d,v);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(po===null||!po.has(w))){d=Zl(v,d),d=lN(h,d,1),h=go(h,d,1),d=Un(),h!==null&&(Fu(h,1,d),hr(h,d));break}}h=h.return}}function RL(d,h,v){var w=d.pingCache;w!==null&&w.delete(h),h=Un(),d.pingedLanes|=d.suspendedLanes&v,vn===d&&(Nn&v)===v&&(sn===4||sn===3&&(Nn&130023424)===Nn&&500>pn()-ob?La(d,0):sb|=v),hr(d,h)}function $N(d,h){h===0&&(d.mode&1?(h=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):h=1);var v=Un();d=Ji(d,h),d!==null&&(Fu(d,h,v),hr(d,v))}function IL(d){var h=d.memoizedState,v=0;h!==null&&(v=h.retryLane),$N(d,v)}function DL(d,h){var v=0;switch(d.tag){case 13:var w=d.stateNode,_=d.memoizedState;_!==null&&(v=_.retryLane);break;case 19:w=d.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(h),$N(d,v)}var VN;VN=function(d,h,v){if(d!==null)if(d.memoizedProps!==h.pendingProps||lr.current)ur=!0;else{if(!(d.lanes&v)&&!(h.flags&128))return ur=!1,xL(d,h,v);ur=!!(d.flags&131072)}else ur=!1,It&&h.flags&1048576&&CA(h,tg,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;vg(d,h),d=h.pendingProps;var _=$l(h,Mn.current);Ql(h,v),_=Px(null,h,w,d,_,v);var N=jx();return h.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,cr(w)?(N=!0,Kf(h)):N=!1,h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Ax(h),_.updater=pg,h.stateNode=_,_._reactInternals=h,Bx(h,w,d,v),h=$x(null,h,w,!0,N,v)):(h.tag=0,It&&N&&mx(h),Xn(null,h,_,v),h=h.child),h;case 16:w=h.elementType;e:{switch(vg(d,h),d=h.pendingProps,_=w._init,w=_(w._payload),h.type=w,_=h.tag=jL(w),d=Si(w,d),_){case 0:h=Gx(null,h,w,d,v);break e;case 1:h=vN(null,h,w,d,v);break e;case 11:h=hN(null,h,w,d,v);break e;case 14:h=fN(null,h,w,Si(w.type,d),v);break e}throw Error(o(306,w,""))}return h;case 0:return w=h.type,_=h.pendingProps,_=h.elementType===w?_:Si(w,_),Gx(d,h,w,_,v);case 1:return w=h.type,_=h.pendingProps,_=h.elementType===w?_:Si(w,_),vN(d,h,w,_,v);case 3:e:{if(yN(h),d===null)throw Error(o(387));w=h.pendingProps,N=h.memoizedState,_=N.element,PA(d,h),lg(h,w,null,v);var j=h.memoizedState;if(w=j.element,Je&&N.isDehydrated)if(N={element:w,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){_=Zl(Error(o(423)),h),h=xN(d,h,w,v,_);break e}else if(w!==_){_=Zl(Error(o(424)),h),h=xN(d,h,w,v,_);break e}else for(Je&&(Jr=j9(h.stateNode.containerInfo),Tr=h,It=!0,wi=null,Uu=!1),v=RA(h,null,w,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(ql(),w===_){h=Ns(d,h,v);break e}Xn(d,h,w,v)}h=h.child}return h;case 5:return OA(h),d===null&&xx(h),w=h.type,_=h.pendingProps,N=d!==null?d.memoizedProps:null,j=_.children,se(w,_)?j=null:N!==null&&se(w,N)&&(h.flags|=32),mN(d,h),Xn(d,h,j,v),h.child;case 6:return d===null&&xx(h),null;case 13:return bN(d,h,v);case 4:return Nx(h,h.stateNode.containerInfo),w=h.pendingProps,d===null?h.child=Kl(h,null,w,v):Xn(d,h,w,v),h.child;case 11:return w=h.type,_=h.pendingProps,_=h.elementType===w?_:Si(w,_),hN(d,h,w,_,v);case 7:return Xn(d,h,h.pendingProps,v),h.child;case 8:return Xn(d,h,h.pendingProps.children,v),h.child;case 12:return Xn(d,h,h.pendingProps.children,v),h.child;case 10:e:{if(w=h.type._context,_=h.pendingProps,N=h.memoizedProps,j=_.value,IA(h,w,j),N!==null)if(bi(N.value,j)){if(N.children===_.children&&!lr.current){h=Ns(d,h,v);break e}}else for(N=h.child,N!==null&&(N.return=h);N!==null;){var B=N.dependencies;if(B!==null){j=N.child;for(var Q=B.firstContext;Q!==null;){if(Q.context===w){if(N.tag===1){Q=As(-1,v&-v),Q.tag=2;var fe=N.updateQueue;if(fe!==null){fe=fe.shared;var Ee=fe.pending;Ee===null?Q.next=Q:(Q.next=Ee.next,Ee.next=Q),fe.pending=Q}}N.lanes|=v,Q=N.alternate,Q!==null&&(Q.lanes|=v),Ex(N.return,v,h),B.lanes|=v;break}Q=Q.next}}else if(N.tag===10)j=N.type===h.type?null:N.child;else if(N.tag===18){if(j=N.return,j===null)throw Error(o(341));j.lanes|=v,B=j.alternate,B!==null&&(B.lanes|=v),Ex(j,v,h),j=N.sibling}else j=N.child;if(j!==null)j.return=N;else for(j=N;j!==null;){if(j===h){j=null;break}if(N=j.sibling,N!==null){N.return=j.return,j=N;break}j=j.return}N=j}Xn(d,h,_.children,v),h=h.child}return h;case 9:return _=h.type,w=h.pendingProps.children,Ql(h,v),_=Zr(_),w=w(_),h.flags|=1,Xn(d,h,w,v),h.child;case 14:return w=h.type,_=Si(w,h.pendingProps),_=Si(w.type,_),fN(d,h,w,_,v);case 15:return gN(d,h,h.type,h.pendingProps,v);case 17:return w=h.type,_=h.pendingProps,_=h.elementType===w?_:Si(w,_),vg(d,h),h.tag=1,cr(w)?(d=!0,Kf(h)):d=!1,Ql(h,v),sN(h,w,_),Bx(h,w,_,v),$x(null,h,w,!0,d,v);case 19:return SN(d,h,v);case 22:return pN(d,h,v)}throw Error(o(156,h.tag))};function WN(d,h){return hx(d,h)}function PL(d,h,v,w){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(d,h,v,w){return new PL(d,h,v,w)}function gb(d){return d=d.prototype,!(!d||!d.isReactComponent)}function jL(d){if(typeof d=="function")return gb(d)?1:0;if(d!=null){if(d=d.$$typeof,d===x)return 11;if(d===E)return 14}return 2}function xo(d,h){var v=d.alternate;return v===null?(v=ri(d.tag,h,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=h,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&14680064,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,h=d.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v}function Mg(d,h,v,w,_,N){var j=2;if(w=d,typeof d=="function")gb(d)&&(j=1);else if(typeof d=="string")j=5;else e:switch(d){case f:return Ba(v.children,_,N,h);case g:j=8,_|=8;break;case p:return d=ri(12,v,h,_|2),d.elementType=p,d.lanes=N,d;case C:return d=ri(13,v,h,_),d.elementType=C,d.lanes=N,d;case b:return d=ri(19,v,h,_),d.elementType=b,d.lanes=N,d;case A:return Og(v,_,N,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:j=10;break e;case y:j=9;break e;case x:j=11;break e;case E:j=14;break e;case S:j=16,w=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=ri(j,v,h,_),h.elementType=d,h.type=w,h.lanes=N,h}function Ba(d,h,v,w){return d=ri(7,d,w,h),d.lanes=v,d}function Og(d,h,v,w){return d=ri(22,d,w,h),d.elementType=A,d.lanes=v,d.stateNode={isHidden:!1},d}function pb(d,h,v){return d=ri(6,d,null,h),d.lanes=v,d}function mb(d,h,v){return h=ri(4,d.children!==null?d.children:[],d.key,h),h.lanes=v,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function ML(d,h,v,w,_){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ux(0),this.expirationTimes=ux(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ux(0),this.identifierPrefix=w,this.onRecoverableError=_,Je&&(this.mutableSourceEagerHydrationData=null)}function qN(d,h,v,w,_,N,j,B,Q){return d=new ML(d,h,v,B,Q),h===1?(h=1,N===!0&&(h|=8)):h=0,N=ri(3,null,null,h),d.current=N,N.stateNode=d,N.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ax(N),d}function KN(d){if(!d)return ho;d=d._reactInternals;e:{if(P(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(cr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var v=d.type;if(cr(v))return vA(d,v,h)}return h}function YN(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=z(h),d===null?null:d.stateNode}function QN(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<h?v:h}}function Lg(d,h){QN(d,h),(d=d.alternate)&&QN(d,h)}function OL(d){return d=z(d),d===null?null:d.stateNode}function LL(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var h=Ji(d,134217728);if(h!==null){var v=Un();ni(h,d,134217728,v)}Lg(d,134217728)}},n.attemptDiscreteHydration=function(d){if(d.tag===13){var h=Ji(d,1);if(h!==null){var v=Un();ni(h,d,1,v)}Lg(d,1)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=vo(d),v=Ji(d,h);if(v!==null){var w=Un();ni(v,d,h,w)}Lg(d,h)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var v=Lu(h.pendingLanes);v!==0&&(dx(h,v|1),hr(h,pn()),!(We&6)&&(nc(),Xi()))}break;case 13:FN(function(){var w=Ji(d,1);if(w!==null){var _=Un();ni(w,d,1,_)}}),Lg(d,1)}},n.batchedUpdates=function(d,h){var v=We;We|=1;try{return d(h)}finally{We=v,We===0&&(nc(),Zf&&Xi())}},n.createComponentSelector=function(d){return{$$typeof:Sg,value:d}},n.createContainer=function(d,h,v,w,_,N,j){return qN(d,h,!1,null,v,w,_,N,j)},n.createHasPseudoClassSelector=function(d){return{$$typeof:Cg,value:d}},n.createHydrationContainer=function(d,h,v,w,_,N,j,B,Q){return d=qN(v,w,!0,d,_,N,j,B,Q),d.context=KN(null),v=d.current,w=Un(),_=vo(v),N=As(w,_),N.callback=h??null,go(v,N,_),d.current.lanes=_,Fu(d,_,w),hr(d,w),d},n.createPortal=function(d,h,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:d,containerInfo:h,implementation:v}},n.createRoleSelector=function(d){return{$$typeof:Eg,value:d}},n.createTestNameSelector=function(d){return{$$typeof:_g,value:d}},n.createTextSelector=function(d){return{$$typeof:Ag,value:d}},n.deferredUpdates=function(d){var h=it,v=Kt.transition;try{return Kt.transition=null,it=16,d()}finally{it=h,Kt.transition=v}},n.discreteUpdates=function(d,h,v,w,_){var N=it,j=Kt.transition;try{return Kt.transition=null,it=1,d(h,v,w,_)}finally{it=N,Kt.transition=j,We===0&&nc()}},n.findAllNodes=rb,n.findBoundingRects=function(d,h){if(!Yr)throw Error(o(363));h=rb(d,h),d=[];for(var v=0;v<h.length;v++)d.push(Mf(h[v]));for(h=d.length-1;0<h;h--){v=d[h];for(var w=v.x,_=w+v.width,N=v.y,j=N+v.height,B=h-1;0<=B;B--)if(h!==B){var Q=d[B],fe=Q.x,Ee=fe+Q.width,Fe=Q.y,ve=Fe+Q.height;if(w>=fe&&N>=Fe&&_<=Ee&&j<=ve){d.splice(h,1);break}else if(w!==fe||v.width!==Q.width||ve<N||Fe>j){if(!(N!==Fe||v.height!==Q.height||Ee<w||fe>_)){fe>w&&(Q.width+=fe-w,Q.x=w),Ee<_&&(Q.width=_-fe),d.splice(h,1);break}}else{Fe>N&&(Q.height+=Fe-N,Q.y=N),ve<j&&(Q.height=j-Fe),d.splice(h,1);break}}}return d},n.findHostInstance=YN,n.findHostInstanceWithNoPortals=function(d){return d=O(d),d=d!==null?Z(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return YN(d)},n.flushControlled=function(d){var h=We;We|=1;var v=Kt.transition,w=it;try{Kt.transition=null,it=1,d()}finally{it=w,Kt.transition=v,We=h,We===0&&(nc(),Xi())}},n.flushPassiveEffects=Ua,n.flushSync=FN,n.focusWithin=function(d,h){if(!Yr)throw Error(o(363));for(d=eb(d),h=MN(d,h),h=Array.from(h),d=0;d<h.length;){var v=h[d++];if(!co(v)){if(v.tag===5&&Ff(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return it},n.getFindAllNodesFailureDescription=function(d,h){if(!Yr)throw Error(o(363));var v=0,w=[];d=[eb(d),0];for(var _=0;_<d.length;){var N=d[_++],j=d[_++],B=h[j];if((N.tag!==5||!co(N))&&(tb(N,B)&&(w.push(nb(B)),j++,j>v&&(v=j)),j<h.length))for(N=N.child;N!==null;)d.push(N,j),N=N.sibling}if(v<h.length){for(d=[];v<h.length;v++)d.push(nb(h[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return $(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:OL,findFiberByHostInstance:d.findFiberByHostInstance||LL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Jf=h.inject(d),Qi=h}catch{}d=!!h.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,h,v,w){if(!Yr)throw Error(o(363));d=rb(d,h);var _=Uf(d,v,w).disconnect;return{disconnect:function(){_()}}},n.registerMutableSourceForHydration=function(d,h){var v=h._getVersion;v=v(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,v]:d.mutableSourceEagerHydrationData.push(h,v)},n.runWithPriority=function(d,h){var v=it;try{return it=d,h()}finally{it=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,h,v,w){var _=h.current,N=Un(),j=vo(_);return v=KN(v),h.context===null?h.context=v:h.pendingContext=v,h=As(N,j),h.payload={element:d},w=w===void 0?null:w,w!==null&&(h.callback=w),d=go(_,h,j),d!==null&&(ni(d,_,j,N),ag(d,_,j)),j},n};s9.exports=Afe;var Nfe=s9.exports;const Tfe=uu(Nfe);var o9={exports:{}},zl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */zl.ConcurrentRoot=1;zl.ContinuousEventPriority=4;zl.DefaultEventPriority=16;zl.DiscreteEventPriority=1;zl.IdleEventPriority=536870912;zl.LegacyRoot=0;o9.exports=zl;var a9=o9.exports;const d3={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let h3=!1,f3=!1;const iA=".react-konva-event",kfe=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Rfe=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Ife={};function tx(t,e,n=Ife){if(!h3&&"zIndex"in e&&(console.warn(Rfe),h3=!0),!f3&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(kfe),f3=!0)}for(var s in n)if(!d3[s]){var o=s.slice(0,2)==="on",a=n[s]!==e[s];if(o&&a){var c=s.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),t.off(c,n[s])}var u=!e.hasOwnProperty(s);u&&t.setAttr(s,void 0)}var f=e._useStrictMode,g={},p=!1;const m={};for(var s in e)if(!d3[s]){var o=s.slice(0,2)==="on",y=n[s]!==e[s];if(o&&y){var c=s.substr(2).toLowerCase();c.substr(0,7)==="content"&&(c="content"+c.substr(7,1).toUpperCase()+c.substr(8)),e[s]&&(m[c]=e[s])}!o&&(e[s]!==n[s]||f&&e[s]!==t.getAttr(s))&&(p=!0,g[s]=e[s])}p&&(t.setAttrs(g),ka(t));for(var c in m)t.on(c+iA,m[c])}function ka(t){if(!$e.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const l9={},Dfe={};Yh.Node.prototype._applyProps=tx;function Pfe(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),ka(t)}function jfe(t,e,n){let r=Yh[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Yh.Group);const i={},s={};for(var o in e){var a=o.slice(0,2)==="on";a?s[o]=e[o]:i[o]=e[o]}const c=new r(i);return tx(c,s),c}function Mfe(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function Ofe(t,e,n){return!1}function Lfe(t){return t}function Ffe(){return null}function Ufe(){return null}function Bfe(t,e,n,r){return Dfe}function Hfe(){}function zfe(t){}function Gfe(t,e){return!1}function $fe(){return l9}function Vfe(){return l9}const Wfe=setTimeout,qfe=clearTimeout,Kfe=-1;function Yfe(t,e){return!1}const Qfe=!1,Xfe=!0,Jfe=!0;function Zfe(t,e){e.parent===t?e.moveToTop():t.add(e),ka(t)}function ege(t,e){e.parent===t?e.moveToTop():t.add(e),ka(t)}function c9(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),ka(t)}function tge(t,e,n){c9(t,e,n)}function nge(t,e){e.destroy(),e.off(iA),ka(t)}function rge(t,e){e.destroy(),e.off(iA),ka(t)}function ige(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function sge(t,e,n){}function oge(t,e,n,r,i){tx(t,i,r)}function age(t){t.hide(),ka(t)}function lge(t){}function cge(t,e){(e.visible==null||e.visible)&&t.show()}function uge(t,e){}function dge(t){}function hge(){}const fge=()=>a9.DefaultEventPriority,gge=Object.freeze(Object.defineProperty({__proto__:null,appendChild:Zfe,appendChildToContainer:ege,appendInitialChild:Pfe,cancelTimeout:qfe,clearContainer:dge,commitMount:sge,commitTextUpdate:ige,commitUpdate:oge,createInstance:jfe,createTextInstance:Mfe,detachDeletedInstance:hge,finalizeInitialChildren:Ofe,getChildHostContext:Vfe,getCurrentEventPriority:fge,getPublicInstance:Lfe,getRootHostContext:$fe,hideInstance:age,hideTextInstance:lge,idlePriority:Md.unstable_IdlePriority,insertBefore:c9,insertInContainerBefore:tge,isPrimaryRenderer:Qfe,noTimeout:Kfe,now:Md.unstable_now,prepareForCommit:Ffe,preparePortalMount:Ufe,prepareUpdate:Bfe,removeChild:nge,removeChildFromContainer:rge,resetAfterCommit:Hfe,resetTextContent:zfe,run:Md.unstable_runWithPriority,scheduleTimeout:Wfe,shouldDeprioritizeSubtree:Gfe,shouldSetTextContent:Yfe,supportsMutation:Jfe,unhideInstance:cge,unhideTextInstance:uge,warnsIfNotActing:Xfe},Symbol.toStringTag,{value:"Module"}));var pge=Object.defineProperty,mge=Object.defineProperties,vge=Object.getOwnPropertyDescriptors,g3=Object.getOwnPropertySymbols,yge=Object.prototype.hasOwnProperty,xge=Object.prototype.propertyIsEnumerable,p3=(t,e,n)=>e in t?pge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m3=(t,e)=>{for(var n in e||(e={}))yge.call(e,n)&&p3(t,n,e[n]);if(g3)for(var n of g3(e))xge.call(e,n)&&p3(t,n,e[n]);return t},bge=(t,e)=>mge(t,vge(e)),v3,y3;typeof window<"u"&&((v3=window.document)!=null&&v3.createElement||((y3=window.navigator)==null?void 0:y3.product)==="ReactNative")?M.useLayoutEffect:M.useEffect;function u9(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=u9(r,e,n);if(i)return i;r=r.sibling}}function d9(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const x3=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=x3;return}return x3.apply(this,arguments)};const sA=d9(M.createContext(null));class h9 extends M.Component{render(){return M.createElement(sA.Provider,{value:this._reactInternals},this.props.children)}}function wge(){const t=M.useContext(sA);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=M.useId();return M.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=u9(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Sge(){const t=wge(),[e]=M.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==sA&&!e.has(i)&&e.set(i,M.useContext(d9(i)))}n=n.return}return e}function Cge(){const t=Sge();return M.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>M.createElement(e,null,M.createElement(n.Provider,bge(m3({},r),{value:t.get(n)}))),e=>M.createElement(h9,m3({},e))),[t])}function Ege(t){const e=q.useRef({});return q.useLayoutEffect(()=>{e.current=t}),q.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const _ge=t=>{const e=q.useRef(),n=q.useRef(),r=q.useRef(),i=Ege(t),s=Cge(),o=a=>{const{forwardedRef:c}=t;c&&(typeof c=="function"?c(a):c.current=a)};return q.useLayoutEffect(()=>(n.current=new Yh.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=jd.createContainer(n.current,a9.LegacyRoot,!1,null),jd.updateContainer(q.createElement(s,{},t.children),r.current),()=>{Yh.isBrowser&&(o(null),jd.updateContainer(null,r.current,null),n.current.destroy())}),[]),q.useLayoutEffect(()=>{o(n.current),tx(n.current,t,i),jd.updateContainer(q.createElement(s,{},t.children),r.current,null)}),q.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},Age="Layer",Nge="Group",Tge="Rect",b3="Text",kge="Arrow",jd=Tfe(gge);jd.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:q.version,rendererPackageName:"react-konva"});const Rge=q.forwardRef((t,e)=>q.createElement(h9,{},q.createElement(_ge,{...t,forwardedRef:e})));function Ige({project:t}){const[e,n]=q.useState([{id:"1",x:100,y:100,width:120,height:60,text:"Frontend App",type:"ui"},{id:"2",x:300,y:100,width:120,height:60,text:"API Gateway",type:"service"},{id:"3",x:500,y:100,width:120,height:60,text:"Auth Service",type:"service"}]),[r,i]=q.useState([{id:"1",from:"1",to:"2",text:"REST API"},{id:"2",from:"2",to:"3",text:"JWT Auth"}]),[s,o]=q.useState(null),[a,c]=q.useState(!1),u=y=>{c(!0);const x=y.target.id();o(x)},f=y=>{c(!1);const x=y.target.id();if(e.find(b=>b.id===x)){const b=e.map(E=>E.id===x?{...E,x:y.target.x(),y:y.target.y()}:E);n(b)}},g=y=>{switch(y){case"service":return"#3B82F6";case"database":return"#10B981";case"external":return"#F59E0B";case"ui":return"#6366F1";default:return"#6B7280"}},p=y=>l.jsxs(Nge,{id:y.id,x:y.x,y:y.y,draggable:!0,onDragStart:u,onDragEnd:f,children:[l.jsx(Tge,{width:y.width,height:y.height,fill:g(y.type),opacity:.8,cornerRadius:8,shadowColor:"black",shadowBlur:5,shadowOpacity:.2,shadowOffset:{x:2,y:2}}),l.jsx(b3,{text:y.text,width:y.width,height:y.height,align:"center",verticalAlign:"middle",fill:"white",fontSize:14,fontFamily:"sans-serif"})]},y.id),m=y=>{const x=e.find(A=>A.id===y.from),C=e.find(A=>A.id===y.to);if(!x||!C)return null;const b=[x.x+x.width,x.y+x.height/2,C.x,C.y+C.height/2],E=(b[0]+b[2])/2,S=(b[1]+b[3])/2-15;return l.jsxs(q.Fragment,{children:[l.jsx(kge,{points:b,stroke:"#94A3B8",strokeWidth:2,fill:"#94A3B8",pointerLength:8,pointerWidth:8}),y.text&&l.jsx(b3,{x:E,y:S,text:y.text,fontSize:12,fill:"#64748B",align:"center",width:100,offsetX:50})]},y.id)};return l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Architecture Diagram"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Add Component"}),l.jsx("button",{className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Add Connection"}),l.jsx("button",{className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Export"})]})]})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:l.jsx(Rge,{width:800,height:600,children:l.jsxs(Age,{children:[r.map(m),e.map(p)]})})})})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Dge(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Ho(t,e){return typeof t=="function"?t(e):t}function $r(t,e){return n=>{e.setState(r=>({...r,[t]:Ho(n,r[t])}))}}function nx(t){return t instanceof Function}function Pge(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function jge(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function Me(t,e,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const a=t(s);if(!(a.length!==r.length||a.some((f,g)=>r[g]!==f)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=e(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-u)*100)/100,p=g/16,m=(y,x)=>{for(y=String(y);y.length<x;)y=" "+y;return y};console.info(`%c ${m(g,5)} /${m(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function Oe(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function Mge(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Me(()=>[t,n,e,s],(o,a,c,u)=>({table:o,column:a,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Oe(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function Oge(t,e,n,r){var i,s;const a={...t._getDefaultColumnDef(),...e},c=a.accessorKey;let u=(i=(s=a.id)!=null?s:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:c&&(c.includes(".")?f=p=>{let m=p;for(const x of c.split(".")){var y;m=(y=m)==null?void 0:y[x]}return m}:f=p=>p[a.accessorKey]),!u)throw new Error;let g={id:`${String(u)}`,accessorFn:f,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Me(()=>[!0],()=>{var p;return[g,...(p=g.columns)==null?void 0:p.flatMap(m=>m.getFlatColumns())]},Oe(t.options,"debugColumns")),getLeafColumns:Me(()=>[t._getOrderColumnsFn()],p=>{var m;if((m=g.columns)!=null&&m.length){let y=g.columns.flatMap(x=>x.getLeafColumns());return p(y)}return[g]},Oe(t.options,"debugColumns"))};for(const p of t._features)p.createColumn==null||p.createColumn(g,t);return g}const zn="debugHeaders";function w3(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(a),o.push(c)};return a(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Lge={createTable:t=>{t.getHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const a=(s=r==null?void 0:r.map(g=>n.find(p=>p.id===g)).filter(Boolean))!=null?s:[],c=(o=i==null?void 0:i.map(g=>n.find(p=>p.id===g)).filter(Boolean))!=null?o:[],u=n.filter(g=>!(r!=null&&r.includes(g.id))&&!(i!=null&&i.includes(g.id)));return Tp(e,[...a,...u,...c],t)},Oe(t.options,zn)),t.getCenterHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),Tp(e,n,t,"center")),Oe(t.options,zn)),t.getLeftHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return Tp(e,s,t,"left")},Oe(t.options,zn)),t.getRightHeaderGroups=Me(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r==null?void 0:r.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return Tp(e,s,t,"right")},Oe(t.options,zn)),t.getFooterGroups=Me(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Oe(t.options,zn)),t.getLeftFooterGroups=Me(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Oe(t.options,zn)),t.getCenterFooterGroups=Me(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Oe(t.options,zn)),t.getRightFooterGroups=Me(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Oe(t.options,zn)),t.getFlatHeaders=Me(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Oe(t.options,zn)),t.getLeftFlatHeaders=Me(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Oe(t.options,zn)),t.getCenterFlatHeaders=Me(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Oe(t.options,zn)),t.getRightFlatHeaders=Me(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Oe(t.options,zn)),t.getCenterLeafHeaders=Me(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Oe(t.options,zn)),t.getLeftLeafHeaders=Me(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Oe(t.options,zn)),t.getRightLeafHeaders=Me(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Oe(t.options,zn)),t.getLeafHeaders=Me(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,a,c,u;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(f=>f.getLeafHeaders()).flat()},Oe(t.options,zn))}};function Tp(t,e,n,r){var i,s;let o=0;const a=function(p,m){m===void 0&&(m=1),o=Math.max(o,m),p.filter(y=>y.getIsVisible()).forEach(y=>{var x;(x=y.columns)!=null&&x.length&&a(y.columns,m+1)},0)};a(t);let c=[];const u=(p,m)=>{const y={depth:m,id:[r,`${m}`].filter(Boolean).join("_"),headers:[]},x=[];p.forEach(C=>{const b=[...x].reverse()[0],E=C.column.depth===y.depth;let S,A=!1;if(E&&C.column.parent?S=C.column.parent:(S=C.column,A=!0),b&&(b==null?void 0:b.column)===S)b.subHeaders.push(C);else{const T=w3(n,S,{id:[r,m,S.id,C==null?void 0:C.id].filter(Boolean).join("_"),isPlaceholder:A,placeholderId:A?`${x.filter(k=>k.column===S).length}`:void 0,depth:m,index:x.length});T.subHeaders.push(C),x.push(T)}y.headers.push(C),C.headerGroup=y}),c.push(y),m>0&&u(x,m-1)},f=e.map((p,m)=>w3(n,p,{depth:o,index:m}));u(f,o-1),c.reverse();const g=p=>p.filter(y=>y.column.getIsVisible()).map(y=>{let x=0,C=0,b=[0];y.subHeaders&&y.subHeaders.length?(b=[],g(y.subHeaders).forEach(S=>{let{colSpan:A,rowSpan:T}=S;x+=A,b.push(T)})):x=1;const E=Math.min(...b);return C=C+E,y.colSpan=x,y.rowSpan=C,{colSpan:x,rowSpan:C}});return g((i=(s=c[0])==null?void 0:s.headers)!=null?i:[]),c}const Fge=(t,e,n,r,i,s,o)=>{let a={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(a._valuesCache.hasOwnProperty(c))return a._valuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return a._valuesCache[c]=u.accessorFn(a.original,r),a._valuesCache[c]},getUniqueValues:c=>{if(a._uniqueValuesCache.hasOwnProperty(c))return a._uniqueValuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[c]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[c]):(a._uniqueValuesCache[c]=[a.getValue(c)],a._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=a.getValue(c))!=null?u:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>jge(a.subRows,c=>c.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let c=[],u=a;for(;;){const f=u.getParentRow();if(!f)break;c.push(f),u=f}return c.reverse()},getAllCells:Me(()=>[t.getAllLeafColumns()],c=>c.map(u=>Mge(t,a,u,u.id)),Oe(t.options,"debugRows")),_getAllCellsByColumnId:Me(()=>[a.getAllCells()],c=>c.reduce((u,f)=>(u[f.column.id]=f,u),{}),Oe(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const u=t._features[c];u==null||u.createRow==null||u.createRow(a,t)}return a},Uge={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},f9=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};f9.autoRemove=t=>Ui(t);const g9=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};g9.autoRemove=t=>Ui(t);const p9=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};p9.autoRemove=t=>Ui(t);const m9=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};m9.autoRemove=t=>Ui(t)||!(t!=null&&t.length);const v9=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});v9.autoRemove=t=>Ui(t)||!(t!=null&&t.length);const y9=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});y9.autoRemove=t=>Ui(t)||!(t!=null&&t.length);const x9=(t,e,n)=>t.getValue(e)===n;x9.autoRemove=t=>Ui(t);const b9=(t,e,n)=>t.getValue(e)==n;b9.autoRemove=t=>Ui(t);const oA=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};oA.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};oA.autoRemove=t=>Ui(t)||Ui(t[0])&&Ui(t[1]);const Os={includesString:f9,includesStringSensitive:g9,equalsString:p9,arrIncludes:m9,arrIncludesAll:v9,arrIncludesSome:y9,equals:x9,weakEquals:b9,inNumberRange:oA};function Ui(t){return t==null||t===""}const Bge={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:$r("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?Os.includesString:typeof r=="number"?Os.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Os.equals:Array.isArray(r)?Os.arrIncludes:Os.weakEquals},t.getFilterFn=()=>{var n,r;return nx(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Os[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r==null?void 0:r.find(f=>f.id===t.id),o=Ho(n,s?s.value:void 0);if(S3(i,o,t)){var a;return(a=r==null?void 0:r.filter(f=>f.id!==t.id))!=null?a:[]}const c={id:t.id,value:o};if(s){var u;return(u=r==null?void 0:r.map(f=>f.id===t.id?c:f))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Ho(e,i))==null?void 0:s.filter(o=>{const a=n.find(c=>c.id===o.id);if(a){const c=a.getFilterFn();if(S3(c,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function S3(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Hge=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),zge=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},Gge=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},$ge=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},Vge=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},Wge=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!Pge(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},qge=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Kge=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Yge=(t,e)=>e.length,J1={sum:Hge,min:zge,max:Gge,extent:$ge,mean:Vge,median:Wge,unique:qge,uniqueCount:Kge,count:Yge},Qge={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:$r("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return J1.sum;if(Object.prototype.toString.call(r)==="[object Date]")return J1.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return nx(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:J1[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Xge(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const Jge={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:$r("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Me(n=>[sh(e,n)],n=>n.findIndex(r=>r.id===t.id),Oe(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=sh(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=sh(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Me(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],a=[...i];for(;a.length&&o.length;){const c=o.shift(),u=a.findIndex(f=>f.id===c);u>-1&&s.push(a.splice(u,1)[0])}s=[...s,...a]}return Xge(s,n,r)},Oe(t.options,"debugTable"))}},Z1=()=>({left:[],right:[]}),Zge={getInitialState:t=>({columnPinning:Z1(),...t}),getDefaultOptions:t=>({onColumnPinningChange:$r("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var a,c;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((c=i==null?void 0:i.right)!=null?c:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(n==="left"){var u,f;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((f=i==null?void 0:i.right)!=null?f:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(g=>!(r!=null&&r.includes(g)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},Oe(e.options,"debugRows")),t.getLeftVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Oe(e.options,"debugRows")),t.getRightVisibleCells=Me(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Oe(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?Z1():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:Z1())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Oe(t.options,"debugColumns")),t.getRightLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),Oe(t.options,"debugColumns")),t.getCenterLeafColumns=Me(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},Oe(t.options,"debugColumns"))}},kp={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ew=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),epe={getDefaultColumnDef:()=>kp,getInitialState:t=>({columnSizing:{},columnSizingInfo:ew(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:$r("columnSizing",t),onColumnSizingInfoChange:$r("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:kp.minSize,(r=s??t.columnDef.size)!=null?r:kp.size),(i=t.columnDef.maxSize)!=null?i:kp.maxSize)},t.getStart=Me(n=>[n,sh(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),Oe(e.options,"debugColumns")),t.getAfter=Me(n=>[n,sh(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),Oe(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),tw(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),a=t?t.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],c=tw(s)?Math.round(s.touches[0].clientX):s.clientX,u={},f=(b,E)=>{typeof E=="number"&&(e.setColumnSizingInfo(S=>{var A,T;const k=e.options.columnResizeDirection==="rtl"?-1:1,I=(E-((A=S==null?void 0:S.startOffset)!=null?A:0))*k,D=Math.max(I/((T=S==null?void 0:S.startSize)!=null?T:0),-.999999);return S.columnSizingStart.forEach(P=>{let[R,O]=P;u[R]=Math.round(Math.max(O+O*D,0)*100)/100}),{...S,deltaOffset:I,deltaPercentage:D}}),(e.options.columnResizeMode==="onChange"||b==="end")&&e.setColumnSizing(S=>({...S,...u})))},g=b=>f("move",b),p=b=>{f("end",b),e.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=n||typeof document<"u"?document:null,y={moveHandler:b=>g(b.clientX),upHandler:b=>{m==null||m.removeEventListener("mousemove",y.moveHandler),m==null||m.removeEventListener("mouseup",y.upHandler),p(b.clientX)}},x={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),g(b.touches[0].clientX),!1),upHandler:b=>{var E;m==null||m.removeEventListener("touchmove",x.moveHandler),m==null||m.removeEventListener("touchend",x.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),p((E=b.touches[0])==null?void 0:E.clientX)}},C=tpe()?{passive:!1}:!1;tw(s)?(m==null||m.addEventListener("touchmove",x.moveHandler,C),m==null||m.addEventListener("touchend",x.upHandler,C)):(m==null||m.addEventListener("mousemove",y.moveHandler,C),m==null||m.addEventListener("mouseup",y.upHandler,C)),e.setColumnSizingInfo(b=>({...b,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?ew():(n=t.initialState.columnSizingInfo)!=null?n:ew())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let Rp=null;function tpe(){if(typeof Rp=="boolean")return Rp;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Rp=t,Rp}function tw(t){return t.type==="touchstart"}const npe={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:$r("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Me(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Oe(e.options,"debugRows")),t.getVisibleCells=Me(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],Oe(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Me(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Oe(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function sh(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const rpe={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},ipe={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:$r("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Os.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return nx(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Os[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},spe={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:$r("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:a,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},dC=0,hC=10,nw=()=>({pageIndex:dC,pageSize:hC}),ope={getInitialState:t=>({...t,pagination:{...nw(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:$r("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Ho(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?nw():(i=t.initialState.pagination)!=null?i:nw())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Ho(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?dC:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:dC)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?hC:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:hC)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Ho(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let o=Ho(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=Me(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},Oe(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},rw=()=>({top:[],bottom:[]}),ape={getInitialState:t=>({rowPinning:rw(),...t}),getDefaultOptions:t=>({onRowPinningChange:$r("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=i?t.getParentRows().map(c=>{let{id:u}=c;return u}):[],a=new Set([...o,t.id,...s]);e.setRowPinning(c=>{var u,f;if(n==="bottom"){var g,p;return{top:((g=c==null?void 0:c.top)!=null?g:[]).filter(x=>!(a!=null&&a.has(x))),bottom:[...((p=c==null?void 0:c.bottom)!=null?p:[]).filter(x=>!(a!=null&&a.has(x))),...Array.from(a)]}}if(n==="top"){var m,y;return{top:[...((m=c==null?void 0:c.top)!=null?m:[]).filter(x=>!(a!=null&&a.has(x))),...Array.from(a)],bottom:((y=c==null?void 0:c.bottom)!=null?y:[]).filter(x=>!(a!=null&&a.has(x)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(x=>!(a!=null&&a.has(x))),bottom:((f=c==null?void 0:c.bottom)!=null?f:[]).filter(x=>!(a!=null&&a.has(x)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(a=>r==null?void 0:r.includes(a)),o=n.some(a=>i==null?void 0:i.includes(a));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=s==null?void 0:s.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?rw():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:rw())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const a=t.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Oe(t.options,"debugRows")),t.getBottomRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Oe(t.options,"debugRows")),t.getCenterRows=Me(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},Oe(t.options,"debugRows"))}},lpe={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:$r("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{fC(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?iw(t,n):{rows:[],flatRows:[],rowsById:{}},Oe(t.options,"debugTable")),t.getFilteredSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?iw(t,n):{rows:[],flatRows:[],rowsById:{}},Oe(t.options,"debugTable")),t.getGroupedSelectedRowModel=Me(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?iw(t,n):{rows:[],flatRows:[],rowsById:{}},Oe(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const a={...s};return fC(a,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return aA(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return gC(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return gC(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},fC=(t,e,n,r,i)=>{var s;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>fC(t,a.id,n,r,i))};function iw(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(c=>{var u;const f=aA(c,n);if(f&&(r.push(c),i[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:s(c.subRows)}),f)return c}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function aA(t,e){var n;return(n=e[t.id])!=null?n:!1}function gC(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(aA(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=gC(o,e);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const pC=/([0-9]+)/gm,cpe=(t,e,n)=>w9(pa(t.getValue(n)).toLowerCase(),pa(e.getValue(n)).toLowerCase()),upe=(t,e,n)=>w9(pa(t.getValue(n)),pa(e.getValue(n))),dpe=(t,e,n)=>lA(pa(t.getValue(n)).toLowerCase(),pa(e.getValue(n)).toLowerCase()),hpe=(t,e,n)=>lA(pa(t.getValue(n)),pa(e.getValue(n))),fpe=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},gpe=(t,e,n)=>lA(t.getValue(n),e.getValue(n));function lA(t,e){return t===e?0:t>e?1:-1}function pa(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function w9(t,e){const n=t.split(pC).filter(Boolean),r=e.split(pC).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),c=[o,a].sort();if(isNaN(c[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const _d={alphanumeric:cpe,alphanumericCaseSensitive:upe,text:dpe,textCaseSensitive:hpe,datetime:fpe,basic:gpe},ppe={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:$r("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return _d.datetime;if(typeof s=="string"&&(r=!0,s.split(pC).length>1))return _d.alphanumeric}return r?_d.text:_d.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return nx(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:_d[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const a=o==null?void 0:o.find(m=>m.id===t.id),c=o==null?void 0:o.findIndex(m=>m.id===t.id);let u=[],f,g=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?a?f="toggle":f="add":o!=null&&o.length&&c!==o.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(s||i||(f="remove")),f==="add"){var p;u=[...o,{id:t.id,desc:g}],u.splice(0,u.length-((p=e.options.maxMultiSortColCount)!=null?p:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=o.map(m=>m.id===t.id?{...m,desc:g}:m):f==="remove"?u=o.filter(m=>m.id!==t.id):u=[{id:t.id,desc:g}];return u})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},mpe=[Lge,npe,Jge,Zge,Uge,Bge,rpe,ipe,ppe,Qge,spe,ope,ape,lpe,epe];function vpe(t){var e,n;const r=[...mpe,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((p,m)=>Object.assign(p,m.getDefaultOptions==null?void 0:m.getDefaultOptions(i)),{}),o=p=>i.options.mergeOptions?i.options.mergeOptions(s,p):{...s,...p};let c={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(p=>{var m;c=(m=p.getInitialState==null?void 0:p.getInitialState(c))!=null?m:c});const u=[];let f=!1;const g={_features:r,options:{...s,...t},initialState:c,_queue:p=>{u.push(p),f||(f=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();f=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{i.setState(i.initialState)},setOptions:p=>{const m=Ho(p,i.options);i.options=o(m)},getState:()=>i.options.state,setState:p=>{i.options.onStateChange==null||i.options.onStateChange(p)},_getRowId:(p,m,y)=>{var x;return(x=i.options.getRowId==null?void 0:i.options.getRowId(p,m,y))!=null?x:`${y?[y.id,m].join("."):m}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(p,m)=>{let y=(m?i.getPrePaginationRowModel():i.getRowModel()).rowsById[p];if(!y&&(y=i.getCoreRowModel().rowsById[p],!y))throw new Error;return y},_getDefaultColumnDef:Me(()=>[i.options.defaultColumn],p=>{var m;return p=(m=p)!=null?m:{},{header:y=>{const x=y.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:y=>{var x,C;return(x=(C=y.renderValue())==null||C.toString==null?void 0:C.toString())!=null?x:null},...i._features.reduce((y,x)=>Object.assign(y,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...p}},Oe(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Me(()=>[i._getColumnDefs()],p=>{const m=function(y,x,C){return C===void 0&&(C=0),y.map(b=>{const E=Oge(i,b,C,x),S=b;return E.columns=S.columns?m(S.columns,E,C+1):[],E})};return m(p)},Oe(t,"debugColumns")),getAllFlatColumns:Me(()=>[i.getAllColumns()],p=>p.flatMap(m=>m.getFlatColumns()),Oe(t,"debugColumns")),_getAllFlatColumnsById:Me(()=>[i.getAllFlatColumns()],p=>p.reduce((m,y)=>(m[y.id]=y,m),{}),Oe(t,"debugColumns")),getAllLeafColumns:Me(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(p,m)=>{let y=p.flatMap(x=>x.getLeafColumns());return m(y)},Oe(t,"debugColumns")),getColumn:p=>i._getAllFlatColumnsById()[p]};Object.assign(i,g);for(let p=0;p<i._features.length;p++){const m=i._features[p];m==null||m.createTable==null||m.createTable(i)}return i}function ype(){return t=>Me(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let u=0;u<i.length;u++){const f=Fge(t,t._getRowId(i[u],u,o),i[u],u,s,void 0,o==null?void 0:o.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,a.push(f),t.options.getSubRows){var c;f.originalSubRows=t.options.getSubRows(i[u],u),(c=f.originalSubRows)!=null&&c.length&&(f.subRows=r(f.originalSubRows,s+1,f))}}return a};return n.rows=r(e),n},Oe(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function xpe(){return t=>Me(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(c=>{var u;return(u=t.getColumn(c.id))==null?void 0:u.getCanSort()}),o={};s.forEach(c=>{const u=t.getColumn(c.id);u&&(o[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=c=>{const u=c.map(f=>({...f}));return u.sort((f,g)=>{for(let m=0;m<s.length;m+=1){var p;const y=s[m],x=o[y.id],C=x.sortUndefined,b=(p=y==null?void 0:y.desc)!=null?p:!1;let E=0;if(C){const S=f.getValue(y.id),A=g.getValue(y.id),T=S===void 0,k=A===void 0;if(T||k){if(C==="first")return T?-1:1;if(C==="last")return T?1:-1;E=T&&k?0:T?C:-C}}if(E===0&&(E=x.sortingFn(f,g,y.id)),E!==0)return b&&(E*=-1),x.invertSorting&&(E*=-1),E}return f.index-g.index}),u.forEach(f=>{var g;i.push(f),(g=f.subRows)!=null&&g.length&&(f.subRows=a(f.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},Oe(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function C3(t,e){return t?bpe(t)?M.createElement(t,e):t:null}function bpe(t){return wpe(t)||typeof t=="function"||Spe(t)}function wpe(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function Spe(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Cpe(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=M.useState(()=>({current:vpe(e)})),[r,i]=M.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}function Epe({project:t}){const[e,n]=q.useState([]),[r,i]=q.useState(!1),[s,o]=q.useState(null),a=Dge(),c=q.useMemo(()=>t.milestones.flatMap(g=>g.assignedTeam.map(p=>{const m=t.team.find(y=>y.id===p);return{id:`${g.id}-${p}`,milestone:g.title,assignee:(m==null?void 0:m.name)||"Unassigned",role:(m==null?void 0:m.role)||"N/A",allocated:g.estimatedHours,used:g.actualHours,remaining:g.estimatedHours-g.actualHours,progress:g.actualHours/g.estimatedHours*100}})),[t]),u=[a.accessor("milestone",{header:({column:g})=>l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>g.toggleSorting(),children:[l.jsx("span",{children:"Milestone"}),l.jsx(vr,{className:"w-4 h-4"})]}),cell:g=>g.getValue()}),a.accessor("assignee",{header:({column:g})=>l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>g.toggleSorting(),children:[l.jsx("span",{children:"Assignee"}),l.jsx(vr,{className:"w-4 h-4"})]})}),a.accessor("role",{header:({column:g})=>l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>g.toggleSorting(),children:[l.jsx("span",{children:"Role"}),l.jsx(vr,{className:"w-4 h-4"})]})}),a.accessor("allocated",{header:({column:g})=>l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>g.toggleSorting(),children:[l.jsx("span",{children:"Hours Allocated"}),l.jsx(vr,{className:"w-4 h-4"})]}),cell:g=>`${g.getValue()}h`}),a.accessor("used",{header:({column:g})=>l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>g.toggleSorting(),children:[l.jsx("span",{children:"Hours Used"}),l.jsx(vr,{className:"w-4 h-4"})]}),cell:g=>`${g.getValue()}h`}),a.accessor("remaining",{header:({column:g})=>l.jsxs("button",{className:"flex items-center space-x-1",onClick:()=>g.toggleSorting(),children:[l.jsx("span",{children:"Hours Remaining"}),l.jsx(vr,{className:"w-4 h-4"})]}),cell:g=>`${g.getValue()}h`}),a.accessor("progress",{header:"Progress",cell:g=>l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 rounded-full h-2",style:{width:`${g.getValue()}%`}})})}),a.display({id:"actions",cell:g=>l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>{o(g.row.original),i(!0)},className:"p-1 text-gray-400 hover:text-blue-600",children:l.jsx(Tv,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{},className:"p-1 text-gray-400 hover:text-red-600",children:l.jsx(Xc,{className:"w-4 h-4"})})]})})],f=Cpe({data:c,columns:u,state:{sorting:e},onSortingChange:n,getCoreRowModel:ype(),getSortedRowModel:xpe()});return l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Work Breakdown Structure"}),l.jsxs("button",{onClick:()=>{o(null),i(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Allocation"})]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:f.getHeaderGroups().map(g=>l.jsx("tr",{children:g.headers.map(p=>l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:p.isPlaceholder?null:C3(p.column.columnDef.header,p.getContext())},p.id))},g.id))}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.getRowModel().rows.map(g=>l.jsx("tr",{children:g.getVisibleCells().map(p=>l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C3(p.column.columnDef.cell,p.getContext())},p.id))},g.id))})]})}),l.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Hours Allocated"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[c.reduce((g,p)=>g+p.allocated,0),"h"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Hours Used"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[c.reduce((g,p)=>g+p.used,0),"h"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Overall Progress"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[Math.round(c.reduce((g,p)=>g+p.used,0)/c.reduce((g,p)=>g+p.allocated,0)*100),"%"]})]})]})}),r&&l.jsx(_pe,{project:t,allocation:s,onClose:()=>{i(!1),o(null)}})]})}function _pe({project:t,allocation:e,onClose:n}){const[r,i]=q.useState({milestoneId:(e==null?void 0:e.milestone)||"",assigneeId:"",hours:(e==null?void 0:e.allocated)||0});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e?"Edit Allocation":"Add Allocation"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Milestone"}),l.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.milestoneId,onChange:s=>i({...r,milestoneId:s.target.value}),children:[l.jsx("option",{value:"",children:"Select a milestone..."}),t.milestones.map(s=>l.jsx("option",{value:s.id,children:s.title},s.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Member"}),l.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.assigneeId,onChange:s=>i({...r,assigneeId:s.target.value}),children:[l.jsx("option",{value:"",children:"Select a team member..."}),t.team.map(s=>l.jsxs("option",{value:s.id,children:[s.name," (",s.role,")"]},s.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hours Allocated"}),l.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.hours,onChange:s=>i({...r,hours:Number(s.target.value)})})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsxs("button",{onClick:()=>{n()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e?"Update":"Add"," Allocation"]})]})]})})}function Ape({project:t}){const{addTeamMember:e,updateTeamMember:n,removeTeamMember:r}=bs(),[i,s]=q.useState(!1),[o,a]=q.useState(null),c=f=>{e(t.id,f),s(!1)},u=f=>{n(t.id,f.id,f),a(null)};return l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Team Members"}),l.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[l.jsx(mi,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Member"})]})]})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"space-y-4",children:t.team.map(f=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:f.name}),l.jsx("p",{className:"text-sm text-gray-500",children:f.role}),l.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:["Availability: ",f.availability,"h/week"]}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Rate: $",f.hourlyRate,"/h"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>a(f),className:"p-2 text-gray-400 hover:text-blue-600",children:l.jsx(Tv,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>r(t.id,f.id),className:"p-2 text-gray-400 hover:text-red-600",children:l.jsx(Xc,{className:"w-4 h-4"})})]})]},f.id))})}),(i||o)&&l.jsx(Npe,{member:o,onSave:o?u:c,onClose:()=>{s(!1),a(null)}})]})}function Npe({member:t,onSave:e,onClose:n}){const[r,i]=q.useState({id:(t==null?void 0:t.id)||Date.now().toString(),name:(t==null?void 0:t.name)||"",role:(t==null?void 0:t.role)||"",hourlyRate:(t==null?void 0:t.hourlyRate)||0,availability:(t==null?void 0:t.availability)||40,skills:(t==null?void 0:t.skills)||[]});return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:t?"Edit Team Member":"Add Team Member"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),l.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.name,onChange:s=>i({...r,name:s.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),l.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.role,onChange:s=>i({...r,role:s.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hourly Rate ($)"}),l.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.hourlyRate,onChange:s=>i({...r,hourlyRate:Number(s.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Availability (hours/week)"}),l.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.availability,onChange:s=>i({...r,availability:Number(s.target.value)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Skills"}),l.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:r.skills.join(", "),onChange:s=>i({...r,skills:s.target.value.split(",").map(o=>o.trim())}),placeholder:"Enter skills separated by commas"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancel"}),l.jsxs("button",{onClick:()=>e(r),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[t?"Update":"Add"," Member"]})]})]})})}function Tpe(){const{id:t}=d2(),{projects:e,activeProject:n,setActiveProject:r}=bs();return q.useEffect(()=>{t&&r(t)},[t]),n?l.jsx("div",{className:"h-full bg-gray-50 overflow-auto",children:l.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:n.title}),l.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[l.jsx("span",{className:`px-2 py-1 text-sm rounded-full ${n.status==="active"?"bg-green-100 text-green-800":n.status==="planning"?"bg-blue-100 text-blue-800":n.status==="completed"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:n.status.replace("_"," ").charAt(0).toUpperCase()+n.status.slice(1)}),l.jsxs("span",{className:"text-gray-500",children:["Budget: $",n.budget.toLocaleString()]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[l.jsx(Ape,{project:n}),l.jsx(Fne,{project:n})]}),l.jsx("div",{className:"mb-6",children:l.jsx(Epe,{project:n})}),l.jsx("div",{className:"mb-6",children:l.jsx(Ige,{project:n})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[l.jsx(Bne,{project:n}),l.jsx(zne,{project:n}),l.jsx(Nce,{project:n})]}),l.jsx("div",{className:"bg-white rounded-lg shadow",children:l.jsx(Ace,{project:n})})]})}):l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("p",{className:"text-gray-500",children:"Project not found"})})}const kpe=()=>{const[t,e]=M.useState({isTranscribing:!1,progress:"",result:null,error:null}),n=M.useCallback(async i=>{e({isTranscribing:!0,progress:"Retrieving existing transcription...",result:null,error:null});try{const s=await u_.getExistingTranscription(i);return console.log("Fireflies transcription retrieved:",s),e({isTranscribing:!1,progress:"Transcription retrieved!",result:s,error:null}),s}catch(s){const o=s instanceof Error?s.message:"Unknown error occurred";throw console.error("Failed to get Fireflies transcription:",o),e({isTranscribing:!1,progress:"",result:null,error:o}),s}},[]),r=M.useCallback(()=>{e({isTranscribing:!1,progress:"",result:null,error:null})},[]);return{transcribeAudio:n,reset:r,...t}};class Rpe{constructor(){Rs(this,"baseURL");this.baseURL=`${Fs}/meetings`}async saveMeeting(e){var n,r;try{if(!e.title||typeof e.title!="string"||e.title.trim().length===0)throw new Error("Meeting title is required and must be a non-empty string");if(e.title.length>200)throw new Error("Meeting title is too long (max 200 characters)");console.log("Saving meeting notes:",{title:e.title,titleLength:e.title.length,hasDescription:!!e.description,hasTranscript:!!e.transcript,transcriptType:typeof e.transcript,transcriptLength:typeof e.transcript=="string"?e.transcript.length:0,participantsCount:((n=e.participants)==null?void 0:n.length)||0,tagsCount:((r=e.tags)==null?void 0:r.length)||0,sourceType:e.sourceType,hasSourceUrl:!!e.sourceUrl}),e.description||(e.description="Meeting notes"),e.summary||(e.summary=""),e.participants||(e.participants=[]),e.tags||(e.tags=[]);const i=await qe.post(`${this.baseURL}/save`,e,{headers:{"Content-Type":"application/json"}});return console.log(" Meeting notes saved:",i.data),i.data}catch(i){throw console.error(" Failed to save meeting notes:",i),this.handleError(i)}}async getMeeting(e){try{console.log(" Retrieving meeting:",e);const n=await qe.get(`${this.baseURL}/${e}`);return console.log(" Meeting retrieved:",n.data),n.data}catch(n){throw console.error(" Failed to retrieve meeting:",n),this.handleError(n)}}async listMeetings(){try{console.log(" Listing all meetings");const e=await qe.get(this.baseURL);return console.log(" Meetings listed:",e.data.total,"meetings found"),e.data}catch(e){throw console.error(" Failed to list meetings:",e),this.handleError(e)}}async deleteMeeting(e){try{console.log(" Deleting meeting:",e);const n=await qe.delete(`${this.baseURL}/${e}`);return console.log(" Meeting deleted:",n.data),n.data}catch(n){throw console.error(" Failed to delete meeting:",n),this.handleError(n)}}async searchMeetings(e){try{return(await this.listMeetings()).meetings.filter(i=>i.title.toLowerCase().includes(e.toLowerCase())||i.source.toLowerCase().includes(e.toLowerCase()))}catch(n){throw console.error(" Failed to search meetings:",n),this.handleError(n)}}async exportToPdf(e){try{const n=await this.getMeeting(e),r=`
MEETING NOTES
=============

Title: ${n.title}
Date: ${new Date(n.meetingDate).toLocaleDateString()}
Source: ${n.sourceType}
${n.sourceUrl?`URL: ${n.sourceUrl}`:""}

Description:
${n.description||"No description"}

Participants:
${n.participants.length>0?n.participants.join(", "):"No participants listed"}

Tags:
${n.tags.length>0?n.tags.join(", "):"No tags"}

Transcript:
${n.transcript||"No transcript available"}

Summary:
${n.summary||"No summary available"}
      `;return new Blob([r],{type:"text/plain"})}catch(n){throw console.error(" Failed to export meeting:",n),this.handleError(n)}}async testConnection(){var e,n;try{console.log(" Testing meeting notes API connection...");const r={title:`Test-Connection-${Date.now()}`,description:"API connection test",transcript:"Test transcript content",summary:"Test summary",sourceUrl:"",sourceType:"test",participants:["Test User"],tags:["test"],meetingDate:new Date().toISOString()},i=await qe.post(`${this.baseURL}/save`,r,{headers:{"Content-Type":"application/json"}});return console.log(" API connection test successful:",i.data),!0}catch(r){return console.error(" API connection test failed:",r),qe.isAxiosError(r)&&(console.error("Response status:",(e=r.response)==null?void 0:e.status),console.error("Response data:",(n=r.response)==null?void 0:n.data),console.error("Request config:",r.config)),!1}}handleError(e){var n,r,i,s,o,a;if(qe.isAxiosError(e)){const c=(n=e.response)==null?void 0:n.status,u=(r=e.response)==null?void 0:r.data;let f="API request failed";return c===400?(f=(u==null?void 0:u.error)||(u==null?void 0:u.message)||"Bad request - check your input data",console.error(" 400 Error Details:",{status:c,data:u,url:(i=e.config)==null?void 0:i.url,method:(s=e.config)==null?void 0:s.method,requestData:typeof((o=e.config)==null?void 0:o.data)=="string"?e.config.data.substring(0,500)+"...":(a=e.config)==null?void 0:a.data})):c===401?f="Unauthorized - check your API credentials":c===403?f="Forbidden - insufficient permissions":c===404?f="Resource not found":c===500?f="Server error - please try again later":f=(u==null?void 0:u.error)||(u==null?void 0:u.message)||e.message,new Error(`Meeting Notes API Error: ${f}`)}return new Error(`Unexpected error: ${e.message||"Unknown error"}`)}}const Us=new Rpe;class Ipe{constructor(){Rs(this,"baseURL");Rs(this,"apiKey");this.baseURL="https://api.lucid.co/v1",this.apiKey="",this.apiKey||console.warn("Lucid API key not found. Set VITE_LUCIDCHART_API_KEY environment variable.")}async generateFromFirefliesData(e){try{if(console.log("Creating actual Lucid document from Fireflies data:",e.title),!this.apiKey)throw new Error("Lucid API key is required. Please set VITE_LUCIDCHART_API_KEY in your environment variables.");const n=this.extractArchitectureFromFireflies(e),r=await this.createDocument({title:`${e.title} - Architecture`,description:`Architecture diagram generated from meeting: ${e.title}`}),i=await this.addComponentShapes(r.id,n.components),s=await this.addComponentConnections(r.id,i,n.relationships);await this.autoLayoutDiagram(r.id);const o={documentId:r.id,documentUrl:r.viewUrl,embedUrl:r.embedUrl,editUrl:r.editUrl,title:r.title,status:"completed",message:"Architecture diagram created successfully in Lucidchart",mermaidCode:n.mermaidDiagram,shapes:i,lines:s};return console.log("Lucid document created successfully:",o),o}catch(n){throw console.error("Failed to create Lucid document:",n),this.handleError(n)}}async createDocument(e){try{const r=(await qe.post(`${this.baseURL}/documents`,{title:e.title,description:e.description,product:"lucidchart"},{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}})).data;return{id:r.id,title:r.title,folderId:r.folderId,createdDate:r.createdDate,lastModifiedDate:r.lastModifiedDate,embedUrl:`https://lucid.app/lucidchart/embed/${r.id}`,editUrl:`https://lucid.app/lucidchart/${r.id}/edit`,viewUrl:`https://lucid.app/lucidchart/${r.id}/view`,product:"lucidchart"}}catch(n){throw console.error("Failed to create Lucid document:",n),new Error("Failed to create Lucid document: "+n.message)}}async addComponentShapes(e,n){const r=[];for(let a=0;a<n.length;a++){const c=n[a],u=c.position||{x:100+a%3*200,y:100+Math.floor(a/3)*200};try{const g={id:(await qe.post(`${this.baseURL}/documents/${e}/shapes`,{type:this.getLucidShapeType(c.type),label:c.name,x:u.x,y:u.y,width:120,height:80,style:this.getComponentStyle(c.type),data:{componentType:c.type,description:c.description,technology:c.technology,sourceType:"fireflies-generated"}},{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}})).data.id,type:c.type,label:c.name,x:u.x,y:u.y,width:120,height:80,style:this.getComponentStyle(c.type),data:{componentType:c.type,originalName:c.name}};r.push(g),console.log(`Added shape: ${c.name} (${c.type})`),await this.delay(100)}catch(f){console.warn(`Failed to add shape ${c.name}:`,f)}}return r}async addComponentConnections(e,n,r){const i=[];for(const s of r){const o=n.find(c=>c.label.toLowerCase().includes(s.from.toLowerCase())||s.from.toLowerCase().includes(c.label.toLowerCase())),a=n.find(c=>c.label.toLowerCase().includes(s.to.toLowerCase())||s.to.toLowerCase().includes(c.label.toLowerCase()));if(o&&a&&o.id!==a.id)try{const u={id:(await qe.post(`${this.baseURL}/documents/${e}/lines`,{startShapeId:o.id,endShapeId:a.id,label:s.label,style:this.getConnectionStyle(s.type)},{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}})).data.id,startShapeId:o.id,endShapeId:a.id,label:s.label,style:this.getConnectionStyle(s.type)};i.push(u),console.log(`Added connection: ${s.from}  ${s.to}`),await this.delay(100)}catch(c){console.warn(`Failed to add connection ${s.from}  ${s.to}:`,c)}}return i}async autoLayoutDiagram(e){try{await qe.post(`${this.baseURL}/documents/${e}/layout`,{algorithm:"hierarchical",direction:"top-to-bottom"},{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}}),console.log("Applied auto-layout to diagram")}catch(n){console.warn("Auto-layout failed (non-critical):",n)}}getLucidShapeType(e){return{frontend:"flowchart-process",backend:"flowchart-process",database:"flowchart-database",api:"flowchart-data",service:"flowchart-process",external:"flowchart-terminator"}[e]||"flowchart-process"}getComponentStyle(e){const n={frontend:{fill:"#E3F2FD",stroke:"#1976D2",strokeWidth:2,textColor:"#1976D2",fontSize:12,fontFamily:"Arial"},backend:{fill:"#F3E5F5",stroke:"#7B1FA2",strokeWidth:2,textColor:"#7B1FA2",fontSize:12,fontFamily:"Arial"},database:{fill:"#E8F5E8",stroke:"#388E3C",strokeWidth:2,textColor:"#388E3C",fontSize:12,fontFamily:"Arial"},api:{fill:"#FFF3E0",stroke:"#F57C00",strokeWidth:2,textColor:"#F57C00",fontSize:12,fontFamily:"Arial"},service:{fill:"#FCE4EC",stroke:"#C2185B",strokeWidth:2,textColor:"#C2185B",fontSize:12,fontFamily:"Arial"},external:{fill:"#F5F5F5",stroke:"#616161",strokeWidth:2,textColor:"#616161",fontSize:12,fontFamily:"Arial"}};return n[e]||n.service}getConnectionStyle(e){const n={data:{stroke:"#2196F3",strokeWidth:2,lineType:"solid",arrowEnd:!0},api:{stroke:"#FF9800",strokeWidth:2,lineType:"dashed",arrowEnd:!0},dependency:{stroke:"#4CAF50",strokeWidth:1,lineType:"dotted",arrowEnd:!0},flow:{stroke:"#9C27B0",strokeWidth:2,lineType:"solid",arrowEnd:!0}};return n[e]||n.flow}extractArchitectureFromFireflies(e){var a,c,u;const n=((a=e.sentences)==null?void 0:a.map(f=>f.text).join(" "))||"";(c=e.summary)!=null&&c.action_items;const r=((u=e.summary)==null?void 0:u.keywords)||[],i=this.identifyComponents(n,r,e.sentences||[]),s=this.identifyRelationships(n,e.sentences||[]),o=this.generateMermaidDiagram(i,s);return{components:i,relationships:s,mermaidDiagram:o}}identifyComponents(e,n,r){const i=[],s=e.toLowerCase(),a=r.filter(g=>{var p;return(p=g.ai_filters)==null?void 0:p.task}).map(g=>g.text.toLowerCase()).join(" "),c=[{pattern:/\b(frontend|ui|user interface|client|web app|mobile app|react|vue|angular)\b/g,type:"frontend"},{pattern:/\b(backend|server|api|service|microservice|endpoint|node|express|django)\b/g,type:"backend"},{pattern:/\b(database|db|storage|repository|data store|mongodb|postgresql|mysql|redis)\b/g,type:"database"},{pattern:/\b(authentication|auth|login|user management|security|oauth)\b/g,type:"service"},{pattern:/\b(payment|billing|stripe|paypal|checkout|transaction)\b/g,type:"external"},{pattern:/\b(notification|email|sms|messaging|alerts|webhook)\b/g,type:"service"},{pattern:/\b(analytics|reporting|dashboard|metrics|tracking|monitoring)\b/g,type:"service"},{pattern:/\b(file upload|storage|s3|blob|cdn|media|assets)\b/g,type:"service"}];let u=1;const f=new Set;return c.forEach(({pattern:g,type:p})=>{[...(s+" "+a).matchAll(g)].forEach(y=>{const x=this.formatComponentName(y[1]),C=x.toLowerCase();f.has(C)||(f.add(C),i.push({id:`comp_${u++}`,name:x,type:p,description:`${x} component identified from meeting discussion`,technology:this.detectTechnology(y[1],n)}))})}),n.forEach(g=>{const p=g.toLowerCase();if(["api","database","frontend","backend","service"].some(m=>p.includes(m))){const m=this.formatComponentName(g),y=m.toLowerCase();f.has(y)||(f.add(y),i.push({id:`comp_${u++}`,name:m,type:this.inferComponentType(p),description:"Component from meeting keywords"}))}}),i}identifyRelationships(e,n){const r=[],i=e.toLowerCase();return[{pattern:/(.+?)\s+(connects to|sends to|calls|integrates with)\s+(.+?)[\.\,]/g,type:"api"},{pattern:/(.+?)\s+(stores|saves|retrieves|gets)\s+(.+?)[\.\,]/g,type:"data"},{pattern:/(.+?)\s+(depends on|requires|uses)\s+(.+?)[\.\,]/g,type:"dependency"},{pattern:/(.+?)\s+(flows to|triggers|notifies)\s+(.+?)[\.\,]/g,type:"flow"}].forEach(({pattern:o,type:a})=>{[...i.matchAll(o)].forEach(u=>{const f=this.formatComponentName(u[1]),g=this.formatComponentName(u[3]),p=u[2];f!==g&&f.length>2&&g.length>2&&r.push({from:f,to:g,label:p,type:a})})}),r}generateMermaidDiagram(e,n){let r=`graph TD
`;return e.forEach(i=>{r+=`    ${i.id}[${i.name}]
`}),n.forEach(i=>{const s=e.find(a=>a.name===i.from),o=e.find(a=>a.name===i.to);s&&o&&(r+=`    ${s.id} --> ${o.id}
`)}),r+=`
    classDef frontend fill:#e1f5fe
    classDef backend fill:#f3e5f5
    classDef database fill:#e8f5e8
    classDef api fill:#fff3e0
    classDef service fill:#fce4ec
    classDef external fill:#f5f5f5
`,r}formatComponentName(e){return e.trim().split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}detectTechnology(e,n){const r={react:"React",vue:"Vue.js",angular:"Angular",node:"Node.js",express:"Express.js",mongodb:"MongoDB",postgresql:"PostgreSQL",mysql:"MySQL"},i=e.toLowerCase();for(const[s,o]of Object.entries(r))if(i.includes(s)||n.some(a=>a.toLowerCase().includes(s)))return o}inferComponentType(e){return e.includes("frontend")||e.includes("ui")?"frontend":e.includes("backend")||e.includes("server")?"backend":e.includes("database")||e.includes("db")?"database":e.includes("api")?"api":(e.includes("service"),"service")}delay(e){return new Promise(n=>setTimeout(n,e))}async generateArchitectureFromMeeting(e){if(console.log("Creating Lucid document from legacy meeting data:",e.title),!this.apiKey){const r=this.generateBasicMermaidDiagram(e.transcript);return{documentId:`legacy_${Date.now()}`,documentUrl:"https://lucid.app/lucidchart",embedUrl:"https://lucid.app/lucidchart",editUrl:"https://lucid.app/lucidchart",title:`${e.title} - Architecture`,status:"completed",message:"Mermaid diagram generated (Lucid API key required for full integration)",mermaidCode:r,shapes:[],lines:[]}}const n=await this.createDocument({title:`${e.title} - Architecture`,description:e.description||"Architecture from meeting transcript"});return{documentId:n.id,documentUrl:n.viewUrl,embedUrl:n.embedUrl,editUrl:n.editUrl,title:n.title,status:"completed",message:"Basic Lucid document created",mermaidCode:this.generateBasicMermaidDiagram(e.transcript),shapes:[],lines:[]}}generateBasicMermaidDiagram(e){return`graph TD
    A[System] --> B[Components]
    B --> C[Analysis]
    C --> D[Architecture]`}handleError(e){var n,r;if(qe.isAxiosError(e)){const i=(n=e.response)==null?void 0:n.status,s=(r=e.response)==null?void 0:r.data;let o="Lucid API request failed";return i===401?o="Unauthorized - check your Lucid API key":i===403?o="Forbidden - insufficient Lucid API permissions":i===404?o="Lucid resource not found":i===429?o="Rate limit exceeded - please try again later":i===500?o="Lucid server error - please try again later":o=(s==null?void 0:s.error)||(s==null?void 0:s.message)||e.message,new Error(`Lucid Charts API Error: ${o}`)}return new Error(`Unexpected error: ${e.message||"Unknown error"}`)}}const Qh=new Ipe;function Dpe(){var G,$,le,X,pe,te,ie,ue,Ce;const t=Gi(),[e,n]=M.useState(""),[r,i]=M.useState(""),[s,o]=M.useState(!1),[a,c]=M.useState(!1),[u,f]=M.useState(!1),[g,p]=M.useState(!1),[m,y]=M.useState(!1),[x,C]=M.useState(null),[b,E]=M.useState({title:"",description:"",tags:"",participants:""}),{transcribeAudio:S,reset:A,isTranscribing:T,progress:k,result:I,error:D}=kpe(),P=async()=>{if(!e.trim()){alert("Please enter a Fireflies meeting URL");return}if(!e.includes("fireflies.ai")){alert("Please enter a valid Fireflies meeting URL (e.g., https://app.fireflies.ai/view/meeting-id)");return}try{await S({meeting_url:e,title:r||"Fireflies Meeting"})}catch(W){console.error("Failed to get transcription:",W)}},R=()=>{I!=null&&I.transcript&&(navigator.clipboard.writeText(I.transcript),alert("Transcript copied to clipboard!"))},O=()=>{I&&(E({title:I.title||"Fireflies Meeting",description:"Imported from Fireflies",tags:"fireflies,imported",participants:""}),o(!0),f(!1))},z=async()=>{var W,se,ce,L;if(I)try{c(!0);const ne=(W=b.title)==null?void 0:W.trim();if(!ne||ne.length===0)throw new Error("Meeting title is required");if(ne.length>180)throw new Error("Meeting title is too long (max 180 characters)");let me="";typeof I.transcript=="string"?me=I.transcript:I.sentences&&Array.isArray(I.sentences)?me=I.sentences.map(Te=>`${Te.speaker_name}: ${Te.text}`).join(`
`):me="Fireflies meeting data imported",await Us.saveMeeting({title:ne,description:((se=b.description)==null?void 0:se.trim())||"Meeting imported from Fireflies",transcript:me,summary:((ce=I.summary)==null?void 0:ce.short_summary)||((L=I.summary)==null?void 0:L.overview)||"",sourceUrl:I.source_url||e||"",sourceType:"fireflies",participants:b.participants?b.participants.split(",").map(Te=>Te.trim()).filter(Te=>Te.length>0).slice(0,10):[],tags:b.tags?b.tags.split(",").map(Te=>Te.trim()).filter(Te=>Te.length>0).slice(0,10):["fireflies"],meetingDate:new Date().toISOString()}),f(!0),setTimeout(()=>{o(!1),f(!1)},2e3)}catch(ne){console.error("Failed to save meeting:",ne),alert("Failed to save meeting: "+ne.message)}finally{c(!1)}},ae=(W,se)=>{if(!W)return{summary:"No content available",wordCount:0,readingTime:0,hasActionItems:!1,mentionedTech:[],totalLength:0};const L=W.split(/[.!?]+/).filter(Rt=>Rt.trim().length>10).slice(0,3).join(". ").trim(),ne=W.split(/\s+/).length,me=Math.ceil(ne/200),Ae=["action item","todo","follow up","next step","assign","deadline","due"].some(Rt=>W.toLowerCase().includes(Rt)),Je=["api","database","frontend","backend","system","application","service"].filter(Rt=>W.toLowerCase().includes(Rt));return{summary:L||"Meeting discussion captured",wordCount:ne,readingTime:me,hasActionItems:Ae,mentionedTech:Je.slice(0,5),totalLength:W.length}},Z=async()=>{var W,se;if(I)try{p(!0);const ce=await Qh.generateFromFirefliesData(I);if(y(!0),C(ce),ce.title&&ce.status==="completed")try{let L=(W=I.title)==null?void 0:W.trim();(!L||L.length===0)&&(L=r==null?void 0:r.trim()),(!L||L.length===0)&&(L=`Fireflies-Meeting-${Date.now()}`),L=L.replace(/[^\w\s\-\.]/g,"").trim(),L.length===0&&(L=`Architecture-Session-${Date.now()}`);const ne=`${L} - Architecture`;if(ne.length<5||ne.length>180)throw new Error(`Generated title length invalid: ${ne.length} chars`);console.log("Auto-saving architecture session with title:",ne);let me="";typeof I.transcript=="string"?me=I.transcript:I.sentences&&Array.isArray(I.sentences)?me=I.sentences.map(Ae=>`${Ae.speaker_name}: ${Ae.text}`).join(`
`):me="Architecture session based on Fireflies meeting analysis";const Te={title:ne,description:`Architecture diagram automatically generated from Fireflies meeting analysis. Components identified: ${ce.title}`,transcript:me,summary:`Architecture diagram: ${ce.title}`,sourceUrl:I.source_url||e||"",sourceType:"fireflies",participants:((se=I.meeting_attendees)==null?void 0:se.slice(0,10).map(Ae=>(Ae.displayName||Ae.name||Ae.email||"Participant").substring(0,50)))||[],tags:["architecture","fireflies","auto-generated"],meetingDate:new Date().toISOString()};if(!Te.title||Te.title.trim().length===0)throw new Error("Final title validation failed");await Us.saveMeeting(Te),console.log("Architecture session auto-saved to meeting notes")}catch(L){console.warn("Auto-save skipped (non-critical):",(L==null?void 0:L.message)||L)}}catch(ce){console.error("Failed to generate architecture:",ce),alert(`Failed to generate architecture: ${ce.message}`)}finally{p(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-lg my-4",children:[l.jsx("div",{className:"border-b border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[l.jsx(O6,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>t("/settings"),className:"text-sm text-blue-600 hover:text-blue-800",children:"Settings"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("button",{onClick:()=>t("/meetings"),className:"text-sm text-blue-600 hover:text-blue-800",children:"Meeting Library"}),l.jsx("span",{className:"text-gray-300",children:"|"}),l.jsx("button",{onClick:()=>t("/architecture"),className:"text-sm text-blue-600 hover:text-blue-800",children:"Architecture Generator"})]})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx(xR,{className:"w-8 h-8 text-blue-600"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fireflies.ai Meeting Import"})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:[l.jsxs("p",{className:"text-blue-800 text-sm",children:[l.jsx("strong",{children:"Import & Transform Meeting Notes:"})," Enter a Fireflies meeting URL to get a smart overview of the meeting content. See key highlights, technologies mentioned, and action items - then choose to save or generate architecture diagrams."]}),l.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-blue-600",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(n1,{className:"w-3 h-3 mr-1"}),"Save to Library"]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(ll,{className:"w-3 h-3 mr-1"}),"Generate Architecture"]})]})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fireflies Meeting URL"}),l.jsxs("div",{className:"relative",children:[l.jsx(xR,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"url",value:e,onChange:W=>n(W.target.value),placeholder:"https://app.fireflies.ai/view/your-meeting-id",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:T})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Find this URL in your Fireflies dashboard by opening any meeting and copying the browser URL"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meeting Title (Optional)"}),l.jsx("input",{type:"text",value:r,onChange:W=>i(W.target.value),placeholder:"e.g., Weekly Team Standup (will use original title if empty)",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:T})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:P,disabled:T||!e.trim(),className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[T?l.jsx(gs,{className:"w-5 h-5 animate-spin"}):l.jsx($q,{className:"w-5 h-5"}),l.jsx("span",{children:T?"Retrieving...":"Get Transcription"})]}),(I||D)&&l.jsx("button",{onClick:A,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Reset"})]})]}),T&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(gs,{className:"w-5 h-5 text-blue-600 animate-spin"}),l.jsx("span",{className:"text-blue-800",children:k})]})}),D&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Jc,{className:"w-5 h-5 text-red-600"}),l.jsxs("span",{className:"text-red-800",children:["Error: ",D]})]})}),I&&l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(na,{className:"w-6 h-6 text-green-600"}),l.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Transcription Retrieved!"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Job ID:"}),l.jsx("span",{className:"ml-2 text-gray-600",children:I.id})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),l.jsx("span",{className:"ml-2 text-green-600 capitalize",children:I.status})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Title:"}),l.jsx("span",{className:"ml-2 text-gray-600",children:I.title})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Retrieved:"}),l.jsx("span",{className:"ml-2 text-gray-600",children:I.created_at?new Date(I.created_at).toLocaleString():"Unknown"})]}),I.source_url&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Source:"}),l.jsx("a",{href:I.source_url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:underline text-sm",children:"View in Fireflies "})]})]}),I.transcript&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"font-medium text-gray-700",children:"Meeting Overview:"}),l.jsxs("button",{onClick:R,className:"flex items-center space-x-1 px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md",children:[l.jsx(_E,{className:"w-4 h-4"}),l.jsx("span",{children:"Copy Full Transcript"})]})]}),(()=>{var se,ce;const W=ae(I.transcript,I.title||"");return l.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-1",children:"Summary"}),l.jsx("p",{className:"text-sm text-gray-700",children:typeof W.summary=="string"?W.summary:((se=W.summary)==null?void 0:se.short_summary)||((ce=W.summary)==null?void 0:ce.overview)||"No summary available"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-t border-gray-100",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-semibold text-blue-600",children:W.wordCount}),l.jsx("p",{className:"text-xs text-gray-500",children:"Words"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[W.readingTime," min"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Read Time"})]})]}),W.mentionedTech.length>0&&l.jsxs("div",{className:"border-t border-gray-100 pt-2",children:[l.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-1",children:"Technologies Mentioned"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:W.mentionedTech.map((L,ne)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded",children:L},ne))})]}),W.hasActionItems&&l.jsx("div",{className:"border-t border-gray-100 pt-2",children:l.jsxs("div",{className:"flex items-center text-sm text-amber-700",children:[l.jsx(na,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:"Action items detected in transcript"})]})})]})})})()]}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-1",children:"Save to Library"}),l.jsx("p",{className:"text-xs text-blue-600",children:"Save this transcription to your meeting notes library for future reference"})]}),l.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:[l.jsx(n1,{className:"w-4 h-4"}),l.jsx("span",{children:"Save to Notes"})]})]})}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-purple-800 mb-1",children:"Generate Architecture"}),l.jsx("p",{className:"text-xs text-purple-600",children:"Analyze meeting content and generate interactive architecture diagrams with Mermaid code and Lucidchart integration"})]}),l.jsx("button",{onClick:Z,disabled:g,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white text-sm rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?l.jsxs(l.Fragment,{children:[l.jsx(gs,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Generating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(ll,{className:"w-4 h-4"}),l.jsx("span",{children:"Create Diagram"})]})})]})})]}),I.summary&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Summary:"}),l.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4",children:l.jsx("p",{className:"text-gray-800",children:typeof I.summary=="string"?I.summary:((G=I.summary)==null?void 0:G.short_summary)||(($=I.summary)==null?void 0:$.overview)||"No summary available"})})]}),I.speakers&&I.speakers.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Speakers:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:I.speakers.map(W=>l.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:W.name},W.id))})]})]}),!localStorage.getItem("fireflies_api_key")&&l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mt-6",children:l.jsxs("p",{className:"text-yellow-800",children:[l.jsx("strong",{children:"API Key Required:"})," Please set your Fireflies API key in Settings  Integrations"]})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Save to Meeting Notes"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Jc,{className:"w-5 h-5"})})]}),u?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(na,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),l.jsx("h4",{className:"text-lg font-medium text-green-800 mb-2",children:"Saved Successfully!"}),l.jsx("p",{className:"text-sm text-green-600",children:"Meeting notes have been saved to your library"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Title *"}),l.jsx("input",{type:"text",value:b.title,onChange:W=>E({...b,title:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter meeting title"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{value:b.description,onChange:W=>E({...b,description:W.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Brief description of the meeting"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Participants"}),l.jsx("input",{type:"text",value:b.participants,onChange:W=>E({...b,participants:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe, Jane Smith (comma separated)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),l.jsx("input",{type:"text",value:b.tags,onChange:W=>E({...b,tags:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"fireflies, planning, review (comma separated)"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),l.jsx("button",{onClick:z,disabled:!b.title.trim()||a,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?l.jsxs(l.Fragment,{children:[l.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(n1,{className:"w-4 h-4 mr-2"}),"Save Meeting"]})})]})]})]})})]}),m&&x&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-medium text-gray-900",children:x.title}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.message}),x.status==="completed"&&((le=x.shapes)==null?void 0:le.length)>0&&l.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[x.shapes.length," components, ",((X=x.lines)==null?void 0:X.length)||0," connections created"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[x.mermaidCode&&l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(x.mermaidCode),alert("Mermaid diagram code copied to clipboard!")},className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Copy Mermaid Code"}),x.editUrl&&l.jsx("button",{onClick:()=>window.open(x.editUrl,"_blank"),className:"px-3 py-2 text-sm bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Edit in Lucidchart"}),l.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-400 hover:text-gray-500",children:l.jsx(Eu,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"flex h-[70vh]",children:[l.jsx("div",{className:"flex-1 p-4 overflow-auto",children:l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Architecture Diagram"}),x.embedUrl&&x.status==="completed"&&l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[l.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Live Lucidchart Document"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:"text-xs text-green-600",children:[((pe=x.shapes)==null?void 0:pe.length)||0," components"]}),l.jsx("button",{onClick:()=>window.open(x.documentUrl,"_blank"),className:"text-xs text-blue-600 hover:text-blue-800",children:"View Full Page "})]})]})}),l.jsx("div",{className:"aspect-video",children:l.jsx("iframe",{src:x.embedUrl,width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0,title:"Architecture Diagram",className:"w-full h-full"})})]}),x.mermaidCode&&l.jsxs("div",{className:"mt-4 border border-gray-200 rounded-lg p-4 bg-gray-50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mermaid Diagram Code"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Copy for GitHub/GitLab documentation"})]}),l.jsx("div",{className:"bg-white p-4 rounded border overflow-auto max-h-64",children:l.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono",children:x.mermaidCode})})]}),x.shapes&&x.shapes.length>0&&l.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Generated Components"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:x.shapes.map((W,se)=>{var ce;return l.jsxs("div",{className:"bg-white px-2 py-1 rounded text-xs border",style:{borderLeftColor:((ce=W.style)==null?void 0:ce.stroke)||"#666",borderLeftWidth:"3px"},children:[l.jsx("div",{className:"font-medium",children:W.label}),l.jsx("div",{className:"text-gray-500 capitalize",children:W.type})]},W.id||se)})})]}),x.status==="failed"&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Diagram Generation Failed"}),l.jsx("p",{className:"text-sm text-red-700 mb-3",children:x.message||"An error occurred while generating the diagram"}),x.mermaidCode&&l.jsx("p",{className:"text-xs text-red-600",children:"Mermaid code is available as a fallback option."})]}),l.jsxs("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Lucidchart API Integration"}),l.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"To create live diagrams in Lucidchart, add your API key to the environment:"}),l.jsx("code",{className:"text-xs bg-yellow-100 px-2 py-1 rounded",children:"VITE_LUCIDCHART_API_KEY=your_api_key"}),l.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Get your API key from the Lucidchart developer portal."})]})]})}),l.jsxs("div",{className:"w-80 border-l border-gray-200 p-4 overflow-auto bg-gray-50",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Meeting Analysis"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Source Meeting"}),l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Title:"})," ",I==null?void 0:I.title]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Duration:"})," ",I!=null&&I.duration?`${Math.round(I.duration)} minutes`:"Unknown"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Attendees:"})," ",((te=I==null?void 0:I.meeting_attendees)==null?void 0:te.length)||0]})]})]}),x.shapes&&x.shapes.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Architecture Stats"}),l.jsxs("div",{className:"bg-white p-3 rounded border text-sm",children:[l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{children:"Components:"}),l.jsx("span",{className:"font-medium",children:x.shapes.length})]}),l.jsxs("div",{className:"flex justify-between mb-1",children:[l.jsx("span",{children:"Connections:"}),l.jsx("span",{className:"font-medium",children:((ie=x.lines)==null?void 0:ie.length)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Status:"}),l.jsx("span",{className:`font-medium ${x.status==="completed"?"text-green-600":x.status==="failed"?"text-red-600":"text-yellow-600"}`,children:x.status})]})]})]}),x.shapes&&x.shapes.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Component Types"}),l.jsx("div",{className:"space-y-1",children:Array.from(new Set(x.shapes.map(W=>W.type))).map(W=>{const se=x.shapes.filter(ce=>ce.type===W).length;return l.jsxs("div",{className:"flex justify-between text-xs bg-white px-2 py-1 rounded",children:[l.jsx("span",{className:"capitalize",children:W}),l.jsx("span",{className:"font-medium",children:se})]},W)})})]}),((ue=I==null?void 0:I.summary)==null?void 0:ue.keywords)&&I.summary.keywords.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tech Keywords"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:I.summary.keywords.slice(0,8).map((W,se)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded",children:W},se))})]}),((Ce=I==null?void 0:I.summary)==null?void 0:Ce.action_items)&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Architecture Tasks"}),l.jsx("div",{className:"text-xs text-gray-600 bg-white p-3 rounded border max-h-32 overflow-y-auto",children:typeof I.summary.action_items=="string"?I.summary.action_items.split(`
`).slice(0,5).map((W,se)=>l.jsxs("div",{className:"mb-1",children:[" ",W.replace(/^\*\*.*?\*\*/,"").trim()]},se)):"No action items found"})]}),l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Next Steps"}),l.jsxs("div",{className:"space-y-2",children:[x.editUrl&&l.jsx("button",{onClick:()=>window.open(x.editUrl,"_blank"),className:"w-full px-3 py-2 text-sm bg-purple-600 text-white rounded hover:bg-purple-700",children:"Edit & Collaborate "}),x.mermaidCode&&l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(x.mermaidCode),alert("Mermaid code copied to clipboard!")},className:"w-full px-3 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Copy for Docs "}),x.documentUrl&&l.jsx("button",{onClick:()=>window.open(x.documentUrl,"_blank"),className:"w-full px-3 py-2 text-sm bg-gray-600 text-white rounded hover:bg-gray-700",children:"View Full Diagram "})]}),l.jsxs("div",{className:"mt-3 text-xs text-green-700",children:[l.jsx("div",{children:" Share with your development team"}),l.jsx("div",{children:" Include in project documentation"}),l.jsx("div",{children:" Add to SOW technical specifications"})]})]})]})]})]})})]})}function Ppe(){const[t,e]=M.useState([]),[n,r]=M.useState(null),[i,s]=M.useState(""),[o,a]=M.useState(!0),[c,u]=M.useState(!1),[f,g]=M.useState("");M.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const P=await Us.listMeetings();e(P.meetings),g("")}catch(P){g(P.message),console.error("Failed to load meetings:",P)}finally{a(!1)}},m=async()=>{if(!i.trim()){p();return}try{a(!0);const P=await Us.searchMeetings(i);e(P),g("")}catch(P){g(P.message)}finally{a(!1)}},y=async P=>{try{u(!0);const R=await Us.getMeeting(P);r(R),g("")}catch(R){g(R.message)}finally{u(!1)}},x=async P=>{if(confirm("Are you sure you want to delete this meeting? This action cannot be undone."))try{await Us.deleteMeeting(P),e(t.filter(R=>R.id!==P)),(n==null?void 0:n.id)===P&&r(null)}catch(R){g(R.message)}},C=async P=>{try{const R=await Us.exportToPdf(P),O=URL.createObjectURL(R),z=document.createElement("a");z.href=O,z.download=`meeting-${P}.txt`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(O)}catch(R){g(R.message)}},b=P=>new Date(P).toLocaleDateString(),E=P=>P<1024?P+" B":P<1048576?Math.round(P/1024)+" KB":Math.round(P/1048576)+" MB",S=async P=>{try{if(P.sourceType==="fireflies"&&typeof P.transcript=="object"){const R=await Qh.generateFromFirefliesData(P.transcript);alert(`Architecture generated: ${R.title}

Mermaid code and Lucidchart link are ready!

Check the Architecture Generator page for more details.`)}else await Qh.generateArchitectureFromMeeting({title:P.title,transcript:P.transcript||"",description:P.description||"",participants:P.participants,tags:P.tags,sourceUrl:P.sourceUrl})}catch(R){console.error("Failed to generate architecture:",R),alert(`Failed to generate architecture: ${R.message}`)}};return l.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(CS,{className:"w-8 h-8 text-blue-600"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meeting Notes"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[t.length," meeting",t.length!==1?"s":""," stored"]}),n&&l.jsxs("button",{onClick:()=>S(n),className:"inline-flex items-center px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200",children:[l.jsx(ll,{className:"w-4 h-4 mr-1"}),"Create Diagram"]}),l.jsxs("a",{href:"/architecture",className:"inline-flex items-center px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200",children:[l.jsx(ll,{className:"w-4 h-4 mr-1"}),"Architecture Generator"]})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Cu,{className:"w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:i,onChange:P=>s(P.target.value),onKeyPress:P=>P.key==="Enter"&&m(),placeholder:"Search meetings by title or source...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),l.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Search"}),i&&l.jsx("button",{onClick:()=>{s(""),p()},className:"px-3 py-2 text-gray-600 hover:text-gray-800",children:"Clear"})]})}),f&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:l.jsx("p",{className:"text-red-800",children:f})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Stored Meetings"})}),o?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(gs,{className:"w-6 h-6 animate-spin mx-auto mb-2 text-blue-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading meetings..."})]}):t.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(CS,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No meetings found"}),l.jsx("p",{className:"text-sm text-gray-500",children:i?"Try adjusting your search terms":"Import your first meeting from Fireflies"})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:t.map(P=>l.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer ${(n==null?void 0:n.id)===P.id?"bg-blue-50 border-l-4 border-blue-500":""}`,onClick:()=>y(P.id),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:P.title}),l.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(_S,{className:"w-3 h-3 mr-1"}),P.source]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(ta,{className:"w-3 h-3 mr-1"}),b(P.created_at)]}),l.jsx("span",{children:E(P.size)})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[l.jsx("button",{onClick:R=>{R.stopPropagation(),C(P.id)},className:"p-1 text-gray-400 hover:text-gray-600",title:"Export",children:l.jsx(e0,{className:"w-4 h-4"})}),l.jsx("button",{onClick:R=>{R.stopPropagation(),x(P.id)},className:"p-1 text-gray-400 hover:text-red-600",title:"Delete",children:l.jsx(Xc,{className:"w-4 h-4"})})]})]})},P.id))})]})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 sticky top-6",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Meeting Details"})}),c?l.jsxs("div",{className:"p-4 text-center",children:[l.jsx(gs,{className:"w-6 h-6 animate-spin mx-auto mb-2 text-blue-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading meeting..."})]}):n?l.jsxs("div",{className:"p-4 space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.title}),n.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:n.description})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(ta,{className:"w-4 h-4 mr-2 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:b(n.meetingDate)})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(_S,{className:"w-4 h-4 mr-2 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:n.sourceType})]}),n.duration&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(xs,{className:"w-4 h-4 mr-2 text-gray-400"}),l.jsxs("span",{className:"text-gray-600",children:[n.duration," minutes"]})]})]}),n.sourceType==="fireflies"&&A(n),T(n),k(n),n.participants.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[l.jsx(ba,{className:"w-4 h-4 mr-1"}),"Participants"]}),l.jsx("div",{className:"text-sm text-gray-600",children:n.participants.join(", ")})]}),n.tags.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:n.tags.map((P,R)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:P},R))})]}),I(n),n.sourceUrl&&l.jsx("div",{children:l.jsxs("a",{href:n.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[l.jsx(AE,{className:"w-4 h-4 mr-1"}),"View Original"]})}),l.jsxs("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[l.jsxs("button",{onClick:()=>C(n.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:[l.jsx(e0,{className:"w-4 h-4 mr-1"}),"Export"]}),l.jsxs("button",{onClick:()=>x(n.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700",children:[l.jsx(Xc,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(NE,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Select a meeting"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Click on a meeting from the list to view its details and analytics"})]})]})})]}),D()]});function A(P){let R=null;try{typeof P.transcript=="string"?R=JSON.parse(P.transcript):typeof P.transcript=="object"&&(R=P.transcript)}catch{return null}if(!(R!=null&&R.analytics))return null;const{analytics:O}=R;return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[l.jsx(F6,{className:"w-4 h-4 mr-1"}),"Meeting Analytics"]}),O.sentiments&&l.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[l.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Sentiment"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-green-600 font-medium",children:[Math.round(O.sentiments.positive_pct),"%"]}),l.jsx("div",{className:"text-gray-500",children:"Positive"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-gray-600 font-medium",children:[Math.round(O.sentiments.neutral_pct),"%"]}),l.jsx("div",{className:"text-gray-500",children:"Neutral"})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-red-600 font-medium",children:[Math.round(O.sentiments.negative_pct),"%"]}),l.jsx("div",{className:"text-gray-500",children:"Negative"})]})]})]}),O.speakers&&O.speakers.length>0&&l.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[l.jsx("div",{className:"text-xs font-medium text-blue-800 mb-2",children:"Speaker Participation"}),l.jsx("div",{className:"space-y-1",children:O.speakers.slice(0,3).map((z,ae)=>l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsx("span",{className:"text-blue-700 truncate",children:z.name}),l.jsxs("span",{className:"text-blue-600 font-medium",children:[Math.round(z.duration_pct),"%"]})]},ae))})]}),O.categories&&l.jsxs("div",{className:"bg-purple-50 p-3 rounded-md",children:[l.jsx("div",{className:"text-xs font-medium text-purple-800 mb-2",children:"Content Analysis"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-700",children:"Tasks:"}),l.jsx("span",{className:"font-medium",children:O.categories.tasks})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-700",children:"Questions:"}),l.jsx("span",{className:"font-medium",children:O.categories.questions})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-700",children:"Metrics:"}),l.jsx("span",{className:"font-medium",children:O.categories.metrics})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-700",children:"Dates:"}),l.jsx("span",{className:"font-medium",children:O.categories.date_times})]})]})]})]})}function T(P){var O;let R=[];try{const z=typeof P.transcript=="string"?JSON.parse(P.transcript):P.transcript;if((O=z==null?void 0:z.summary)!=null&&O.action_items){const ae=z.summary.action_items;if(typeof ae=="string"){const Z=ae.split(`
`).filter(G=>G.trim());for(const G of Z)!G.startsWith("**")&&G.trim()&&R.push(G.trim())}else Array.isArray(ae)&&(R=ae)}}catch{}return R.length===0?null:l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[l.jsx(Av,{className:"w-4 h-4 mr-1 text-green-600"}),"Action Items"]}),l.jsxs("div",{className:"bg-green-50 p-3 rounded-md space-y-2",children:[R.slice(0,5).map((z,ae)=>l.jsxs("div",{className:"flex items-start text-sm",children:[l.jsx(Gq,{className:"w-3 h-3 mr-2 mt-0.5 text-green-600 flex-shrink-0"}),l.jsx("span",{className:"text-green-800",children:z})]},ae)),R.length>5&&l.jsxs("div",{className:"text-xs text-green-600 font-medium",children:["+",R.length-5," more action items"]})]})]})}function k(P){var ae;let R=[],O=!1,z=!1;try{const Z=typeof P.transcript=="string"?JSON.parse(P.transcript):P.transcript;Z!=null&&Z.sentences&&(O=Z.sentences.some(G=>{var $;return($=G.ai_filters)==null?void 0:$.task}),z=Z.sentences.some(G=>{var $;return($=G.ai_filters)==null?void 0:$.pricing})),(ae=Z==null?void 0:Z.summary)!=null&&ae.topics_discussed&&(R=Z.summary.topics_discussed.slice(0,3))}catch{}return R.length===0&&!O&&!z?null:l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[l.jsx(Pq,{className:"w-4 h-4 mr-1 text-yellow-600"}),"SOW Insights"]}),l.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md space-y-2",children:[O&&l.jsxs("div",{className:"flex items-center text-sm text-yellow-800",children:[l.jsx(zq,{className:"w-3 h-3 mr-2 text-yellow-600"}),"Task definitions discussed"]}),z&&l.jsxs("div",{className:"flex items-center text-sm text-yellow-800",children:[l.jsx(z6,{className:"w-3 h-3 mr-2 text-yellow-600"}),"Pricing topics mentioned"]}),R.map((Z,G)=>l.jsxs("div",{className:"flex items-start text-sm",children:[l.jsx(Oq,{className:"w-3 h-3 mr-2 mt-0.5 text-yellow-600 flex-shrink-0"}),l.jsx("span",{className:"text-yellow-800",children:Z})]},G))]})]})}function I(P){try{const R=typeof P.transcript=="string"?JSON.parse(P.transcript):P.transcript;if(R&&P.sourceType==="fireflies"){const O=u_.extractMeetingOverview(R);if(O&&O!=="No meeting overview available.")return l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Overview Summary"}),l.jsx("div",{className:"bg-blue-50 p-3 rounded text-sm text-blue-900 max-h-48 overflow-y-auto whitespace-pre-wrap",children:O})]})}}catch{}if(P.summary){let R="";if(typeof P.summary=="string")R=P.summary;else if(typeof P.summary=="object"&&P.summary!==null){const O=P.summary;O.short_summary?R=O.short_summary:O.overview?R=O.overview:R=JSON.stringify(P.summary,null,2)}else R="No summary available";return l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Summary"}),l.jsx("div",{className:"bg-blue-50 p-3 rounded text-sm text-blue-900 whitespace-pre-wrap",children:R})]})}return null}function D(){return null}}function jpe(){const[t,e]=M.useState([]),[n,r]=M.useState(null),[i,s]=M.useState(!0),[o,a]=M.useState(!1),[c,u]=M.useState("");M.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const x=await Us.listMeetings();e(x.meetings)}catch(x){console.error("Failed to load meetings:",x)}finally{s(!1)}},g=async x=>{try{const C=await Us.getMeeting(x);r(C)}catch(C){console.error("Failed to load meeting:",C)}},p=async()=>{var x,C;if(n)try{a(!0),await Qh.openInLucidCharts({title:n.title,transcript:n.transcript||"",description:n.description||"",participants:n.participants,tags:n.tags,sourceUrl:n.sourceUrl})}catch(b){console.error("Failed to generate architecture:",b);let E="Failed to generate architecture";(x=b.message)!=null&&x.includes("Meeting title is required")?E="Could not generate architecture: Meeting title is missing. Please try refreshing and selecting the meeting again.":(C=b.message)!=null&&C.includes("API Error")?E="There was an issue connecting to the service. Please try again.":E=`Failed to generate architecture: ${b.message}`,alert(E)}finally{a(!1)}},m=()=>{if(!n)return;const x=Qh.exportArchitectureContext({title:n.title,transcript:n.transcript||"",description:n.description||"",participants:n.participants,tags:n.tags,sourceUrl:n.sourceUrl}),C=new Blob([x],{type:"text/markdown"}),b=URL.createObjectURL(C),E=document.createElement("a");E.href=b,E.download=`${n.title}-architecture-context.md`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(b)},y=t.filter(x=>x.title.toLowerCase().includes(c.toLowerCase())||x.source.toLowerCase().includes(c.toLowerCase()));return l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx(ll,{className:"w-8 h-8 text-purple-600"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Architecture Generator"})]}),l.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-4 mb-6",children:l.jsxs("p",{className:"text-purple-800 text-sm",children:[l.jsx("strong",{children:"Transform Meetings into Architecture:"})," Select any stored meeting notes to automatically generate architecture diagrams in Lucid Charts. The system analyzes your meeting content to identify components, relationships, and tech stack."]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Select Meeting"}),l.jsx("input",{type:"text",value:c,onChange:x=>u(x.target.value),placeholder:"Search meetings...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),i?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(gs,{className:"w-6 h-6 animate-spin mx-auto mb-2 text-purple-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading meetings..."})]}):y.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Zs,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No meetings found"}),l.jsx("p",{className:"text-sm text-gray-500",children:c?"Try adjusting your search":"Import meetings from Fireflies first"})]}):l.jsx("div",{className:"max-h-96 overflow-y-auto",children:y.map(x=>l.jsxs("div",{className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${(n==null?void 0:n.id)===x.id?"bg-purple-50 border-l-4 border-purple-500":""}`,onClick:()=>g(x.id),children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:x.title}),l.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(_S,{className:"w-3 h-3 mr-1"}),x.source]}),l.jsx("span",{children:new Date(x.created_at).toLocaleDateString()})]})]},x.id))})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Architecture Preview"})}),n?l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.title}),n.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:n.description})]}),n.participants.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Participants"}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ba,{className:"w-4 h-4 mr-1"}),n.participants.join(", ")]})]}),n.tags.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:n.tags.map((x,C)=>l.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:x},C))})]}),n.transcript&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Content Preview"}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded text-xs text-gray-700 max-h-32 overflow-y-auto",children:[n.transcript.substring(0,300),n.transcript.length>300&&"..."]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{onClick:p,disabled:o,className:"flex-1 flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?l.jsxs(l.Fragment,{children:[l.jsx(gs,{className:"w-4 h-4 mr-2 animate-spin"}),"Opening..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ll,{className:"w-4 h-4 mr-2"}),"Generate in Lucid",l.jsx(AE,{className:"w-3 h-3 ml-1"})]})}),l.jsx("button",{onClick:m,className:"flex items-center justify-center px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",title:"Export context for manual use",children:l.jsx(e0,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"bg-purple-50 p-3 rounded text-xs text-purple-700",children:[l.jsx("p",{className:"font-medium mb-1",children:"What will be generated:"}),l.jsxs("ul",{className:"space-y-1",children:[l.jsx("li",{children:" Architectural components identified from meeting content"}),l.jsx("li",{children:" System relationships and data flows"}),l.jsx("li",{children:" Technology stack recommendations"}),l.jsx("li",{children:" Appropriate diagram template selection"})]})]})]}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(ll,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"Select a meeting"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Choose a meeting from the list to preview its architecture potential"})]})]})]})]})}const Mpe=t=>(e,n,r)=>(r.setState=(i,s,...o)=>{const a=typeof i=="function"?pt(i):i;return e(a,s,...o)},t(r.setState,n,r)),Ope=Mpe,E3={connection:null,isConnected:!1,isConnecting:!1,connectionError:null,meetings:[],selectedMeeting:null,meetingsLoading:!1,meetingsError:null,meetingsPagination:null,isSync:!1,syncError:null,syncHistory:[],lastSync:null,statistics:null,statisticsLoading:!1,filters:{},selectedTab:"connection",showConnectionModal:!1,showMeetingDetail:!1},zo=bu()(u6(zV(Ope((t,e)=>({...E3,setConnection:n=>t(r=>{r.connection=n,r.isConnected=!!n,r.connectionError=null,n&&(r.selectedTab="meetings")}),setIsConnecting:n=>t(r=>{r.isConnecting=n,n&&(r.connectionError=null)}),setConnectionError:n=>t(r=>{r.connectionError=n,r.isConnecting=!1}),setMeetings:(n,r)=>t(i=>{i.meetings=n,i.meetingsPagination=r||null,i.meetingsError=null}),addMeetings:n=>t(r=>{const i=new Set(r.meetings.map(o=>o.meetingId)),s=n.filter(o=>!i.has(o.meetingId));r.meetings.push(...s)}),updateMeeting:n=>t(r=>{var s;const i=r.meetings.findIndex(o=>o.meetingId===n.meetingId);i!==-1&&(r.meetings[i]=n),((s=r.selectedMeeting)==null?void 0:s.meetingId)===n.meetingId&&(r.selectedMeeting=n)}),setSelectedMeeting:n=>t(r=>{r.selectedMeeting=n,r.showMeetingDetail=!!n}),setMeetingsLoading:n=>t(r=>{r.meetingsLoading=n,n&&(r.meetingsError=null)}),setMeetingsError:n=>t(r=>{r.meetingsError=n,r.meetingsLoading=!1}),setIsSyncing:n=>t(r=>{r.isSync=n,n&&(r.syncError=null)}),setSyncError:n=>t(r=>{r.syncError=n,r.isSync=!1}),addSyncResult:n=>t(r=>{r.syncHistory.unshift(n),r.lastSync=n,r.syncHistory.length>10&&(r.syncHistory=r.syncHistory.slice(0,10))}),setSyncHistory:n=>t(r=>{r.syncHistory=n,r.lastSync=n[0]||null}),setStatistics:n=>t(r=>{r.statistics=n}),setStatisticsLoading:n=>t(r=>{r.statisticsLoading=n}),setFilters:n=>t(r=>{r.filters={...r.filters,...n}}),clearFilters:()=>t(n=>{n.filters={}}),setSelectedTab:n=>t(r=>{r.selectedTab=n}),setShowConnectionModal:n=>t(r=>{r.showConnectionModal=n}),setShowMeetingDetail:n=>t(r=>{r.showMeetingDetail=n,n||(r.selectedMeeting=null)}),getFilteredMeetings:()=>{const{meetings:n,filters:r}=e();let i=[...n];if(r.searchTerm){const s=r.searchTerm.toLowerCase();i=i.filter(o=>o.title.toLowerCase().includes(s)||o.summary.toLowerCase().includes(s)||o.participants.some(a=>a.toLowerCase().includes(s))||o.tags.some(a=>a.toLowerCase().includes(s)))}return r.fromDate&&(i=i.filter(s=>s.meetingDate>=r.fromDate)),r.toDate&&(i=i.filter(s=>s.meetingDate<=r.toDate)),r.status&&(i=i.filter(s=>s.status===r.status)),r.meetingType&&(i=i.filter(s=>s.meetingType===r.meetingType)),r.tags&&r.tags.length>0&&(i=i.filter(s=>r.tags.some(o=>s.tags.includes(o)))),r.usedInSows!==void 0&&(i=i.filter(s=>s.usedInSows===r.usedInSows)),i.sort((s,o)=>new Date(o.meetingDate).getTime()-new Date(s.meetingDate).getTime())},getRecentMeetings:()=>{const{meetings:n}=e(),r=new Date;return r.setDate(r.getDate()-7),n.filter(i=>new Date(i.meetingDate)>=r).sort((i,s)=>new Date(s.meetingDate).getTime()-new Date(i.meetingDate).getTime())},getMeetingsByStatus:n=>{const{meetings:r}=e();return r.filter(i=>i.status===n)},getApiCallsRemaining:()=>{const{connection:n}=e();return n?n.dailyApiCallsLimit-n.dailyApiCallsUsed:0},resetConnection:()=>t(n=>{n.connection=null,n.isConnected=!1,n.isConnecting=!1,n.connectionError=null,n.selectedTab="connection"}),resetMeetings:()=>t(n=>{n.meetings=[],n.selectedMeeting=null,n.meetingsLoading=!1,n.meetingsError=null,n.meetingsPagination=null}),reset:()=>t(n=>{Object.assign(n,E3)})})),{name:"fireflies-store",partialize:t=>({connection:t.connection,filters:t.filters,selectedTab:t.selectedTab})}),{name:"fireflies-store"})),cA=()=>{const{setConnection:t,setIsConnecting:e,setConnectionError:n,setMeetings:r,addMeetings:i,updateMeeting:s,setSelectedMeeting:o,setMeetingsLoading:a,setMeetingsError:c,setIsSyncing:u,setSyncError:f,addSyncResult:g,setSyncHistory:p,setStatistics:m,setStatisticsLoading:y,setFilters:x,clearFilters:C,setSelectedTab:b,setShowConnectionModal:E,setShowMeetingDetail:S,resetConnection:A,resetMeetings:T,reset:k}=zo();return{setConnection:t,setIsConnecting:e,setConnectionError:n,setMeetings:r,addMeetings:i,updateMeeting:s,setSelectedMeeting:o,setMeetingsLoading:a,setMeetingsError:c,setIsSyncing:u,setSyncError:f,addSyncResult:g,setSyncHistory:p,setStatistics:m,setStatisticsLoading:y,setFilters:x,clearFilters:C,setSelectedTab:b,setShowConnectionModal:E,setShowMeetingDetail:S,resetConnection:A,resetMeetings:T,reset:k}};class Lpe{constructor(){Rs(this,"api");Rs(this,"baseURL");this.baseURL="http://localhost:7071/api",this.api=qe.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(e=>{var n;return console.log(`Fireflies API Request: ${(n=e.method)==null?void 0:n.toUpperCase()} ${e.url}`),e},e=>(console.error("Fireflies API Request Error:",e),Promise.reject(e))),this.api.interceptors.response.use(e=>(console.log(`Fireflies API Response: ${e.status} ${e.config.url}`),e),e=>{var n,r,i;return console.error("Fireflies API Response Error:",((n=e.response)==null?void 0:n.data)||e.message),((r=e.response)==null?void 0:r.status)===401?console.warn("Unauthorized access to Fireflies API"):((i=e.response)==null?void 0:i.status)>=500&&console.error("Server error in Fireflies API"),Promise.reject(e)})}async establishConnection(e){return(await this.api.post("/fireflies/connections",e)).data}async getConnectionByUser(e){var n;try{return(await this.api.get(`/fireflies/connections/user/${e}`)).data}catch(r){if(((n=r.response)==null?void 0:n.status)===404)return null;throw r}}async getConnection(e){var n;try{return(await this.api.get(`/fireflies/connections/${e}`)).data}catch(r){if(((n=r.response)==null?void 0:n.status)===404)return null;throw r}}async updateConnection(e,n){return(await this.api.put(`/fireflies/connections/${e}`,n)).data}async disconnect(e){try{return await this.api.delete(`/fireflies/connections/${e}`),!0}catch(n){return console.error("Failed to disconnect:",n),!1}}async testConnection(e){return(await this.api.post(`/fireflies/connections/${e}/test`)).data}async getConnectionStatistics(e){return(await this.api.get(`/fireflies/connections/${e}/statistics`)).data}async validateApiKey(e){return(await this.api.post("/fireflies/validate-api-key",{apiKey:e})).data}async syncMeetings(e){return(await this.api.post("/fireflies/meetings/sync",e)).data}async getMeetings(e,n=0,r=50){const i=await this.api.get(`/fireflies/meetings/connection/${e}?skip=${n}&take=${r}`);return{meetings:i.data.items,pagination:{pageNumber:i.data.pageNumber,pageSize:i.data.pageSize,totalCount:i.data.totalCount,totalPages:i.data.totalPages,hasNextPage:i.data.hasNextPage,hasPreviousPage:i.data.hasPreviousPage}}}async searchMeetings(e){const n=await this.api.post("/fireflies/meetings/search",e);return{meetings:n.data.items,pagination:{pageNumber:n.data.pageNumber,pageSize:n.data.pageSize,totalCount:n.data.totalCount,totalPages:n.data.totalPages,hasNextPage:n.data.hasNextPage,hasPreviousPage:n.data.hasPreviousPage}}}async getMeeting(e){var n;try{return(await this.api.get(`/fireflies/meetings/${e}`)).data}catch(r){if(((n=r.response)==null?void 0:n.status)===404)return null;throw r}}async getRecentMeetings(e){return(await this.api.get(`/fireflies/meetings/connection/${e}/recent`)).data}async importMeetingToSow(e){return(await this.api.post("/fireflies/meetings/import-to-sow",e)).data}async getMeetingSowUsage(e){return(await this.api.get(`/fireflies/meetings/${e}/sow-usage`)).data}async getSowMeetings(e){return(await this.api.get(`/fireflies/sows/${e}/meetings`)).data}async removeMeetingFromSow(e){try{return await this.api.delete(`/fireflies/sow-usage/${e}`),!0}catch(n){return console.error("Failed to remove meeting from SOW:",n),!1}}async getMeetingAnalytics(e,n,r){return(await this.api.get(`/fireflies/meetings/connection/${e}/analytics?fromDate=${n}&toDate=${r}`)).data}async getSyncHistory(e,n=10){return(await this.api.get(`/fireflies/meetings/connection/${e}/sync-history?take=${n}`)).data}formatError(e){var n,r,i,s;return(r=(n=e.response)==null?void 0:n.data)!=null&&r.error?e.response.data.error:(s=(i=e.response)==null?void 0:i.data)!=null&&s.message?e.response.data.message:e.message?e.message:"An unexpected error occurred"}isNetworkError(e){return!e.response&&e.code==="NETWORK_ERROR"}isTimeoutError(e){var n;return e.code==="ECONNABORTED"||((n=e.message)==null?void 0:n.includes("timeout"))}isRateLimitError(e){var n;return((n=e.response)==null?void 0:n.status)===429}isAuthError(e){var n,r;return((n=e.response)==null?void 0:n.status)===401||((r=e.response)==null?void 0:r.status)===403}isServerError(e){var n;return((n=e.response)==null?void 0:n.status)>=500}setBaseURL(e){this.baseURL=e,this.api.defaults.baseURL=e}setTimeout(e){this.api.defaults.timeout=e}setFirefliesApiKey(e){this.api.defaults.headers.common.Authorization=`Bearer ${e}`}removeFirefliesApiKey(){delete this.api.defaults.headers.common.Authorization}}const lt=new Lpe,uA=()=>{const{setConnection:t,setIsConnecting:e,setConnectionError:n,setMeetings:r,addMeetings:i,updateMeeting:s,setSelectedMeeting:o,setMeetingsLoading:a,setMeetingsError:c,setIsSyncing:u,setSyncError:f,addSyncResult:g,setSyncHistory:p,setStatistics:m,setStatisticsLoading:y,resetConnection:x,resetMeetings:C}=cA(),b=zo(W=>W.connection),E=zo(W=>W.isConnected),S=M.useCallback(async W=>{e(!0),n(null);try{const se=await lt.establishConnection(W);return t(se),se}catch(se){const ce=lt.formatError(se);throw n(ce),new Error(ce)}finally{e(!1)}},[t,e,n]),A=M.useCallback(async W=>{e(!0),n(null);try{const se=await lt.getConnectionByUser(W);return t(se),se}catch(se){const ce=lt.formatError(se);return n(ce),null}finally{e(!1)}},[t,e,n]),T=M.useCallback(async(W,se)=>{if(!b)return null;e(!0),n(null);try{const ce=await lt.updateConnection(W,se);return t(ce),ce}catch(ce){const L=lt.formatError(ce);throw n(L),new Error(L)}finally{e(!1)}},[b,t,e,n]),k=M.useCallback(async()=>{if(!b)return!1;e(!0);try{const W=await lt.disconnect(b.connectionId);return W&&(x(),C()),W}catch(W){const se=lt.formatError(W);return n(se),!1}finally{e(!1)}},[b,x,C,e,n]),I=M.useCallback(async()=>{if(!b)return null;try{const W=await lt.testConnection(b.connectionId),se={...b,healthStatus:W.status,dailyApiCallsUsed:b.dailyApiCallsLimit-W.apiCallsRemaining};return t(se),W}catch(W){const se=lt.formatError(W);return n(se),null}},[b,t,n]),D=M.useCallback(async()=>{if(!b)return null;y(!0);try{const W=await lt.getConnectionStatistics(b.connectionId);return m(W),W}catch(W){return console.error("Failed to get connection statistics:",W),null}finally{y(!1)}},[b,m,y]),P=M.useCallback(async W=>{try{return await lt.validateApiKey(W)}catch(se){const ce=lt.formatError(se);throw new Error(ce)}},[]),R=M.useCallback(async W=>{if(!b)return null;u(!0),f(null);try{const se={connectionId:b.connectionId,type:"manual",...W},ce=await lt.syncMeetings(se);g(ce);const L={...b,lastSyncAt:new Date().toISOString()};return t(L),ce}catch(se){const ce=lt.formatError(se);throw f(ce),new Error(ce)}finally{u(!1)}},[b,u,f,g,t]),O=M.useCallback(async(W=0,se=50)=>{if(!b)return null;a(!0),c(null);try{const ce=await lt.getMeetings(b.connectionId,W,se);return W===0?r(ce.meetings,ce.pagination):i(ce.meetings),ce}catch(ce){const L=lt.formatError(ce);return c(L),null}finally{a(!1)}},[b,r,i,a,c]),z=M.useCallback(async W=>{if(!b)return null;a(!0),c(null);try{const se={connectionId:b.connectionId,...W},ce=await lt.searchMeetings(se);return r(ce.meetings,ce.pagination),ce}catch(se){const ce=lt.formatError(se);return c(ce),null}finally{a(!1)}},[b,r,a,c]),ae=M.useCallback(async W=>{try{const se=await lt.getMeeting(W);return se&&(s(se),o(se)),se}catch(se){const ce=lt.formatError(se);return c(ce),null}},[s,o,c]),Z=M.useCallback(async()=>{if(!b)return[];try{return await lt.getRecentMeetings(b.connectionId)}catch(W){return console.error("Failed to load recent meetings:",W),[]}},[b]),G=M.useCallback(async W=>{try{const se=await lt.importMeetingToSow(W),ce=zo.getState().meetings.find(L=>L.meetingId===W.meetingId);if(ce){const L={...ce,usedInSows:!0,sowUsageCount:ce.sowUsageCount+1};s(L)}return se}catch(se){const ce=lt.formatError(se);throw new Error(ce)}},[s]),$=M.useCallback(async W=>{try{return await lt.getMeetingSowUsage(W)}catch(se){return console.error("Failed to get meeting SOW usage:",se),[]}},[]),le=M.useCallback(async W=>{try{return await lt.getSowMeetings(W)}catch(se){return console.error("Failed to get SOW meetings:",se),[]}},[]),X=M.useCallback(async(W,se)=>{try{const ce=await lt.removeMeetingFromSow(W);if(ce){const L=zo.getState().meetings.find(ne=>ne.meetingId===se);if(L&&L.sowUsageCount>0){const ne={...L,sowUsageCount:L.sowUsageCount-1,usedInSows:L.sowUsageCount>1};s(ne)}}return ce}catch(ce){const L=lt.formatError(ce);throw new Error(L)}},[s]),pe=M.useCallback(async(W,se)=>{if(!b)return null;try{return await lt.getMeetingAnalytics(b.connectionId,W,se)}catch(ce){return console.error("Failed to get meeting analytics:",ce),null}},[b]),te=M.useCallback(async(W=10)=>{if(!b)return[];try{const se=await lt.getSyncHistory(b.connectionId,W);return p(se),se}catch(se){return console.error("Failed to get sync history:",se),[]}},[b,p]),ie=M.useCallback(()=>navigator.onLine,[]),ue=M.useCallback(()=>b?b.dailyApiCallsLimit-b.dailyApiCallsUsed>0:!1,[b]),Ce=M.useCallback(()=>b?b.dailyApiCallsLimit-b.dailyApiCallsUsed:0,[b]);return{establishConnection:S,getConnectionByUser:A,updateConnection:T,disconnect:k,testConnection:I,getConnectionStatistics:D,validateApiKey:P,syncMeetings:R,loadMeetings:O,searchMeetings:z,loadMeeting:ae,loadRecentMeetings:Z,importMeetingToSow:G,getMeetingSowUsage:$,getSowMeetings:le,removeMeetingFromSow:X,getMeetingAnalytics:pe,getSyncHistory:te,isOnline:ie,canMakeApiCall:ue,getApiCallsRemaining:Ce,connection:b,isConnected:E}},Fpe=({userId:t,onConnectionEstablished:e})=>{const[n,r]=M.useState(""),[i,s]=M.useState(!0),[o,a]=M.useState(24),[c,u]=M.useState(!1),[f,g]=M.useState(null),[p,m]=M.useState(!1),{isConnecting:y,connectionError:x}=zo(),{setConnectionError:C}=cA(),{establishConnection:b,validateApiKey:E}=uA();M.useEffect(()=>{C(null),g(null)},[n,C]);const S=async()=>{if(!n.trim()){g({isValid:!1,errorMessage:"Please enter an API key"});return}m(!0),g(null);try{const k=await E(n);g(k)}catch(k){g({isValid:!1,errorMessage:k.message||"Failed to validate API key"})}finally{m(!1)}},A=async()=>{if(!n.trim()){C("Please enter your Fireflies API key");return}if(f&&!f.isValid){C("Please provide a valid API key");return}try{await b({apiKey:n,userId:t,autoSyncEnabled:i,syncFrequencyHours:o,includeRecordings:c}),e==null||e()}catch(k){console.error("Connection failed:",k)}},T=()=>p?l.jsx(t0,{className:"h-4 w-4 text-blue-500 animate-spin"}):f!=null&&f.isValid?l.jsx(na,{className:"h-4 w-4 text-green-500"}):f&&!f.isValid?l.jsx(_v,{className:"h-4 w-4 text-red-500"}):null;return l.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx(Dq,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Your Fireflies Account"}),l.jsx("p",{className:"text-gray-600",children:"Import all your meeting recordings and transcripts to enhance your SOWs"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-gray-700 mb-2",children:"Fireflies API Key"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"password",id:"apiKey",value:n,onChange:k=>r(k.target.value),placeholder:"Enter your Fireflies API key",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:y||p}),l.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:T()})]}),n.trim()&&!f&&l.jsx("button",{onClick:S,disabled:p,className:"mt-2 text-sm text-blue-600 hover:text-blue-800 disabled:text-gray-400",children:p?"Validating...":"Validate API Key"}),f&&l.jsx("div",{className:`mt-2 p-2 rounded text-sm ${f.isValid?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:f.isValid?l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Valid API Key"}),f.user&&l.jsxs("p",{className:"text-xs mt-1",children:["Connected as: ",f.user.name," (",f.user.email,")"]})]}):l.jsx("p",{children:f.errorMessage})})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsxs("h4",{className:"text-sm font-medium text-blue-900 mb-2 flex items-center",children:[l.jsx(AE,{className:"h-4 w-4 mr-1"}),"How to get your API key:"]}),l.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[l.jsxs("li",{children:["1. Log in to ",l.jsx("a",{href:"https://app.fireflies.ai",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-900",children:"app.fireflies.ai"})]}),l.jsx("li",{children:"2. Go to Integrations  Fireflies API"}),l.jsx("li",{children:"3. Copy your API key"})]})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Sync Settings"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:i,onChange:k=>s(k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:y}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable automatic sync"})]}),i&&l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm text-gray-700 mb-1",children:["Sync frequency: ",o," hours"]}),l.jsx("input",{type:"range",min:"1",max:"168",value:o,onChange:k=>a(Number(k.target.value)),className:"w-full",disabled:y}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"1h"}),l.jsx("span",{children:"24h"}),l.jsx("span",{children:"168h (1 week)"})]})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:k=>u(k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:y}),l.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Include video recordings (requires more storage)"})]})]})]}),l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(ES,{className:"h-4 w-4 text-gray-500 mt-0.5 mr-2 flex-shrink-0"}),l.jsxs("div",{className:"text-xs text-gray-600",children:[l.jsx("p",{className:"font-medium mb-1",children:"Security & Privacy"}),l.jsx("p",{children:"Your API key is encrypted and stored securely. We never access your meeting content without your explicit permission."})]})]})}),x&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-red-800",children:x})}),l.jsx("button",{onClick:A,disabled:!n.trim()||y||p||f&&!f.isValid,className:"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:y?l.jsxs(l.Fragment,{children:[l.jsx(t0,{className:"h-4 w-4 inline mr-2 animate-spin"}),"Connecting..."]}):"Connect Fireflies Account"})]})]})},Upe=({onMeetingSelect:t,onImportToSow:e})=>{const[n,r]=M.useState(""),[i,s]=M.useState("all"),[o,a]=M.useState(1),[c,u]=M.useState(new Set),{meetings:f,meetingsLoading:g,meetingsError:p,meetingsPagination:m,connection:y,filters:x}=zo(),{setFilters:C,setMeetingsError:b}=cA(),{loadMeetings:E,searchMeetings:S,loadRecentMeetings:A,syncMeetings:T}=uA();M.useEffect(()=>{y&&f.length===0&&E(0,50)},[y,f.length,E]);const k=M.useMemo(()=>{let $=[...f];if(n){const le=n.toLowerCase();$=$.filter(X=>X.title.toLowerCase().includes(le)||X.summary.toLowerCase().includes(le)||X.participants.some(pe=>pe.toLowerCase().includes(le))||X.tags.some(pe=>pe.toLowerCase().includes(le)))}switch(i){case"recent":const le=new Date;le.setDate(le.getDate()-7),$=$.filter(X=>new Date(X.meetingDate)>=le);break;case"processed":$=$.filter(X=>X.status==="completed");break;case"with-actions":$=$.filter(X=>X.actionItems.length>0);break}return $.sort((le,X)=>new Date(X.meetingDate).getTime()-new Date(le.meetingDate).getTime())},[f,n,i]),I=async()=>{if(!y)return;const $={searchTerm:n||void 0,status:i==="processed"?"completed":void 0,fromDate:i==="recent"?new Date(Date.now()-7*24*60*60*1e3).toISOString():void 0,skip:0,take:50};try{await S($),a(1)}catch(le){console.error("Search failed:",le)}},D=async()=>{if(y)try{await T({type:"manual"}),await E(0,50)}catch($){console.error("Sync failed:",$)}},P=async()=>{if(!y||!(m!=null&&m.hasNextPage))return;const $=o*(m.pageSize||50);await E($,m.pageSize||50),a(o+1)},R=($,le)=>{le==="view"?t==null||t($):le==="import"&&(e==null||e($))},O=$=>{const le=f.filter(X=>c.has(X.meetingId));console.log(`Bulk ${$} for ${le.length} meetings:`,le)},z=$=>{const le=new Set(c);le.has($)?le.delete($):le.add($),u(le)},ae=$=>{if(!$)return"Unknown";const le=Math.floor($/60),X=$%60;return le>0?`${le}h ${X}m`:`${X}m`},Z=$=>new Date($).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),G=$=>{const le={completed:{color:"bg-green-100 text-green-800",label:"Processed"},processing:{color:"bg-yellow-100 text-yellow-800",label:"Processing"},failed:{color:"bg-red-100 text-red-800",label:"Failed"},pending:{color:"bg-gray-100 text-gray-800",label:"Pending"}},X=le[$]||le.pending;return l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${X.color}`,children:X.label})};return y?l.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Meeting Library"}),l.jsxs("p",{className:"text-gray-600",children:[k.length," meetings available",c.size>0&&` (${c.size} selected)`]})]}),l.jsxs("div",{className:"flex gap-2",children:[c.size>0&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>O("import"),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:["Import Selected (",c.size,")"]}),l.jsx("button",{onClick:()=>u(new Set),className:"text-gray-600 hover:text-gray-800 px-3 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors text-sm",children:"Clear Selection"})]}),l.jsxs("button",{onClick:D,disabled:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:bg-gray-300",children:[l.jsx(t0,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),"Sync Latest"]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Cu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search meetings, participants, or content...",value:n,onChange:$=>r($.target.value),onKeyPress:$=>$.key==="Enter"&&I(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nv,{className:"h-4 w-4 text-gray-400"}),l.jsxs("select",{value:i,onChange:$=>s($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"all",children:"All Meetings"}),l.jsx("option",{value:"recent",children:"Recent (7 days)"}),l.jsx("option",{value:"processed",children:"Processed"}),l.jsx("option",{value:"with-actions",children:"With Action Items"})]}),l.jsx("button",{onClick:I,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Search"})]})]}),p&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[l.jsx("p",{className:"text-red-800",children:p}),l.jsx("button",{onClick:()=>b(null),className:"text-sm text-red-600 hover:text-red-800 mt-2",children:"Dismiss"})]}),g&&k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(t0,{className:"h-8 w-8 text-blue-500 mx-auto mb-4 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Loading meetings..."})]}),!g&&k.length>0&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:k.map($=>l.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${c.has($.meetingId)?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",checked:c.has($.meetingId),onChange:()=>z($.meetingId),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1 mr-3"}),l.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2 flex-1",children:$.title})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[G($.status),l.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:l.jsx(Lq,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ta,{className:"h-4 w-4 mr-2"}),Z($.meetingDate)]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(xs,{className:"h-4 w-4 mr-2"}),ae($.durationMinutes)]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(ba,{className:"h-4 w-4 mr-2"}),$.participants.length," participants"]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:$.summary}),l.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs text-gray-500",children:[$.actionItems.length>0&&l.jsxs("div",{className:"flex items-center",children:[l.jsx(Zs,{className:"h-3 w-3 mr-1"}),$.actionItems.length," action items"]}),$.usedInSows&&l.jsxs("div",{className:"flex items-center text-blue-600",children:[l.jsx(mi,{className:"h-3 w-3 mr-1"}),"Used in ",$.sowUsageCount," SOW",$.sowUsageCount>1?"s":""]})]}),$.tags.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[$.tags.slice(0,3).map(le=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:le},le)),$.tags.length>3&&l.jsxs("span",{className:"text-xs text-gray-500",children:["+",$.tags.length-3," more"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>R($,"view"),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded text-sm hover:bg-gray-200 transition-colors flex items-center justify-center",children:[l.jsx(NE,{className:"h-3 w-3 mr-1"}),"View"]}),l.jsxs("button",{onClick:()=>R($,"import"),disabled:$.status!=="completed",className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[l.jsx(mi,{className:"h-3 w-3 mr-1"}),"Use in SOW"]})]})]},$.meetingId))}),!g&&k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ta,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No meetings found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:n||i!=="all"?"Try adjusting your search or filters":"No meetings have been synced yet"}),!n&&i==="all"&&l.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Sync Meetings"})]}),m&&m.totalPages>1&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(m.pageNumber-1)*m.pageSize+1," to"," ",Math.min(m.pageNumber*m.pageSize,m.totalCount)," of"," ",m.totalCount," meetings"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>a(Math.max(1,o-1)),disabled:!m.hasPreviousPage,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Aq,{className:"h-4 w-4"})}),l.jsxs("span",{className:"px-3 py-2 text-sm",children:["Page ",m.pageNumber," of ",m.totalPages]}),l.jsx("button",{onClick:P,disabled:!m.hasNextPage||g,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Nq,{className:"h-4 w-4"})})]})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ta,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Connection"}),l.jsx("p",{className:"text-gray-600",children:"Please connect your Fireflies account first."})]})},Bpe=()=>{const[t]=M.useState("test-user-123"),{connection:e,isConnected:n,meetings:r}=zo(),{testConnection:i,syncMeetings:s}=uA(),o=()=>{console.log("Connection established successfully!")},a=async()=>{if(e){const u=await i();console.log("Connection test result:",u)}},c=async()=>{if(e)try{const u=await s({type:"manual"});console.log("Sync result:",u)}catch(u){console.error("Sync failed:",u)}};return l.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Fireflies Integration Test Page"}),l.jsx("p",{className:"text-gray-600",children:"Test the complete Fireflies integration workflow"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Connection Status"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[l.jsx("div",{className:`text-2xl font-bold ${n?"text-green-600":"text-gray-400"}`,children:n?"Connected":"Disconnected"}),l.jsx("p",{className:"text-sm text-gray-600",children:n?"Connected":"Not Connected"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),l.jsx("p",{className:"text-sm text-gray-600",children:"Meetings Loaded"})]}),l.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(e==null?void 0:e.dailyApiCallsUsed)||0}),l.jsx("p",{className:"text-sm text-gray-600",children:"API Calls Used"})]})]}),n&&l.jsxs("div",{className:"mt-4 flex gap-2",children:[l.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Test Connection"}),l.jsx("button",{onClick:c,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Test Sync"})]})]}),!n&&l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Step 1: Connect to Fireflies"}),l.jsx(Fpe,{userId:t,onConnectionEstablished:o})]}),n&&l.jsxs("div",{className:"bg-white rounded-lg shadow border",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Step 2: Browse Meetings"}),l.jsx("p",{className:"text-gray-600",children:"View and manage your Fireflies meetings"})]}),l.jsx(Upe,{onMeetingSelect:u=>{console.log("Selected meeting:",u)},onImportToSow:u=>{console.log("Import to SOW:",u),alert(`Would import "${u.title}" to SOW`)}})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Debug Information"}),l.jsxs("details",{className:"cursor-pointer",children:[l.jsx("summary",{className:"text-sm font-medium text-gray-700 mb-2",children:"Click to view store state"}),l.jsx("pre",{className:"text-xs bg-white p-4 rounded border overflow-auto max-h-96",children:JSON.stringify({connection:e?{...e,apiKeyEncrypted:"[HIDDEN]"}:null,isConnected:n,meetingsCount:r.length,sampleMeeting:r[0]||null},null,2)})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-6 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Testing Checklist"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"Backend is running (Azure Functions on port 7071)"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"Frontend is running (Vite dev server on port 5173)"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"Database is connected and tables are created"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"Fireflies API key is valid and working"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"Connection can be established successfully"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"Meetings can be synced and displayed"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"Search and filtering works correctly"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2"}),l.jsx("span",{children:"SOW import workflow is functional"})]})]})]})]})},Hpe=()=>{const t=pu(),e=Gi(),[n,r]=M.useState("processing"),[i,s]=M.useState("Connecting to HubSpot...");return M.useEffect(()=>{const o=new URLSearchParams(t.search),a=o.get("code"),c=o.get("error"),u=o.get("error_description");if(c){r("error"),s(u||"HubSpot authorization failed.");return}if(!a){r("error"),s("Missing authorization code from HubSpot.");return}(async()=>{try{sessionStorage.setItem("hubspot_oauth_code",a),await hc.exchangeCode(a),r("success"),s("Connected to HubSpot. Redirecting to Settings...");const f=setTimeout(()=>e("/settings"),1200);return()=>clearTimeout(f)}catch(f){r("error"),s((f==null?void 0:f.message)||"Failed to connect to HubSpot")}})()},[t.search,e]),l.jsx("div",{className:"min-h-full p-6 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg shadow p-6 max-w-md w-full text-center",children:[n==="processing"&&l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx(gs,{className:"w-6 h-6 animate-spin text-blue-600"}),l.jsx("p",{className:"text-gray-700",children:i})]}),n==="success"&&l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx(na,{className:"w-6 h-6 text-green-600"}),l.jsx("p",{className:"text-gray-700",children:i})]}),n==="error"&&l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx(Jc,{className:"w-6 h-6 text-red-600"}),l.jsx("p",{className:"text-gray-700",children:i}),l.jsx("button",{onClick:()=>e("/settings"),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Back to Settings"})]})]})})},zpe=()=>{const{isAuthenticated:t,isLoading:e,error:n,login:r,clearError:i}=EE();if(t)return l.jsx(Vd,{to:"/auth-gate",replace:!0});const s=async()=>{i(),await r()};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-indigo-600 rounded-xl flex items-center justify-center mb-6",children:l.jsx(ES,{className:"h-8 w-8 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to ZigOS"}),l.jsx("p",{className:"text-gray-600",children:"Sign in with your Microsoft account to continue"})]}),n&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Authentication Error"}),l.jsx("p",{className:"mt-1 text-sm text-red-700",children:n})]})]})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsx("button",{onClick:s,disabled:e,className:"w-full flex items-center justify-center gap-3 bg-[#0078d4] hover:bg-[#106ebe] disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200",children:e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),l.jsx("span",{children:"Signing in..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M23.73 12.27h-11.5v-2.54h11.5c.14.84.21 1.69.21 2.54s-.07 1.7-.21 2.54zm-11.5 2.54v-5.08h-2.73v5.08h2.73zm-5.46 0v-5.08h-2.73v5.08h2.73zm-5.46 0v-5.08h-2.31v5.08h2.31z"})}),l.jsx("span",{children:"Sign in with Microsoft"}),l.jsx(L6,{className:"h-5 w-5"})]})}),l.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[l.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"Secure access to your workspace"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsx(Mq,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{children:"Enterprise-grade security"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsx(ba,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{children:"Team collaboration tools"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[l.jsx(ES,{className:"h-4 w-4 text-indigo-500"}),l.jsx("span",{children:"Single sign-on with Microsoft"})]})]})]})]}),l.jsx("div",{className:"text-center text-sm text-gray-500",children:l.jsxs("p",{children:["By signing in, you agree to our"," ",l.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-500",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-500",children:"Privacy Policy"})]})})]})})},Gpe=()=>{const{user:t,isAuthenticated:e,isLoading:n,error:r,registerUser:i,clearError:s}=EE(),o=Gi(),[a,c]=M.useState({name:"",email:""}),[u,f]=M.useState(!1),[g,p]=M.useState(null);if(!e)return l.jsx(Vd,{to:"/login",replace:!0});M.useEffect(()=>{t&&c({name:t.name||"",email:t.email||""})},[t]);const m=x=>{const{name:C,value:b}=x.target;c(E=>({...E,[C]:b})),g&&p(null),r&&s()},y=async x=>{if(x.preventDefault(),!a.name.trim()||!a.email.trim()){p("Please fill in all required fields");return}f(!0),p(null);try{await i({name:a.name.trim(),email:a.email.trim()})?o("/login",{replace:!0,state:{message:"Registration successful! Please sign in again to continue."}}):p("Registration failed. Please try again.")}catch(C){p(C.message||"An error occurred during registration")}finally{f(!1)}};return n?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-green-600 rounded-xl flex items-center justify-center mb-6",children:l.jsx(Vq,{className:"h-8 w-8 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Complete Your Setup"}),l.jsx("p",{className:"text-gray-600",children:"Confirm your information to create your ZigOS account"})]}),(r||g)&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),l.jsx("p",{className:"mt-1 text-sm text-red-700",children:r||g})]})]})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx($6,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:m,required:!0,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Enter your full name"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(B6,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:m,required:!0,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors",placeholder:"Enter your email address"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This email will be used for your ZigOS account"})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full flex items-center justify-center gap-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),l.jsx("span",{children:"Creating Account..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Qp,{className:"h-5 w-5"}),l.jsx("span",{children:"Complete Setup"}),l.jsx(L6,{className:"h-5 w-5"})]})})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Account Information"}),l.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"This information was retrieved from your Microsoft account. You can modify it if needed before creating your ZigOS account."})]})]})})})]}),l.jsx("div",{className:"text-center text-sm text-gray-500",children:l.jsxs("p",{children:["By creating an account, you agree to our"," ",l.jsx("a",{href:"#",className:"text-green-600 hover:text-green-500",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"#",className:"text-green-600 hover:text-green-500",children:"Privacy Policy"})]})})]})})},$pe=()=>{const{isAuthenticated:t,isLoading:e,verifyUser:n}=EE(),[r,i]=M.useState("checking"),[s,o]=M.useState(null);return M.useEffect(()=>{!e&&t&&(async()=>{if(t)try{i("checking"),(await n()).exists?i("exists"):i("not-exists")}catch(c){console.error("User verification failed:",c),o(c.message||"Failed to verify user"),i("error")}})()},[t,e,n]),!e&&!t?l.jsx(Vd,{to:"/login",replace:!0}):r==="exists"?l.jsx(Vd,{to:"/dashboard",replace:!0}):r==="not-exists"?l.jsx(Vd,{to:"/signup",replace:!0}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-blue-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-indigo-600 rounded-xl flex items-center justify-center mb-6",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r==="checking"?"Verifying your account...":"Setting up your workspace..."}),l.jsx("p",{className:"text-gray-600 mb-8",children:r==="checking"?"Please wait while we check your account status.":"We're preparing your ZigOS experience."}),s&&l.jsx("div",{className:"max-w-md mx-auto bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Verification Error"}),l.jsx("p",{className:"mt-1 text-sm text-red-700",children:s})]})]})}),l.jsxs("div",{className:"flex justify-center space-x-2 mt-8",children:[l.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-pulse"}),l.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),l.jsx("div",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})};function Vpe(){const t=pu(),e=Gi(),n=()=>{const i=t.pathname;return i==="/"?"dashboard":i.slice(1).split("/")[0]},r=i=>{e(`/${i==="dashboard"?"":i}`)};return l.jsxs(gk,{children:[l.jsx(xn,{path:"/login",element:l.jsx(zpe,{})}),l.jsx(xn,{path:"/signup",element:l.jsx(Gpe,{})}),l.jsx(xn,{path:"/auth-gate",element:l.jsx($pe,{})}),l.jsx(xn,{path:"/*",element:l.jsx("div",{className:"h-screen flex flex-col bg-gray-50",children:l.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[l.jsx(Wq,{onViewChange:r,currentView:n()}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:l.jsxs(gk,{children:[l.jsx(xn,{path:"/",element:l.jsx("div",{className:"h-full",children:l.jsx(Dne,{})})}),l.jsx(xn,{path:"/sow",element:l.jsx("div",{className:"h-full flex",children:l.jsx(hK,{})})}),l.jsx(xn,{path:"/sow/:id",element:l.jsx("div",{className:"h-full",children:l.jsx(yte,{})})}),l.jsx(xn,{path:"/repository",element:l.jsx("div",{className:"h-full",children:l.jsx(xte,{})})}),l.jsx(xn,{path:"/project/:id",element:l.jsx("div",{className:"h-full",children:l.jsx(Lne,{})})}),l.jsx(xn,{path:"/project/:id/manage",element:l.jsx("div",{className:"h-full",children:l.jsx(Tpe,{})})}),l.jsx(xn,{path:"/approvals",element:l.jsx("div",{className:"h-full",children:l.jsx(Cte,{})})}),l.jsx(xn,{path:"/settings",element:l.jsx("div",{className:"h-full",children:l.jsx(Ine,{})})}),l.jsx(xn,{path:"/fireflies",element:l.jsx("div",{className:"min-h-full p-4",children:l.jsx(Dpe,{})})}),l.jsx(xn,{path:"/meetings",element:l.jsx("div",{className:"min-h-full p-4",children:l.jsx(Ppe,{})})}),l.jsx(xn,{path:"/architecture",element:l.jsx("div",{className:"min-h-full p-4",children:l.jsx(jpe,{})})}),l.jsx(xn,{path:"/fireflies-test",element:l.jsx("div",{className:"min-h-full p-4",children:l.jsx(Bpe,{})})}),l.jsx(xn,{path:"/oauth/hubspot/callback",element:l.jsx("div",{className:"min-h-full p-4",children:l.jsx(Hpe,{})})})]})})]})})})]})}const sw=new yE(cV);sw.initialize().then(()=>{sw.handleRedirectPromise().then(t=>{t&&console.log("MSAL: Redirect authentication successful:",t)}).catch(t=>{console.error("MSAL: Redirect authentication failed:",t)}),LD(document.getElementById("root")).render(l.jsx(bq,{children:l.jsx(iH,{children:l.jsx(rV,{instance:sw,children:l.jsx(xq,{children:l.jsx(Vpe,{})})})})}))}).catch(t=>{console.error("MSAL: Failed to initialize:",t)});
